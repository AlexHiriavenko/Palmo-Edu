(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Gd(e,t){const n=new Set(e.split(","));return r=>n.has(r)}const dt={},hi=[],bn=()=>{},wI=()=>!1,tu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Yd=e=>e.startsWith("onUpdate:"),Rt=Object.assign,Qd=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},II=Object.prototype.hasOwnProperty,Ke=(e,t)=>II.call(e,t),Se=Array.isArray,mi=e=>nu(e)==="[object Map]",ey=e=>nu(e)==="[object Set]",Ve=e=>typeof e=="function",vt=e=>typeof e=="string",rs=e=>typeof e=="symbol",ot=e=>e!==null&&typeof e=="object",ty=e=>(ot(e)||Ve(e))&&Ve(e.then)&&Ve(e.catch),ny=Object.prototype.toString,nu=e=>ny.call(e),TI=e=>nu(e).slice(8,-1),ry=e=>nu(e)==="[object Object]",Xd=e=>vt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,wo=Gd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ru=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},SI=/-(\w)/g,hn=ru(e=>e.replace(SI,(t,n)=>n?n.toUpperCase():"")),AI=/\B([A-Z])/g,Hs=ru(e=>e.replace(AI,"-$1").toLowerCase()),yr=ru(e=>e.charAt(0).toUpperCase()+e.slice(1)),lc=ru(e=>e?`on${yr(e)}`:""),Jr=(e,t)=>!Object.is(e,t),uc=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},sy=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},CI=e=>{const t=parseFloat(e);return isNaN(t)?e:t},RI=e=>{const t=vt(e)?Number(e):NaN;return isNaN(t)?e:t};let Om;const iy=()=>Om||(Om=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jd(e){if(Se(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=vt(r)?VI(r):Jd(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(vt(e)||ot(e))return e}const PI=/;(?![^(]*\))/g,kI=/:([^]+)/,xI=/\/\*[^]*?\*\//g;function VI(e){const t={};return e.replace(xI,"").split(PI).forEach(n=>{if(n){const r=n.split(kI);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Lo(e){let t="";if(vt(e))t=e;else if(Se(e))for(let n=0;n<e.length;n++){const r=Lo(e[n]);r&&(t+=r+" ")}else if(ot(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const OI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",DI=Gd(OI);function oy(e){return!!e||e===""}const ay=e=>!!(e&&e.__v_isRef===!0),_t=e=>vt(e)?e:e==null?"":Se(e)||ot(e)&&(e.toString===ny||!Ve(e.toString))?ay(e)?_t(e.value):JSON.stringify(e,ly,2):String(e),ly=(e,t)=>ay(t)?ly(e,t.value):mi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[cc(r,i)+" =>"]=s,n),{})}:ey(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>cc(n))}:rs(t)?cc(t):ot(t)&&!Se(t)&&!ry(t)?String(t):t,cc=(e,t="")=>{var n;return rs(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let un;class uy{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=un,!t&&un&&(this.index=(un.scopes||(un.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=un;try{return un=this,t()}finally{un=n}}}on(){un=this}off(){un=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function ua(e){return new uy(e)}function NI(e,t=un){t&&t.active&&t.effects.push(e)}function cy(){return un}function Tn(e){un&&un.cleanups.push(e)}let Ts;class Zd{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,NI(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ss();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(LI(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),is()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Wr,n=Ts;try{return Wr=!0,Ts=this,this._runnings++,Dm(this),this.fn()}finally{Nm(this),this._runnings--,Ts=n,Wr=t}}stop(){this.active&&(Dm(this),Nm(this),this.onStop&&this.onStop(),this.active=!1)}}function LI(e){return e.value}function Dm(e){e._trackId++,e._depsLength=0}function Nm(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)dy(e.deps[t],e);e.deps.length=e._depsLength}}function dy(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Wr=!0,Wc=0;const fy=[];function ss(){fy.push(Wr),Wr=!1}function is(){const e=fy.pop();Wr=e===void 0?!0:e}function ef(){Wc++}function tf(){for(Wc--;!Wc&&Kc.length;)Kc.shift()()}function hy(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&dy(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Kc=[];function my(e,t,n){ef();for(const r of e.keys()){let s;r._dirtyLevel<t&&(s??(s=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(s??(s=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Kc.push(r.scheduler)))}tf()}const gy=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},El=new WeakMap,Ss=Symbol(""),Gc=Symbol("");function sn(e,t,n){if(Wr&&Ts){let r=El.get(e);r||El.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=gy(()=>r.delete(n))),hy(Ts,s)}}function ar(e,t,n,r,s,i){const o=El.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&Se(e)){const u=Number(r);o.forEach((c,d)=>{(d==="length"||!rs(d)&&d>=u)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":Se(e)?Xd(n)&&a.push(o.get("length")):(a.push(o.get(Ss)),mi(e)&&a.push(o.get(Gc)));break;case"delete":Se(e)||(a.push(o.get(Ss)),mi(e)&&a.push(o.get(Gc)));break;case"set":mi(e)&&a.push(o.get(Ss));break}ef();for(const u of a)u&&my(u,4);tf()}function MI(e,t){const n=El.get(e);return n&&n.get(t)}const FI=Gd("__proto__,__v_isRef,__isVue"),vy=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(rs)),Lm=BI();function BI(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=_e(this);for(let i=0,o=this.length;i<o;i++)sn(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(_e)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ss(),ef();const r=_e(this)[t].apply(this,n);return tf(),is(),r}}),e}function UI(e){rs(e)||(e=String(e));const t=_e(this);return sn(t,"has",e),t.hasOwnProperty(e)}class py{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?ZI:Ey:i?by:_y).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Se(t);if(!s){if(o&&Ke(Lm,n))return Reflect.get(Lm,n,r);if(n==="hasOwnProperty")return UI}const a=Reflect.get(t,n,r);return(rs(n)?vy.has(n):FI(n))||(s||sn(t,"get",n),i)?a:Xe(a)?o&&Xd(n)?a:a.value:ot(a)?s?ca(a):Bt(a):a}}class yy extends py{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const u=Os(i);if(!bi(r)&&!Os(r)&&(i=_e(i),r=_e(r)),!Se(t)&&Xe(i)&&!Xe(r))return u?!1:(i.value=r,!0)}const o=Se(t)&&Xd(n)?Number(n)<t.length:Ke(t,n),a=Reflect.set(t,n,r,s);return t===_e(s)&&(o?Jr(r,i)&&ar(t,"set",n,r):ar(t,"add",n,r)),a}deleteProperty(t,n){const r=Ke(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&ar(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!rs(n)||!vy.has(n))&&sn(t,"has",n),r}ownKeys(t){return sn(t,"iterate",Se(t)?"length":Ss),Reflect.ownKeys(t)}}class $I extends py{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const jI=new yy,HI=new $I,zI=new yy(!0);const nf=e=>e,su=e=>Reflect.getPrototypeOf(e);function Ha(e,t,n=!1,r=!1){e=e.__v_raw;const s=_e(e),i=_e(t);n||(Jr(t,i)&&sn(s,"get",t),sn(s,"get",i));const{has:o}=su(s),a=r?nf:n?of:Mo;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function za(e,t=!1){const n=this.__v_raw,r=_e(n),s=_e(e);return t||(Jr(e,s)&&sn(r,"has",e),sn(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function qa(e,t=!1){return e=e.__v_raw,!t&&sn(_e(e),"iterate",Ss),Reflect.get(e,"size",e)}function Mm(e,t=!1){!t&&!bi(e)&&!Os(e)&&(e=_e(e));const n=_e(this);return su(n).has.call(n,e)||(n.add(e),ar(n,"add",e,e)),this}function Fm(e,t,n=!1){!n&&!bi(t)&&!Os(t)&&(t=_e(t));const r=_e(this),{has:s,get:i}=su(r);let o=s.call(r,e);o||(e=_e(e),o=s.call(r,e));const a=i.call(r,e);return r.set(e,t),o?Jr(t,a)&&ar(r,"set",e,t):ar(r,"add",e,t),this}function Bm(e){const t=_e(this),{has:n,get:r}=su(t);let s=n.call(t,e);s||(e=_e(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&ar(t,"delete",e,void 0),i}function Um(){const e=_e(this),t=e.size!==0,n=e.clear();return t&&ar(e,"clear",void 0,void 0),n}function Wa(e,t){return function(r,s){const i=this,o=i.__v_raw,a=_e(o),u=t?nf:e?of:Mo;return!e&&sn(a,"iterate",Ss),o.forEach((c,d)=>r.call(s,u(c),u(d),i))}}function Ka(e,t,n){return function(...r){const s=this.__v_raw,i=_e(s),o=mi(i),a=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,c=s[e](...r),d=n?nf:t?of:Mo;return!t&&sn(i,"iterate",u?Gc:Ss),{next(){const{value:f,done:g}=c.next();return g?{value:f,done:g}:{value:a?[d(f[0]),d(f[1])]:d(f),done:g}},[Symbol.iterator](){return this}}}}function Rr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function qI(){const e={get(i){return Ha(this,i)},get size(){return qa(this)},has:za,add:Mm,set:Fm,delete:Bm,clear:Um,forEach:Wa(!1,!1)},t={get(i){return Ha(this,i,!1,!0)},get size(){return qa(this)},has:za,add(i){return Mm.call(this,i,!0)},set(i,o){return Fm.call(this,i,o,!0)},delete:Bm,clear:Um,forEach:Wa(!1,!0)},n={get(i){return Ha(this,i,!0)},get size(){return qa(this,!0)},has(i){return za.call(this,i,!0)},add:Rr("add"),set:Rr("set"),delete:Rr("delete"),clear:Rr("clear"),forEach:Wa(!0,!1)},r={get(i){return Ha(this,i,!0,!0)},get size(){return qa(this,!0)},has(i){return za.call(this,i,!0)},add:Rr("add"),set:Rr("set"),delete:Rr("delete"),clear:Rr("clear"),forEach:Wa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Ka(i,!1,!1),n[i]=Ka(i,!0,!1),t[i]=Ka(i,!1,!0),r[i]=Ka(i,!0,!0)}),[e,n,t,r]}const[WI,KI,GI,YI]=qI();function rf(e,t){const n=t?e?YI:GI:e?KI:WI;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Ke(n,s)&&s in r?n:r,s,i)}const QI={get:rf(!1,!1)},XI={get:rf(!1,!0)},JI={get:rf(!0,!1)};const _y=new WeakMap,by=new WeakMap,Ey=new WeakMap,ZI=new WeakMap;function eT(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tT(e){return e.__v_skip||!Object.isExtensible(e)?0:eT(TI(e))}function Bt(e){return Os(e)?e:sf(e,!1,jI,QI,_y)}function wy(e){return sf(e,!1,zI,XI,by)}function ca(e){return sf(e,!0,HI,JI,Ey)}function sf(e,t,n,r,s){if(!ot(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=tT(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function As(e){return Os(e)?As(e.__v_raw):!!(e&&e.__v_isReactive)}function Os(e){return!!(e&&e.__v_isReadonly)}function bi(e){return!!(e&&e.__v_isShallow)}function Iy(e){return e?!!e.__v_raw:!1}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}function iu(e){return Object.isExtensible(e)&&sy(e,"__v_skip",!0),e}const Mo=e=>ot(e)?Bt(e):e,of=e=>ot(e)?ca(e):e;class Ty{constructor(t,n,r,s){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Zd(()=>t(this._value),()=>ol(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=_e(this);return(!t._cacheable||t.effect.dirty)&&Jr(t._value,t._value=t.effect.run())&&ol(t,4),Sy(t),t.effect._dirtyLevel>=2&&ol(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function nT(e,t,n=!1){let r,s;const i=Ve(e);return i?(r=e,s=bn):(r=e.get,s=e.set),new Ty(r,s,i||!s,n)}function Sy(e){var t;Wr&&Ts&&(e=_e(e),hy(Ts,(t=e.dep)!=null?t:e.dep=gy(()=>e.dep=void 0,e instanceof Ty?e:void 0)))}function ol(e,t=4,n,r){e=_e(e);const s=e.dep;s&&my(s,t)}function Xe(e){return!!(e&&e.__v_isRef===!0)}function Z(e){return Ay(e,!1)}function Ce(e){return Ay(e,!0)}function Ay(e,t){return Xe(e)?e:new rT(e,t)}class rT{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:_e(t),this._value=n?t:Mo(t)}get value(){return Sy(this),this._value}set value(t){const n=this.__v_isShallow||bi(t)||Os(t);t=n?t:_e(t),Jr(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=n?t:Mo(t),ol(this,4))}}function le(e){return Xe(e)?e.value:e}const sT={get:(e,t,n)=>le(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Xe(s)&&!Xe(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Cy(e){return As(e)?e:new Proxy(e,sT)}function ou(e){const t=Se(e)?new Array(e.length):{};for(const n in e)t[n]=Ry(e,n);return t}class iT{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return MI(_e(this._object),this._key)}}class oT{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ie(e,t,n){return Xe(e)?e:Ve(e)?new oT(e):ot(e)&&arguments.length>1?Ry(e,t,n):Z(e)}function Ry(e,t,n){const r=e[t];return Xe(r)?r:new iT(e,t,n)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Kr(e,t,n,r){try{return r?e(...r):e()}catch(s){au(s,t,n)}}function wn(e,t,n,r){if(Ve(e)){const s=Kr(e,t,n,r);return s&&ty(s)&&s.catch(i=>{au(i,t,n)}),s}if(Se(e)){const s=[];for(let i=0;i<e.length;i++)s.push(wn(e[i],t,n,r));return s}}function au(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const c=i.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,o,a)===!1)return}i=i.parent}const u=t.appContext.config.errorHandler;if(u){ss(),Kr(u,null,10,[e,o,a]),is();return}}aT(e,n,s,r)}function aT(e,t,n,r=!0){console.error(e)}let Fo=!1,Yc=!1;const Yt=[];let Bn=0;const gi=[];let Dr=null,bs=0;const Py=Promise.resolve();let af=null;function Nt(e){const t=af||Py;return e?t.then(this?e.bind(this):e):t}function lT(e){let t=Bn+1,n=Yt.length;for(;t<n;){const r=t+n>>>1,s=Yt[r],i=Bo(s);i<e||i===e&&s.pre?t=r+1:n=r}return t}function lf(e){(!Yt.length||!Yt.includes(e,Fo&&e.allowRecurse?Bn+1:Bn))&&(e.id==null?Yt.push(e):Yt.splice(lT(e.id),0,e),ky())}function ky(){!Fo&&!Yc&&(Yc=!0,af=Py.then(Vy))}function uT(e){const t=Yt.indexOf(e);t>Bn&&Yt.splice(t,1)}function cT(e){Se(e)?gi.push(...e):(!Dr||!Dr.includes(e,e.allowRecurse?bs+1:bs))&&gi.push(e),ky()}function $m(e,t,n=Fo?Bn+1:0){for(;n<Yt.length;n++){const r=Yt[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Yt.splice(n,1),n--,r()}}}function xy(e){if(gi.length){const t=[...new Set(gi)].sort((n,r)=>Bo(n)-Bo(r));if(gi.length=0,Dr){Dr.push(...t);return}for(Dr=t,bs=0;bs<Dr.length;bs++){const n=Dr[bs];n.active!==!1&&n()}Dr=null,bs=0}}const Bo=e=>e.id==null?1/0:e.id,dT=(e,t)=>{const n=Bo(e)-Bo(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Vy(e){Yc=!1,Fo=!0,Yt.sort(dT);try{for(Bn=0;Bn<Yt.length;Bn++){const t=Yt[Bn];t&&t.active!==!1&&Kr(t,t.i,t.i?15:14)}}finally{Bn=0,Yt.length=0,xy(),Fo=!1,af=null,(Yt.length||gi.length)&&Vy()}}let Tt=null,Oy=null;function wl(e){const t=Tt;return Tt=e,Oy=e&&e.type.__scopeId||null,t}function re(e,t=Tt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Zm(-1);const i=wl(t);let o;try{o=e(...s)}finally{wl(i),r._d&&Zm(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Pt(e,t){if(Tt===null)return e;const n=fu(Tt),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,u=dt]=t[s];i&&(Ve(i)&&(i={mounted:i,updated:i}),i.deep&&Fr(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:u}))}return e}function gs(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let u=a.dir[r];u&&(ss(),wn(u,n,8,[e.el,a,e,t]),is())}}const Nr=Symbol("_leaveCb"),Ga=Symbol("_enterCb");function Dy(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mn(()=>{e.isMounted=!0}),on(()=>{e.isUnmounting=!0}),e}const yn=[Function,Array],Ny={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yn,onEnter:yn,onAfterEnter:yn,onEnterCancelled:yn,onBeforeLeave:yn,onLeave:yn,onAfterLeave:yn,onLeaveCancelled:yn,onBeforeAppear:yn,onAppear:yn,onAfterAppear:yn,onAppearCancelled:yn},Ly=e=>{const t=e.subTree;return t.component?Ly(t.component):t},fT={name:"BaseTransition",props:Ny,setup(e,{slots:t}){const n=Ef(),r=Dy();return()=>{const s=t.default&&uf(t.default(),!0);if(!s||!s.length)return;let i=s[0];if(s.length>1){for(const g of s)if(g.type!==nn){i=g;break}}const o=_e(e),{mode:a}=o;if(r.isLeaving)return dc(i);const u=jm(i);if(!u)return dc(i);let c=Uo(u,o,r,n,g=>c=g);Ei(u,c);const d=n.subTree,f=d&&jm(d);if(f&&f.type!==nn&&!Es(u,f)&&Ly(n).type!==nn){const g=Uo(f,o,r,n);if(Ei(f,g),a==="out-in"&&u.type!==nn)return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},dc(i);a==="in-out"&&u.type!==nn&&(g.delayLeave=(m,p,_)=>{const T=My(r,f);T[String(f.key)]=f,m[Nr]=()=>{p(),m[Nr]=void 0,delete c.delayedLeave},c.delayedLeave=_})}return i}}},hT=fT;function My(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Uo(e,t,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:g,onLeave:m,onAfterLeave:p,onLeaveCancelled:_,onBeforeAppear:T,onAppear:x,onAfterAppear:O,onAppearCancelled:N}=t,M=String(e.key),L=My(n,e),D=(b,C)=>{b&&wn(b,r,9,C)},A=(b,C)=>{const R=C[1];D(b,C),Se(b)?b.every(I=>I.length<=1)&&R():b.length<=1&&R()},y={mode:o,persisted:a,beforeEnter(b){let C=u;if(!n.isMounted)if(i)C=T||u;else return;b[Nr]&&b[Nr](!0);const R=L[M];R&&Es(e,R)&&R.el[Nr]&&R.el[Nr](),D(C,[b])},enter(b){let C=c,R=d,I=f;if(!n.isMounted)if(i)C=x||c,R=O||d,I=N||f;else return;let w=!1;const z=b[Ga]=ce=>{w||(w=!0,ce?D(I,[b]):D(R,[b]),y.delayedLeave&&y.delayedLeave(),b[Ga]=void 0)};C?A(C,[b,z]):z()},leave(b,C){const R=String(e.key);if(b[Ga]&&b[Ga](!0),n.isUnmounting)return C();D(g,[b]);let I=!1;const w=b[Nr]=z=>{I||(I=!0,C(),z?D(_,[b]):D(p,[b]),b[Nr]=void 0,L[R]===e&&delete L[R])};L[R]=e,m?A(m,[b,w]):w()},clone(b){const C=Uo(b,t,n,r,s);return s&&s(C),C}};return y}function dc(e){if(lu(e))return e=dr(e),e.children=null,e}function jm(e){if(!lu(e))return e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Ve(n.default))return n.default()}}function Ei(e,t){e.shapeFlag&6&&e.component?Ei(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function uf(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ue?(o.patchFlag&128&&s++,r=r.concat(uf(o.children,t,a))):(t||o.type!==nn)&&r.push(a!=null?dr(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function cf(e,t){return Ve(e)?Rt({name:e.name},t,{setup:e}):e}const Io=e=>!!e.type.__asyncLoader,lu=e=>e.type.__isKeepAlive;function Fy(e,t){By(e,"a",t)}function df(e,t){By(e,"da",t)}function By(e,t,n=Vt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(uu(t,r,n),n){let s=n.parent;for(;s&&s.parent;)lu(s.parent.vnode)&&mT(r,t,n,s),s=s.parent}}function mT(e,t,n,r){const s=uu(t,e,r,!0);$y(()=>{Qd(r[t],s)},n)}function uu(e,t,n=Vt,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{ss();const a=fa(n),u=wn(t,n,e,o);return a(),is(),u});return r?s.unshift(i):s.push(i),i}}const _r=e=>(t,n=Vt)=>{(!du||e==="sp")&&uu(e,(...r)=>t(...r),n)},ff=_r("bm"),mn=_r("m"),Uy=_r("bu"),hf=_r("u"),on=_r("bum"),$y=_r("um"),gT=_r("sp"),vT=_r("rtg"),pT=_r("rtc");function yT(e,t=Vt){uu("ec",e,t)}const mf="components",_T="directives";function wi(e,t){return gf(mf,e,!0,t)||e}const bT=Symbol.for("v-ndc");function ET(e){return vt(e)&&gf(mf,e,!1)||e}function Kn(e){return gf(_T,e)}function gf(e,t,n=!0,r=!1){const s=Tt||Vt;if(s){const i=s.type;if(e===mf){const a=fS(i,!1);if(a&&(a===t||a===hn(t)||a===yr(hn(t))))return i}const o=Hm(s[e]||i[e],t)||Hm(s.appContext[e],t);return!o&&r?i:o}}function Hm(e,t){return e&&(e[t]||e[hn(t)]||e[yr(hn(t))])}function $o(e,t,n,r){let s;const i=n;if(Se(e)||vt(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i)}else if(ot(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,u=o.length;a<u;a++){const c=o[a];s[a]=t(e[c],c,a,i)}}else s=[];return s}function jy(e,t,n={},r,s){if(Tt.isCE||Tt.parent&&Io(Tt.parent)&&Tt.parent.isCE)return t!=="default"&&(n.name=t),E("slot",n,r&&r());let i=e[t];i&&i._c&&(i._d=!1),Oe();const o=i&&Hy(i(n)),a=Ge(Ue,{key:(n.key||o&&o.key||`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Hy(e){return e.some(t=>Tl(t)?!(t.type===nn||t.type===Ue&&!Hy(t.children)):!0)?e:null}const Qc=e=>e?u_(e)?fu(e):Qc(e.parent):null,To=Rt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Qc(e.parent),$root:e=>Qc(e.root),$emit:e=>e.emit,$options:e=>vf(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,lf(e.update)}),$nextTick:e=>e.n||(e.n=Nt.bind(e.proxy)),$watch:e=>KT.bind(e)}),fc=(e,t)=>e!==dt&&!e.__isScriptSetup&&Ke(e,t),wT={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:u}=e;let c;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(fc(r,t))return o[t]=1,r[t];if(s!==dt&&Ke(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&Ke(c,t))return o[t]=3,i[t];if(n!==dt&&Ke(n,t))return o[t]=4,n[t];Xc&&(o[t]=0)}}const d=To[t];let f,g;if(d)return t==="$attrs"&&sn(e.attrs,"get",""),d(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==dt&&Ke(n,t))return o[t]=4,n[t];if(g=u.config.globalProperties,Ke(g,t))return g[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return fc(s,t)?(s[t]=n,!0):r!==dt&&Ke(r,t)?(r[t]=n,!0):Ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==dt&&Ke(e,o)||fc(t,o)||(a=i[0])&&Ke(a,o)||Ke(r,o)||Ke(To,o)||Ke(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ke(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function zm(e){return Se(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Xc=!0;function IT(e){const t=vf(e),n=e.proxy,r=e.ctx;Xc=!1,t.beforeCreate&&qm(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:u,inject:c,created:d,beforeMount:f,mounted:g,beforeUpdate:m,updated:p,activated:_,deactivated:T,beforeDestroy:x,beforeUnmount:O,destroyed:N,unmounted:M,render:L,renderTracked:D,renderTriggered:A,errorCaptured:y,serverPrefetch:b,expose:C,inheritAttrs:R,components:I,directives:w,filters:z}=t;if(c&&TT(c,r,null),o)for(const se in o){const oe=o[se];Ve(oe)&&(r[se]=oe.bind(n))}if(s){const se=s.call(n,n);ot(se)&&(e.data=Bt(se))}if(Xc=!0,i)for(const se in i){const oe=i[se],Be=Ve(oe)?oe.bind(n,n):Ve(oe.get)?oe.get.bind(n,n):bn,ae=!Ve(oe)&&Ve(oe.set)?oe.set.bind(n):bn,G=k({get:Be,set:ae});Object.defineProperty(r,se,{enumerable:!0,configurable:!0,get:()=>G.value,set:fe=>G.value=fe})}if(a)for(const se in a)zy(a[se],r,n,se);if(u){const se=Ve(u)?u.call(n):u;Reflect.ownKeys(se).forEach(oe=>{wt(oe,se[oe])})}d&&qm(d,e,"c");function de(se,oe){Se(oe)?oe.forEach(Be=>se(Be.bind(n))):oe&&se(oe.bind(n))}if(de(ff,f),de(mn,g),de(Uy,m),de(hf,p),de(Fy,_),de(df,T),de(yT,y),de(pT,D),de(vT,A),de(on,O),de($y,M),de(gT,b),Se(C))if(C.length){const se=e.exposed||(e.exposed={});C.forEach(oe=>{Object.defineProperty(se,oe,{get:()=>n[oe],set:Be=>n[oe]=Be})})}else e.exposed||(e.exposed={});L&&e.render===bn&&(e.render=L),R!=null&&(e.inheritAttrs=R),I&&(e.components=I),w&&(e.directives=w)}function TT(e,t,n=bn){Se(e)&&(e=Jc(e));for(const r in e){const s=e[r];let i;ot(s)?"default"in s?i=qe(s.from||r,s.default,!0):i=qe(s.from||r):i=qe(s),Xe(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function qm(e,t,n){wn(Se(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function zy(e,t,n,r){const s=r.includes(".")?i_(n,r):()=>n[r];if(vt(e)){const i=t[e];Ve(i)&&Te(s,i)}else if(Ve(e))Te(s,e.bind(n));else if(ot(e))if(Se(e))e.forEach(i=>zy(i,t,n,r));else{const i=Ve(e.handler)?e.handler.bind(n):t[e.handler];Ve(i)&&Te(s,i,e)}}function vf(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let u;return a?u=a:!s.length&&!n&&!r?u=t:(u={},s.length&&s.forEach(c=>Il(u,c,o,!0)),Il(u,t,o)),ot(t)&&i.set(t,u),u}function Il(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Il(e,i,n,!0),s&&s.forEach(o=>Il(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=ST[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const ST={data:Wm,props:Km,emits:Km,methods:go,computed:go,beforeCreate:en,created:en,beforeMount:en,mounted:en,beforeUpdate:en,updated:en,beforeDestroy:en,beforeUnmount:en,destroyed:en,unmounted:en,activated:en,deactivated:en,errorCaptured:en,serverPrefetch:en,components:go,directives:go,watch:CT,provide:Wm,inject:AT};function Wm(e,t){return t?e?function(){return Rt(Ve(e)?e.call(this,this):e,Ve(t)?t.call(this,this):t)}:t:e}function AT(e,t){return go(Jc(e),Jc(t))}function Jc(e){if(Se(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function en(e,t){return e?[...new Set([].concat(e,t))]:t}function go(e,t){return e?Rt(Object.create(null),e,t):t}function Km(e,t){return e?Se(e)&&Se(t)?[...new Set([...e,...t])]:Rt(Object.create(null),zm(e),zm(t??{})):t}function CT(e,t){if(!e)return t;if(!t)return e;const n=Rt(Object.create(null),e);for(const r in t)n[r]=en(e[r],t[r]);return n}function qy(){return{app:null,config:{isNativeTag:wI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let RT=0;function PT(e,t){return function(r,s=null){Ve(r)||(r=Rt({},r)),s!=null&&!ot(s)&&(s=null);const i=qy(),o=new WeakSet;let a=!1;const u=i.app={_uid:RT++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:mS,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&Ve(c.install)?(o.add(c),c.install(u,...d)):Ve(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,f){if(!a){const g=E(r,s);return g.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(g,c):e(g,c,f),a=!0,u._container=c,c.__vue_app__=u,fu(g.component)}},unmount(){a&&(e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=Cs;Cs=u;try{return c()}finally{Cs=d}}};return u}}let Cs=null;function wt(e,t){if(Vt){let n=Vt.provides;const r=Vt.parent&&Vt.parent.provides;r===n&&(n=Vt.provides=Object.create(r)),n[e]=t}}function qe(e,t,n=!1){const r=Vt||Tt;if(r||Cs){const s=Cs?Cs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Ve(t)?t.call(r&&r.proxy):t}}function kT(){return!!(Vt||Tt||Cs)}const Wy={},Ky=()=>Object.create(Wy),Gy=e=>Object.getPrototypeOf(e)===Wy;function xT(e,t,n,r=!1){const s={},i=Ky();e.propsDefaults=Object.create(null),Yy(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:wy(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function VT(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=_e(s),[u]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let f=0;f<d.length;f++){let g=d[f];if(cu(e.emitsOptions,g))continue;const m=t[g];if(u)if(Ke(i,g))m!==i[g]&&(i[g]=m,c=!0);else{const p=hn(g);s[p]=Zc(u,a,p,m,e,!1)}else m!==i[g]&&(i[g]=m,c=!0)}}}else{Yy(e,t,s,i)&&(c=!0);let d;for(const f in a)(!t||!Ke(t,f)&&((d=Hs(f))===f||!Ke(t,d)))&&(u?n&&(n[f]!==void 0||n[d]!==void 0)&&(s[f]=Zc(u,a,f,void 0,e,!0)):delete s[f]);if(i!==a)for(const f in i)(!t||!Ke(t,f))&&(delete i[f],c=!0)}c&&ar(e.attrs,"set","")}function Yy(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let u in t){if(wo(u))continue;const c=t[u];let d;s&&Ke(s,d=hn(u))?!i||!i.includes(d)?n[d]=c:(a||(a={}))[d]=c:cu(e.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,o=!0)}if(i){const u=_e(n),c=a||dt;for(let d=0;d<i.length;d++){const f=i[d];n[f]=Zc(s,u,f,c[f],e,!Ke(c,f))}}return o}function Zc(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=Ke(o,"default");if(a&&r===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&Ve(u)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const d=fa(s);r=c[n]=u.call(null,t),d()}}else r=u}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Hs(n))&&(r=!0))}return r}const OT=new WeakMap;function Qy(e,t,n=!1){const r=n?OT:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let u=!1;if(!Ve(e)){const d=f=>{u=!0;const[g,m]=Qy(f,t,!0);Rt(o,g),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!u)return ot(e)&&r.set(e,hi),hi;if(Se(i))for(let d=0;d<i.length;d++){const f=hn(i[d]);Gm(f)&&(o[f]=dt)}else if(i)for(const d in i){const f=hn(d);if(Gm(f)){const g=i[d],m=o[f]=Se(g)||Ve(g)?{type:g}:Rt({},g),p=m.type;let _=!1,T=!0;if(Se(p))for(let x=0;x<p.length;++x){const O=p[x],N=Ve(O)&&O.name;if(N==="Boolean"){_=!0;break}else N==="String"&&(T=!1)}else _=Ve(p)&&p.name==="Boolean";m[0]=_,m[1]=T,(_||Ke(m,"default"))&&a.push(f)}}const c=[o,a];return ot(e)&&r.set(e,c),c}function Gm(e){return e[0]!=="$"&&!wo(e)}const Xy=e=>e[0]==="_"||e==="$stable",pf=e=>Se(e)?e.map(Fn):[Fn(e)],DT=(e,t,n)=>{if(t._n)return t;const r=re((...s)=>pf(t(...s)),n);return r._c=!1,r},Jy=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Xy(s))continue;const i=e[s];if(Ve(i))t[s]=DT(s,i,r);else if(i!=null){const o=pf(i);t[s]=()=>o}}},Zy=(e,t)=>{const n=pf(t);e.slots.default=()=>n},e_=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},NT=(e,t,n)=>{const r=e.slots=Ky();if(e.vnode.shapeFlag&32){const s=t._;s?(e_(r,t,n),n&&sy(r,"_",s,!0)):Jy(t,r)}else t&&Zy(e,t)},LT=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=dt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:e_(s,t,n):(i=!t.$stable,Jy(t,s)),o=t}else t&&(Zy(e,t),o={default:1});if(i)for(const a in s)!Xy(a)&&o[a]==null&&delete s[a]};function ed(e,t,n,r,s=!1){if(Se(e)){e.forEach((g,m)=>ed(g,t&&(Se(t)?t[m]:t),n,r,s));return}if(Io(r)&&!s)return;const i=r.shapeFlag&4?fu(r.component):r.el,o=s?null:i,{i:a,r:u}=e,c=t&&t.r,d=a.refs===dt?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==u&&(vt(c)?(d[c]=null,Ke(f,c)&&(f[c]=null)):Xe(c)&&(c.value=null)),Ve(u))Kr(u,a,12,[o,d]);else{const g=vt(u),m=Xe(u);if(g||m){const p=()=>{if(e.f){const _=g?Ke(f,u)?f[u]:d[u]:u.value;s?Se(_)&&Qd(_,i):Se(_)?_.includes(i)||_.push(i):g?(d[u]=[i],Ke(f,u)&&(f[u]=d[u])):(u.value=[i],e.k&&(d[e.k]=u.value))}else g?(d[u]=o,Ke(f,u)&&(f[u]=o)):m&&(u.value=o,e.k&&(d[e.k]=o))};o?(p.id=-1,tn(p,n)):p()}}}const t_=Symbol("_vte"),MT=e=>e.__isTeleport,So=e=>e&&(e.disabled||e.disabled===""),Ym=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Qm=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,td=(e,t)=>{const n=e&&e.to;return vt(n)?t?t(n):null:n},FT={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,i,o,a,u,c){const{mc:d,pc:f,pbc:g,o:{insert:m,querySelector:p,createText:_,createComment:T}}=c,x=So(t.props);let{shapeFlag:O,children:N,dynamicChildren:M}=t;if(e==null){const L=t.el=_(""),D=t.anchor=_("");m(L,n,r),m(D,n,r);const A=t.target=td(t.props,p),y=r_(A,t,_,m);A&&(o==="svg"||Ym(A)?o="svg":(o==="mathml"||Qm(A))&&(o="mathml"));const b=(C,R)=>{O&16&&d(N,C,R,s,i,o,a,u)};x?b(n,D):A&&b(A,y)}else{t.el=e.el,t.targetStart=e.targetStart;const L=t.anchor=e.anchor,D=t.target=e.target,A=t.targetAnchor=e.targetAnchor,y=So(e.props),b=y?n:D,C=y?L:A;if(o==="svg"||Ym(D)?o="svg":(o==="mathml"||Qm(D))&&(o="mathml"),M?(g(e.dynamicChildren,M,b,s,i,o,a),yf(e,t,!0)):u||f(e,t,b,C,s,i,o,a,!1),x)y?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Ya(t,n,L,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const R=t.target=td(t.props,p);R&&Ya(t,R,null,c,0)}else y&&Ya(t,D,A,c,1)}n_(t)},remove(e,t,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:u,targetStart:c,targetAnchor:d,target:f,props:g}=e;if(f&&(s(c),s(d)),i&&s(u),o&16){const m=i||!So(g);for(let p=0;p<a.length;p++){const _=a[p];r(_,t,n,m,!!_.dynamicChildren)}}},move:Ya,hydrate:BT};function Ya(e,t,n,{o:{insert:r},m:s},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:u,children:c,props:d}=e,f=i===2;if(f&&r(o,t,n),(!f||So(d))&&u&16)for(let g=0;g<c.length;g++)s(c[g],t,n,2);f&&r(a,t,n)}function BT(e,t,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:u,insert:c,createText:d}},f){const g=t.target=td(t.props,u);if(g){const m=g._lpa||g.firstChild;if(t.shapeFlag&16)if(So(t.props))t.anchor=f(o(e),t,a(e),n,r,s,i),t.targetStart=m,t.targetAnchor=m&&o(m);else{t.anchor=o(e);let p=m;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")t.targetStart=p;else if(p.data==="teleport anchor"){t.targetAnchor=p,g._lpa=t.targetAnchor&&o(t.targetAnchor);break}}p=o(p)}t.targetAnchor||r_(g,t,d,c),f(m&&o(m),t,g,n,r,s,i)}n_(t)}return t.anchor&&o(t.anchor)}const UT=FT;function n_(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function r_(e,t,n,r){const s=t.targetStart=n(""),i=t.targetAnchor=n("");return s[t_]=i,e&&(r(s,e),r(i,e)),i}const tn=tS;function $T(e){return jT(e)}function jT(e,t){const n=iy();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:u,setText:c,setElementText:d,parentNode:f,nextSibling:g,setScopeId:m=bn,insertStaticContent:p}=e,_=(P,V,B,q=null,j=null,Q=null,ie=void 0,ee=null,ne=!!V.dynamicChildren)=>{if(P===V)return;P&&!Es(P,V)&&(q=U(P),fe(P,j,Q,!0),P=null),V.patchFlag===-2&&(ne=!1,V.dynamicChildren=null);const{type:K,ref:ue,shapeFlag:ye}=V;switch(K){case da:T(P,V,B,q);break;case nn:x(P,V,B,q);break;case gc:P==null&&O(V,B,q,ie);break;case Ue:I(P,V,B,q,j,Q,ie,ee,ne);break;default:ye&1?L(P,V,B,q,j,Q,ie,ee,ne):ye&6?w(P,V,B,q,j,Q,ie,ee,ne):(ye&64||ye&128)&&K.process(P,V,B,q,j,Q,ie,ee,ne,he)}ue!=null&&j&&ed(ue,P&&P.ref,Q,V||P,!V)},T=(P,V,B,q)=>{if(P==null)r(V.el=a(V.children),B,q);else{const j=V.el=P.el;V.children!==P.children&&c(j,V.children)}},x=(P,V,B,q)=>{P==null?r(V.el=u(V.children||""),B,q):V.el=P.el},O=(P,V,B,q)=>{[P.el,P.anchor]=p(P.children,V,B,q,P.el,P.anchor)},N=({el:P,anchor:V},B,q)=>{let j;for(;P&&P!==V;)j=g(P),r(P,B,q),P=j;r(V,B,q)},M=({el:P,anchor:V})=>{let B;for(;P&&P!==V;)B=g(P),s(P),P=B;s(V)},L=(P,V,B,q,j,Q,ie,ee,ne)=>{V.type==="svg"?ie="svg":V.type==="math"&&(ie="mathml"),P==null?D(V,B,q,j,Q,ie,ee,ne):b(P,V,j,Q,ie,ee,ne)},D=(P,V,B,q,j,Q,ie,ee)=>{let ne,K;const{props:ue,shapeFlag:ye,transition:pe,dirs:ve}=P;if(ne=P.el=o(P.type,Q,ue&&ue.is,ue),ye&8?d(ne,P.children):ye&16&&y(P.children,ne,null,q,j,hc(P,Q),ie,ee),ve&&gs(P,null,q,"created"),A(ne,P,P.scopeId,ie,q),ue){for(const Je in ue)Je!=="value"&&!wo(Je)&&i(ne,Je,null,ue[Je],Q,q);"value"in ue&&i(ne,"value",null,ue.value,Q),(K=ue.onVnodeBeforeMount)&&Mn(K,q,P)}ve&&gs(P,null,q,"beforeMount");const we=HT(j,pe);we&&pe.beforeEnter(ne),r(ne,V,B),((K=ue&&ue.onVnodeMounted)||we||ve)&&tn(()=>{K&&Mn(K,q,P),we&&pe.enter(ne),ve&&gs(P,null,q,"mounted")},j)},A=(P,V,B,q,j)=>{if(B&&m(P,B),q)for(let Q=0;Q<q.length;Q++)m(P,q[Q]);if(j){let Q=j.subTree;if(V===Q){const ie=j.vnode;A(P,ie,ie.scopeId,ie.slotScopeIds,j.parent)}}},y=(P,V,B,q,j,Q,ie,ee,ne=0)=>{for(let K=ne;K<P.length;K++){const ue=P[K]=ee?Lr(P[K]):Fn(P[K]);_(null,ue,V,B,q,j,Q,ie,ee)}},b=(P,V,B,q,j,Q,ie)=>{const ee=V.el=P.el;let{patchFlag:ne,dynamicChildren:K,dirs:ue}=V;ne|=P.patchFlag&16;const ye=P.props||dt,pe=V.props||dt;let ve;if(B&&vs(B,!1),(ve=pe.onVnodeBeforeUpdate)&&Mn(ve,B,V,P),ue&&gs(V,P,B,"beforeUpdate"),B&&vs(B,!0),(ye.innerHTML&&pe.innerHTML==null||ye.textContent&&pe.textContent==null)&&d(ee,""),K?C(P.dynamicChildren,K,ee,B,q,hc(V,j),Q):ie||oe(P,V,ee,null,B,q,hc(V,j),Q,!1),ne>0){if(ne&16)R(ee,ye,pe,B,j);else if(ne&2&&ye.class!==pe.class&&i(ee,"class",null,pe.class,j),ne&4&&i(ee,"style",ye.style,pe.style,j),ne&8){const we=V.dynamicProps;for(let Je=0;Je<we.length;Je++){const We=we[Je],pt=ye[We],an=pe[We];(an!==pt||We==="value")&&i(ee,We,pt,an,j,B)}}ne&1&&P.children!==V.children&&d(ee,V.children)}else!ie&&K==null&&R(ee,ye,pe,B,j);((ve=pe.onVnodeUpdated)||ue)&&tn(()=>{ve&&Mn(ve,B,V,P),ue&&gs(V,P,B,"updated")},q)},C=(P,V,B,q,j,Q,ie)=>{for(let ee=0;ee<V.length;ee++){const ne=P[ee],K=V[ee],ue=ne.el&&(ne.type===Ue||!Es(ne,K)||ne.shapeFlag&70)?f(ne.el):B;_(ne,K,ue,null,q,j,Q,ie,!0)}},R=(P,V,B,q,j)=>{if(V!==B){if(V!==dt)for(const Q in V)!wo(Q)&&!(Q in B)&&i(P,Q,V[Q],null,j,q);for(const Q in B){if(wo(Q))continue;const ie=B[Q],ee=V[Q];ie!==ee&&Q!=="value"&&i(P,Q,ee,ie,j,q)}"value"in B&&i(P,"value",V.value,B.value,j)}},I=(P,V,B,q,j,Q,ie,ee,ne)=>{const K=V.el=P?P.el:a(""),ue=V.anchor=P?P.anchor:a("");let{patchFlag:ye,dynamicChildren:pe,slotScopeIds:ve}=V;ve&&(ee=ee?ee.concat(ve):ve),P==null?(r(K,B,q),r(ue,B,q),y(V.children||[],B,ue,j,Q,ie,ee,ne)):ye>0&&ye&64&&pe&&P.dynamicChildren?(C(P.dynamicChildren,pe,B,j,Q,ie,ee),(V.key!=null||j&&V===j.subTree)&&yf(P,V,!0)):oe(P,V,B,ue,j,Q,ie,ee,ne)},w=(P,V,B,q,j,Q,ie,ee,ne)=>{V.slotScopeIds=ee,P==null?V.shapeFlag&512?j.ctx.activate(V,B,q,ie,ne):z(V,B,q,j,Q,ie,ne):ce(P,V,ne)},z=(P,V,B,q,j,Q,ie)=>{const ee=P.component=aS(P,q,j);if(lu(P)&&(ee.ctx.renderer=he),lS(ee,!1,ie),ee.asyncDep){if(j&&j.registerDep(ee,de,ie),!P.el){const ne=ee.subTree=E(nn);x(null,ne,V,B)}}else de(ee,P,V,B,j,Q,ie)},ce=(P,V,B)=>{const q=V.component=P.component;if(JT(P,V,B))if(q.asyncDep&&!q.asyncResolved){se(q,V,B);return}else q.next=V,uT(q.update),q.effect.dirty=!0,q.update();else V.el=P.el,q.vnode=V},de=(P,V,B,q,j,Q,ie)=>{const ee=()=>{if(P.isMounted){let{next:ue,bu:ye,u:pe,parent:ve,vnode:we}=P;{const vn=s_(P);if(vn){ue&&(ue.el=we.el,se(P,ue,ie)),vn.asyncDep.then(()=>{P.isUnmounted||ee()});return}}let Je=ue,We;vs(P,!1),ue?(ue.el=we.el,se(P,ue,ie)):ue=we,ye&&uc(ye),(We=ue.props&&ue.props.onVnodeBeforeUpdate)&&Mn(We,ve,ue,we),vs(P,!0);const pt=mc(P),an=P.subTree;P.subTree=pt,_(an,pt,f(an.el),U(an),P,j,Q),ue.el=pt.el,Je===null&&ZT(P,pt.el),pe&&tn(pe,j),(We=ue.props&&ue.props.onVnodeUpdated)&&tn(()=>Mn(We,ve,ue,we),j)}else{let ue;const{el:ye,props:pe}=V,{bm:ve,m:we,parent:Je}=P,We=Io(V);if(vs(P,!1),ve&&uc(ve),!We&&(ue=pe&&pe.onVnodeBeforeMount)&&Mn(ue,Je,V),vs(P,!0),ye&&tt){const pt=()=>{P.subTree=mc(P),tt(ye,P.subTree,P,j,null)};We?V.type.__asyncLoader().then(()=>!P.isUnmounted&&pt()):pt()}else{const pt=P.subTree=mc(P);_(null,pt,B,q,P,j,Q),V.el=pt.el}if(we&&tn(we,j),!We&&(ue=pe&&pe.onVnodeMounted)){const pt=V;tn(()=>Mn(ue,Je,pt),j)}(V.shapeFlag&256||Je&&Io(Je.vnode)&&Je.vnode.shapeFlag&256)&&P.a&&tn(P.a,j),P.isMounted=!0,V=B=q=null}},ne=P.effect=new Zd(ee,bn,()=>lf(K),P.scope),K=P.update=()=>{ne.dirty&&ne.run()};K.i=P,K.id=P.uid,vs(P,!0),K()},se=(P,V,B)=>{V.component=P;const q=P.vnode.props;P.vnode=V,P.next=null,VT(P,V.props,q,B),LT(P,V.children,B),ss(),$m(P),is()},oe=(P,V,B,q,j,Q,ie,ee,ne=!1)=>{const K=P&&P.children,ue=P?P.shapeFlag:0,ye=V.children,{patchFlag:pe,shapeFlag:ve}=V;if(pe>0){if(pe&128){ae(K,ye,B,q,j,Q,ie,ee,ne);return}else if(pe&256){Be(K,ye,B,q,j,Q,ie,ee,ne);return}}ve&8?(ue&16&&Pe(K,j,Q),ye!==K&&d(B,ye)):ue&16?ve&16?ae(K,ye,B,q,j,Q,ie,ee,ne):Pe(K,j,Q,!0):(ue&8&&d(B,""),ve&16&&y(ye,B,q,j,Q,ie,ee,ne))},Be=(P,V,B,q,j,Q,ie,ee,ne)=>{P=P||hi,V=V||hi;const K=P.length,ue=V.length,ye=Math.min(K,ue);let pe;for(pe=0;pe<ye;pe++){const ve=V[pe]=ne?Lr(V[pe]):Fn(V[pe]);_(P[pe],ve,B,null,j,Q,ie,ee,ne)}K>ue?Pe(P,j,Q,!0,!1,ye):y(V,B,q,j,Q,ie,ee,ne,ye)},ae=(P,V,B,q,j,Q,ie,ee,ne)=>{let K=0;const ue=V.length;let ye=P.length-1,pe=ue-1;for(;K<=ye&&K<=pe;){const ve=P[K],we=V[K]=ne?Lr(V[K]):Fn(V[K]);if(Es(ve,we))_(ve,we,B,null,j,Q,ie,ee,ne);else break;K++}for(;K<=ye&&K<=pe;){const ve=P[ye],we=V[pe]=ne?Lr(V[pe]):Fn(V[pe]);if(Es(ve,we))_(ve,we,B,null,j,Q,ie,ee,ne);else break;ye--,pe--}if(K>ye){if(K<=pe){const ve=pe+1,we=ve<ue?V[ve].el:q;for(;K<=pe;)_(null,V[K]=ne?Lr(V[K]):Fn(V[K]),B,we,j,Q,ie,ee,ne),K++}}else if(K>pe)for(;K<=ye;)fe(P[K],j,Q,!0),K++;else{const ve=K,we=K,Je=new Map;for(K=we;K<=pe;K++){const Jt=V[K]=ne?Lr(V[K]):Fn(V[K]);Jt.key!=null&&Je.set(Jt.key,K)}let We,pt=0;const an=pe-we+1;let vn=!1,Gi=0;const Tr=new Array(an);for(K=0;K<an;K++)Tr[K]=0;for(K=ve;K<=ye;K++){const Jt=P[K];if(pt>=an){fe(Jt,j,Q,!0);continue}let pn;if(Jt.key!=null)pn=Je.get(Jt.key);else for(We=we;We<=pe;We++)if(Tr[We-we]===0&&Es(Jt,V[We])){pn=We;break}pn===void 0?fe(Jt,j,Q,!0):(Tr[pn-we]=K+1,pn>=Gi?Gi=pn:vn=!0,_(Jt,V[pn],B,null,j,Q,ie,ee,ne),pt++)}const Qs=vn?zT(Tr):hi;for(We=Qs.length-1,K=an-1;K>=0;K--){const Jt=we+K,pn=V[Jt],Xs=Jt+1<ue?V[Jt+1].el:q;Tr[K]===0?_(null,pn,B,Xs,j,Q,ie,ee,ne):vn&&(We<0||K!==Qs[We]?G(pn,B,Xs,2):We--)}}},G=(P,V,B,q,j=null)=>{const{el:Q,type:ie,transition:ee,children:ne,shapeFlag:K}=P;if(K&6){G(P.component.subTree,V,B,q);return}if(K&128){P.suspense.move(V,B,q);return}if(K&64){ie.move(P,V,B,he);return}if(ie===Ue){r(Q,V,B);for(let ye=0;ye<ne.length;ye++)G(ne[ye],V,B,q);r(P.anchor,V,B);return}if(ie===gc){N(P,V,B);return}if(q!==2&&K&1&&ee)if(q===0)ee.beforeEnter(Q),r(Q,V,B),tn(()=>ee.enter(Q),j);else{const{leave:ye,delayLeave:pe,afterLeave:ve}=ee,we=()=>r(Q,V,B),Je=()=>{ye(Q,()=>{we(),ve&&ve()})};pe?pe(Q,we,Je):Je()}else r(Q,V,B)},fe=(P,V,B,q=!1,j=!1)=>{const{type:Q,props:ie,ref:ee,children:ne,dynamicChildren:K,shapeFlag:ue,patchFlag:ye,dirs:pe,cacheIndex:ve}=P;if(ye===-2&&(j=!1),ee!=null&&ed(ee,null,B,P,!0),ve!=null&&(V.renderCache[ve]=void 0),ue&256){V.ctx.deactivate(P);return}const we=ue&1&&pe,Je=!Io(P);let We;if(Je&&(We=ie&&ie.onVnodeBeforeUnmount)&&Mn(We,V,P),ue&6)ct(P.component,B,q);else{if(ue&128){P.suspense.unmount(B,q);return}we&&gs(P,null,V,"beforeUnmount"),ue&64?P.type.remove(P,V,B,he,q):K&&!K.hasOnce&&(Q!==Ue||ye>0&&ye&64)?Pe(K,V,B,!1,!0):(Q===Ue&&ye&384||!j&&ue&16)&&Pe(ne,V,B),q&&Le(P)}(Je&&(We=ie&&ie.onVnodeUnmounted)||we)&&tn(()=>{We&&Mn(We,V,P),we&&gs(P,null,V,"unmounted")},B)},Le=P=>{const{type:V,el:B,anchor:q,transition:j}=P;if(V===Ue){ht(B,q);return}if(V===gc){M(P);return}const Q=()=>{s(B),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(P.shapeFlag&1&&j&&!j.persisted){const{leave:ie,delayLeave:ee}=j,ne=()=>ie(B,Q);ee?ee(P.el,Q,ne):ne()}else Q()},ht=(P,V)=>{let B;for(;P!==V;)B=g(P),s(P),P=B;s(V)},ct=(P,V,B)=>{const{bum:q,scope:j,update:Q,subTree:ie,um:ee,m:ne,a:K}=P;Xm(ne),Xm(K),q&&uc(q),j.stop(),Q&&(Q.active=!1,fe(ie,P,V,B)),ee&&tn(ee,V),tn(()=>{P.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},Pe=(P,V,B,q=!1,j=!1,Q=0)=>{for(let ie=Q;ie<P.length;ie++)fe(P[ie],V,B,q,j)},U=P=>{if(P.shapeFlag&6)return U(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const V=g(P.anchor||P.el),B=V&&V[t_];return B?g(B):V};let X=!1;const Y=(P,V,B)=>{P==null?V._vnode&&fe(V._vnode,null,null,!0):_(V._vnode||null,P,V,null,null,null,B),V._vnode=P,X||(X=!0,$m(),xy(),X=!1)},he={p:_,um:fe,m:G,r:Le,mt:z,mc:y,pc:oe,pbc:C,n:U,o:e};let He,tt;return{render:Y,hydrate:He,createApp:PT(Y,He)}}function hc({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function vs({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function HT(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function yf(e,t,n=!1){const r=e.children,s=t.children;if(Se(r)&&Se(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Lr(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&yf(o,a)),a.type===da&&(a.el=o.el)}}function zT(e){const t=e.slice(),n=[0];let r,s,i,o,a;const u=e.length;for(r=0;r<u;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function s_(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:s_(t)}function Xm(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const qT=Symbol.for("v-scx"),WT=()=>qe(qT);function br(e,t){return _f(e,null,t)}const Qa={};function Te(e,t,n){return _f(e,t,n)}function _f(e,t,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=dt){if(t&&i){const D=t;t=(...A)=>{D(...A),L()}}const u=Vt,c=D=>r===!0?D:Fr(D,r===!1?1:void 0);let d,f=!1,g=!1;if(Xe(e)?(d=()=>e.value,f=bi(e)):As(e)?(d=()=>c(e),f=!0):Se(e)?(g=!0,f=e.some(D=>As(D)||bi(D)),d=()=>e.map(D=>{if(Xe(D))return D.value;if(As(D))return c(D);if(Ve(D))return Kr(D,u,2)})):Ve(e)?t?d=()=>Kr(e,u,2):d=()=>(m&&m(),wn(e,u,3,[p])):d=bn,t&&r){const D=d;d=()=>Fr(D())}let m,p=D=>{m=N.onStop=()=>{Kr(D,u,4),m=N.onStop=void 0}},_;if(du)if(p=bn,t?n&&wn(t,u,3,[d(),g?[]:void 0,p]):d(),s==="sync"){const D=WT();_=D.__watcherHandles||(D.__watcherHandles=[])}else return bn;let T=g?new Array(e.length).fill(Qa):Qa;const x=()=>{if(!(!N.active||!N.dirty))if(t){const D=N.run();(r||f||(g?D.some((A,y)=>Jr(A,T[y])):Jr(D,T)))&&(m&&m(),wn(t,u,3,[D,T===Qa?void 0:g&&T[0]===Qa?[]:T,p]),T=D)}else N.run()};x.allowRecurse=!!t;let O;s==="sync"?O=x:s==="post"?O=()=>tn(x,u&&u.suspense):(x.pre=!0,u&&(x.id=u.uid),O=()=>lf(x));const N=new Zd(d,bn,O),M=cy(),L=()=>{N.stop(),M&&Qd(M.effects,N)};return t?n?x():T=N.run():s==="post"?tn(N.run.bind(N),u&&u.suspense):N.run(),_&&_.push(L),L}function KT(e,t,n){const r=this.proxy,s=vt(e)?e.includes(".")?i_(r,e):()=>r[e]:e.bind(r,r);let i;Ve(t)?i=t:(i=t.handler,n=t);const o=fa(this),a=_f(s,i.bind(r),n);return o(),a}function i_(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Fr(e,t=1/0,n){if(t<=0||!ot(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Xe(e))Fr(e.value,t,n);else if(Se(e))for(let r=0;r<e.length;r++)Fr(e[r],t,n);else if(ey(e)||mi(e))e.forEach(r=>{Fr(r,t,n)});else if(ry(e)){for(const r in e)Fr(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Fr(e[r],t,n)}return e}const GT=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${hn(t)}Modifiers`]||e[`${Hs(t)}Modifiers`];function YT(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||dt;let s=n;const i=t.startsWith("update:"),o=i&&GT(r,t.slice(7));o&&(o.trim&&(s=n.map(d=>vt(d)?d.trim():d)),o.number&&(s=n.map(CI)));let a,u=r[a=lc(t)]||r[a=lc(hn(t))];!u&&i&&(u=r[a=lc(Hs(t))]),u&&wn(u,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,wn(c,e,6,s)}}function o_(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!Ve(e)){const u=c=>{const d=o_(c,t,!0);d&&(a=!0,Rt(o,d))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!a?(ot(e)&&r.set(e,null),null):(Se(i)?i.forEach(u=>o[u]=null):Rt(o,i),ot(e)&&r.set(e,o),o)}function cu(e,t){return!e||!tu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ke(e,t[0].toLowerCase()+t.slice(1))||Ke(e,Hs(t))||Ke(e,t))}function mc(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:u,render:c,renderCache:d,props:f,data:g,setupState:m,ctx:p,inheritAttrs:_}=e,T=wl(e);let x,O;try{if(n.shapeFlag&4){const M=s||r,L=M;x=Fn(c.call(L,M,d,f,m,g,p)),O=a}else{const M=t;x=Fn(M.length>1?M(f,{attrs:a,slots:o,emit:u}):M(f,null)),O=t.props?a:QT(a)}}catch(M){Ao.length=0,au(M,e,1),x=E(nn)}let N=x;if(O&&_!==!1){const M=Object.keys(O),{shapeFlag:L}=N;M.length&&L&7&&(i&&M.some(Yd)&&(O=XT(O,i)),N=dr(N,O,!1,!0))}return n.dirs&&(N=dr(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&(N.transition=n.transition),x=N,wl(T),x}const QT=e=>{let t;for(const n in e)(n==="class"||n==="style"||tu(n))&&((t||(t={}))[n]=e[n]);return t},XT=(e,t)=>{const n={};for(const r in e)(!Yd(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function JT(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:u}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Jm(r,o,c):!!o;if(u&8){const d=t.dynamicProps;for(let f=0;f<d.length;f++){const g=d[f];if(o[g]!==r[g]&&!cu(c,g))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Jm(r,o,c):!0:!!o;return!1}function Jm(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!cu(n,i))return!0}return!1}function ZT({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const eS=e=>e.__isSuspense;function tS(e,t){t&&t.pendingBranch?Se(e)?t.effects.push(...e):t.effects.push(e):cT(e)}const Ue=Symbol.for("v-fgt"),da=Symbol.for("v-txt"),nn=Symbol.for("v-cmt"),gc=Symbol.for("v-stc"),Ao=[];let fn=null;function Oe(e=!1){Ao.push(fn=e?null:[])}function nS(){Ao.pop(),fn=Ao[Ao.length-1]||null}let jo=1;function Zm(e){jo+=e,e<0&&fn&&(fn.hasOnce=!0)}function a_(e){return e.dynamicChildren=jo>0?fn||hi:null,nS(),jo>0&&fn&&fn.push(e),e}function En(e,t,n,r,s,i){return a_(At(e,t,n,r,s,i,!0))}function Ge(e,t,n,r,s){return a_(E(e,t,n,r,s,!0))}function Tl(e){return e?e.__v_isVNode===!0:!1}function Es(e,t){return e.type===t.type&&e.key===t.key}const l_=({key:e})=>e??null,al=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?vt(e)||Xe(e)||Ve(e)?{i:Tt,r:e,k:t,f:!!n}:e:null);function At(e,t=null,n=null,r=0,s=null,i=e===Ue?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&l_(t),ref:t&&al(t),scopeId:Oy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Tt};return a?(bf(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=vt(n)?8:16),jo>0&&!o&&fn&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&fn.push(u),u}const E=rS;function rS(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===bT)&&(e=nn),Tl(e)){const a=dr(e,t,!0);return n&&bf(a,n),jo>0&&!i&&fn&&(a.shapeFlag&6?fn[fn.indexOf(e)]=a:fn.push(a)),a.patchFlag=-2,a}if(hS(e)&&(e=e.__vccOpts),t){t=sS(t);let{class:a,style:u}=t;a&&!vt(a)&&(t.class=Lo(a)),ot(u)&&(Iy(u)&&!Se(u)&&(u=Rt({},u)),t.style=Jd(u))}const o=vt(e)?1:eS(e)?128:MT(e)?64:ot(e)?4:Ve(e)?2:0;return At(e,t,n,r,s,o,i,!0)}function sS(e){return e?Iy(e)||Gy(e)?Rt({},e):e:null}function dr(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:u}=e,c=t?Me(s||{},t):s,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&l_(c),ref:t&&t.ref?n&&i?Se(i)?i.concat(al(t)):[i,al(t)]:al(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ue?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dr(e.ssContent),ssFallback:e.ssFallback&&dr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&Ei(d,u.clone(d)),d}function Ze(e=" ",t=0){return E(da,null,e,t)}function xn(e="",t=!1){return t?(Oe(),Ge(nn,null,e)):E(nn,null,e)}function Fn(e){return e==null||typeof e=="boolean"?E(nn):Se(e)?E(Ue,null,e.slice()):typeof e=="object"?Lr(e):E(da,null,String(e))}function Lr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:dr(e)}function bf(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Se(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),bf(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Gy(t)?t._ctx=Tt:s===3&&Tt&&(Tt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ve(t)?(t={default:t,_ctx:Tt},n=32):(t=String(t),r&64?(n=16,t=[Ze(t)]):n=8);e.children=t,e.shapeFlag|=n}function Me(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Lo([t.class,r.class]));else if(s==="style")t.style=Jd([t.style,r.style]);else if(tu(s)){const i=t[s],o=r[s];o&&i!==o&&!(Se(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function Mn(e,t,n,r=null){wn(e,t,7,[n,r])}const iS=qy();let oS=0;function aS(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||iS,i={uid:oS++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new uy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qy(r,s),emitsOptions:o_(r,s),emit:null,emitted:null,propsDefaults:dt,inheritAttrs:r.inheritAttrs,ctx:dt,data:dt,props:dt,attrs:dt,slots:dt,refs:dt,setupState:dt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=YT.bind(null,i),e.ce&&e.ce(i),i}let Vt=null;const Ef=()=>Vt||Tt;let Sl,nd;{const e=iy(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Sl=t("__VUE_INSTANCE_SETTERS__",n=>Vt=n),nd=t("__VUE_SSR_SETTERS__",n=>du=n)}const fa=e=>{const t=Vt;return Sl(e),e.scope.on(),()=>{e.scope.off(),Sl(t)}},eg=()=>{Vt&&Vt.scope.off(),Sl(null)};function u_(e){return e.vnode.shapeFlag&4}let du=!1;function lS(e,t=!1,n=!1){t&&nd(t);const{props:r,children:s}=e.vnode,i=u_(e);xT(e,r,i,t),NT(e,s,n);const o=i?uS(e,t):void 0;return t&&nd(!1),o}function uS(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,wT);const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?dS(e):null,i=fa(e);ss();const o=Kr(r,e,0,[e.props,s]);if(is(),i(),ty(o)){if(o.then(eg,eg),t)return o.then(a=>{tg(e,a,t)}).catch(a=>{au(a,e,0)});e.asyncDep=o}else tg(e,o,t)}else c_(e,t)}function tg(e,t,n){Ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ot(t)&&(e.setupState=Cy(t)),c_(e,n)}let ng;function c_(e,t,n){const r=e.type;if(!e.render){if(!t&&ng&&!r.render){const s=r.template||vf(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:u}=r,c=Rt(Rt({isCustomElement:i,delimiters:a},o),u);r.render=ng(s,c)}}e.render=r.render||bn}{const s=fa(e);ss();try{IT(e)}finally{is(),s()}}}const cS={get(e,t){return sn(e,"get",""),e[t]}};function dS(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,cS),slots:e.slots,emit:e.emit,expose:t}}function fu(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Cy(iu(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in To)return To[n](e)},has(t,n){return n in t||n in To}})):e.proxy}function fS(e,t=!0){return Ve(e)?e.displayName||e.name:e.name||t&&e.__name}function hS(e){return Ve(e)&&"__vccOpts"in e}const k=(e,t)=>nT(e,t,du);function Gn(e,t,n){const r=arguments.length;return r===2?ot(t)&&!Se(t)?Tl(t)?E(e,null,[t]):E(e,t):E(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Tl(n)&&(n=[n]),E(e,t,n))}const mS="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const gS="http://www.w3.org/2000/svg",vS="http://www.w3.org/1998/Math/MathML",nr=typeof document<"u"?document:null,rg=nr&&nr.createElement("template"),pS={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?nr.createElementNS(gS,e):t==="mathml"?nr.createElementNS(vS,e):n?nr.createElement(e,{is:n}):nr.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>nr.createTextNode(e),createComment:e=>nr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>nr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{rg.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const a=rg.content;if(r==="svg"||r==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Pr="transition",lo="animation",Ii=Symbol("_vtc"),fr=(e,{slots:t})=>Gn(hT,f_(e),t);fr.displayName="Transition";const d_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},yS=fr.props=Rt({},Ny,d_),ps=(e,t=[])=>{Se(e)?e.forEach(n=>n(...t)):e&&e(...t)},sg=e=>e?Se(e)?e.some(t=>t.length>1):e.length>1:!1;function f_(e){const t={};for(const I in e)I in d_||(t[I]=e[I]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:c=o,appearToClass:d=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,p=_S(s),_=p&&p[0],T=p&&p[1],{onBeforeEnter:x,onEnter:O,onEnterCancelled:N,onLeave:M,onLeaveCancelled:L,onBeforeAppear:D=x,onAppear:A=O,onAppearCancelled:y=N}=t,b=(I,w,z)=>{Vr(I,w?d:a),Vr(I,w?c:o),z&&z()},C=(I,w)=>{I._isLeaving=!1,Vr(I,f),Vr(I,m),Vr(I,g),w&&w()},R=I=>(w,z)=>{const ce=I?A:O,de=()=>b(w,I,z);ps(ce,[w,de]),ig(()=>{Vr(w,I?u:i),tr(w,I?d:a),sg(ce)||og(w,r,_,de)})};return Rt(t,{onBeforeEnter(I){ps(x,[I]),tr(I,i),tr(I,o)},onBeforeAppear(I){ps(D,[I]),tr(I,u),tr(I,c)},onEnter:R(!1),onAppear:R(!0),onLeave(I,w){I._isLeaving=!0;const z=()=>C(I,w);tr(I,f),tr(I,g),m_(),ig(()=>{I._isLeaving&&(Vr(I,f),tr(I,m),sg(M)||og(I,r,T,z))}),ps(M,[I,z])},onEnterCancelled(I){b(I,!1),ps(N,[I])},onAppearCancelled(I){b(I,!0),ps(y,[I])},onLeaveCancelled(I){C(I),ps(L,[I])}})}function _S(e){if(e==null)return null;if(ot(e))return[vc(e.enter),vc(e.leave)];{const t=vc(e);return[t,t]}}function vc(e){return RI(e)}function tr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ii]||(e[Ii]=new Set)).add(t)}function Vr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Ii];n&&(n.delete(t),n.size||(e[Ii]=void 0))}function ig(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let bS=0;function og(e,t,n,r){const s=e._endId=++bS,i=()=>{s===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:u}=h_(e,t);if(!o)return r();const c=o+"end";let d=0;const f=()=>{e.removeEventListener(c,g),i()},g=m=>{m.target===e&&++d>=u&&f()};setTimeout(()=>{d<u&&f()},a+1),e.addEventListener(c,g)}function h_(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),s=r(`${Pr}Delay`),i=r(`${Pr}Duration`),o=ag(s,i),a=r(`${lo}Delay`),u=r(`${lo}Duration`),c=ag(a,u);let d=null,f=0,g=0;t===Pr?o>0&&(d=Pr,f=o,g=i.length):t===lo?c>0&&(d=lo,f=c,g=u.length):(f=Math.max(o,c),d=f>0?o>c?Pr:lo:null,g=d?d===Pr?i.length:u.length:0);const m=d===Pr&&/\b(transform|all)(,|$)/.test(r(`${Pr}Property`).toString());return{type:d,timeout:f,propCount:g,hasTransform:m}}function ag(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>lg(n)+lg(e[r])))}function lg(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function m_(){return document.body.offsetHeight}function ES(e,t,n){const r=e[Ii];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Al=Symbol("_vod"),g_=Symbol("_vsh"),os={beforeMount(e,{value:t},{transition:n}){e[Al]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):uo(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),uo(e,!0),r.enter(e)):r.leave(e,()=>{uo(e,!1)}):uo(e,t))},beforeUnmount(e,{value:t}){uo(e,t)}};function uo(e,t){e.style.display=t?e[Al]:"none",e[g_]=!t}const wS=Symbol(""),IS=/(^|;)\s*display\s*:/;function TS(e,t,n){const r=e.style,s=vt(n);let i=!1;if(n&&!s){if(t)if(vt(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ll(r,a,"")}else for(const o in t)n[o]==null&&ll(r,o,"");for(const o in n)o==="display"&&(i=!0),ll(r,o,n[o])}else if(s){if(t!==n){const o=r[wS];o&&(n+=";"+o),r.cssText=n,i=IS.test(n)}}else t&&e.removeAttribute("style");Al in e&&(e[Al]=i?r.display:"",e[g_]&&(r.display="none"))}const ug=/\s*!important$/;function ll(e,t,n){if(Se(n))n.forEach(r=>ll(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=SS(e,t);ug.test(n)?e.setProperty(Hs(r),n.replace(ug,""),"important"):e[r]=n}}const cg=["Webkit","Moz","ms"],pc={};function SS(e,t){const n=pc[t];if(n)return n;let r=hn(t);if(r!=="filter"&&r in e)return pc[t]=r;r=yr(r);for(let s=0;s<cg.length;s++){const i=cg[s]+r;if(i in e)return pc[t]=i}return t}const dg="http://www.w3.org/1999/xlink";function fg(e,t,n,r,s,i=DI(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(dg,t.slice(6,t.length)):e.setAttributeNS(dg,t,n):n==null||i&&!oy(n)?e.removeAttribute(t):e.setAttribute(t,i?"":rs(n)?String(n):n)}function AS(e,t,n,r){if(t==="innerHTML"||t==="textContent"){if(n==null)return;e[t]=n;return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?"":String(n);(o!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const o=typeof e[t];o==="boolean"?n=oy(n):n==null&&o==="string"?(n="",i=!0):o==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(t)}function CS(e,t,n,r){e.addEventListener(t,n,r)}function RS(e,t,n,r){e.removeEventListener(t,n,r)}const hg=Symbol("_vei");function PS(e,t,n,r,s=null){const i=e[hg]||(e[hg]={}),o=i[t];if(r&&o)o.value=r;else{const[a,u]=kS(t);if(r){const c=i[t]=OS(r,s);CS(e,a,c,u)}else o&&(RS(e,a,o,u),i[t]=void 0)}}const mg=/(?:Once|Passive|Capture)$/;function kS(e){let t;if(mg.test(e)){t={};let r;for(;r=e.match(mg);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Hs(e.slice(2)),t]}let yc=0;const xS=Promise.resolve(),VS=()=>yc||(xS.then(()=>yc=0),yc=Date.now());function OS(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;wn(DS(r,n.value),t,5,[r])};return n.value=e,n.attached=VS(),n}function DS(e,t){if(Se(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const gg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,NS=(e,t,n,r,s,i)=>{const o=s==="svg";t==="class"?ES(e,r,o):t==="style"?TS(e,n,r):tu(t)?Yd(t)||PS(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):LS(e,t,r,o))?(AS(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&fg(e,t,r,o,i,t!=="value")):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),fg(e,t,r,o))};function LS(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&gg(t)&&Ve(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return gg(t)&&vt(n)?!1:t in e}const v_=new WeakMap,p_=new WeakMap,Cl=Symbol("_moveCb"),vg=Symbol("_enterCb"),y_={name:"TransitionGroup",props:Rt({},yS,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Ef(),r=Dy();let s,i;return hf(()=>{if(!s.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!$S(s[0].el,n.vnode.el,o))return;s.forEach(FS),s.forEach(BS);const a=s.filter(US);m_(),a.forEach(u=>{const c=u.el,d=c.style;tr(c,o),d.transform=d.webkitTransform=d.transitionDuration="";const f=c[Cl]=g=>{g&&g.target!==c||(!g||/transform$/.test(g.propertyName))&&(c.removeEventListener("transitionend",f),c[Cl]=null,Vr(c,o))};c.addEventListener("transitionend",f)})}),()=>{const o=_e(e),a=f_(o);let u=o.tag||Ue;if(s=[],i)for(let c=0;c<i.length;c++){const d=i[c];d.el&&d.el instanceof Element&&(s.push(d),Ei(d,Uo(d,a,r,n)),v_.set(d,d.el.getBoundingClientRect()))}i=t.default?uf(t.default()):[];for(let c=0;c<i.length;c++){const d=i[c];d.key!=null&&Ei(d,Uo(d,a,r,n))}return E(u,null,i)}}},MS=e=>delete e.mode;y_.props;const wf=y_;function FS(e){const t=e.el;t[Cl]&&t[Cl](),t[vg]&&t[vg]()}function BS(e){p_.set(e,e.el.getBoundingClientRect())}function US(e){const t=v_.get(e),n=p_.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",e}}function $S(e,t,n){const r=e.cloneNode(),s=e[Ii];s&&s.forEach(a=>{a.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=h_(r);return i.removeChild(r),o}const jS=["ctrl","shift","alt","meta"],HS={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>jS.some(n=>e[`${n}Key`]&&!t.includes(n))},zS=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<t.length;o++){const a=HS[t[o]];if(a&&a(s,t))return}return e(s,...i)})},qS=Rt({patchProp:NS},pS);let pg;function WS(){return pg||(pg=$T(qS))}const KS=(...e)=>{const t=WS().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=YS(r);if(!s)return;const i=t._component;!Ve(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,GS(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function GS(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function YS(e){return vt(e)?document.querySelector(e):e}function Ds(e,t){let n;function r(){n=ua(),n.run(()=>t.length?t(()=>{n==null||n.stop(),r()}):t())}Te(e,s=>{s&&!n?r():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),Tn(()=>{n==null||n.stop()})}const it=typeof window<"u",If=it&&"IntersectionObserver"in window,QS=it&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function __(e,t,n){const r=t.length-1;if(r<0)return e===void 0?n:e;for(let s=0;s<r;s++){if(e==null)return n;e=e[t[s]]}return e==null||e[t[r]]===void 0?n:e[t[r]]}function hu(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>hu(e[r],t[r]))}function rd(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),__(e,t.split("."),n))}function co(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const s=t(e,n);return typeof s>"u"?n:s}if(typeof t=="string")return rd(e,t,n);if(Array.isArray(t))return __(e,t,n);if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}function ci(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,r)=>t+r)}function ke(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function Rl(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function b_(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const yg=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),_g=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function E_(e){return Object.keys(e)}function _c(e,t){return t.every(n=>e.hasOwnProperty(n))}function w_(e,t){const n={},r=new Set(Object.keys(e));for(const s of t)r.has(s)&&(n[s]=e[s]);return n}function bg(e,t,n){const r=Object.create(null),s=Object.create(null);for(const i in e)t.some(o=>o instanceof RegExp?o.test(i):o===i)&&!(n!=null&&n.some(o=>o===i))?r[i]=e[i]:s[i]=e[i];return[r,s]}function Mi(e,t){const n={...e};return t.forEach(r=>delete n[r]),n}function XS(e,t){const n={};return t.forEach(r=>n[r]=e[r]),n}const I_=/^on[^a-z]/,Tf=e=>I_.test(e),JS=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function ZS(e){const[t,n]=bg(e,[I_]),r=Mi(t,JS),[s,i]=bg(n,["class","style","id",/^data-/]);return Object.assign(s,t),Object.assign(i,r),[s,i]}function Rs(e){return e==null?[]:Array.isArray(e)?e:[e]}function Ns(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function Eg(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function wg(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function eA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<e.length;)n.push(e.substr(r,t)),r+=t;return n}function Qt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const s in e)r[s]=e[s];for(const s in t){const i=e[s],o=t[s];if(Rl(i)&&Rl(o)){r[s]=Qt(i,o,n);continue}if(Array.isArray(i)&&Array.isArray(o)&&n){r[s]=n(i,o);continue}r[s]=o}return r}function T_(e){return e.map(t=>t.type===Ue?T_(t.children):t).flat()}function Ps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Ps.cache.has(e))return Ps.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Ps.cache.set(e,t),t}Ps.cache=new Map;function di(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>di(e,n)).flat(1);if(t.suspense)return di(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>di(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return di(e,t.component.subTree).flat(1)}return[]}function Sf(e){const t=Bt({}),n=k(e);return br(()=>{for(const r in n.value)t[r]=n.value[r]},{flush:"sync"}),ou(t)}function Pl(e,t){return e.includes(t)}function S_(e){return e[2].toLowerCase()+e.slice(3)}const In=()=>[Function,Array];function Ig(e,t){return t="on"+yr(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function tA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e))for(const s of e)s(...n);else typeof e=="function"&&e(...n)}function Ho(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function A_(e,t,n){let r,s=e.indexOf(document.activeElement);const i=t==="next"?1:-1;do s+=i,r=e[s];while((!r||r.offsetParent==null||!((n==null?void 0:n(r))??!0))&&s<e.length&&s>=0);return r}function Co(e,t){var r,s,i,o;const n=Ho(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((r=n[0])==null||r.focus());else if(t==="first")(s=n[0])==null||s.focus();else if(t==="last")(i=n.at(-1))==null||i.focus();else if(typeof t=="number")(o=n[t])==null||o.focus();else{const a=A_(n,t);a?a.focus():Co(e,t==="next"?"first":"last")}}function nA(e,t){if(!(it&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function rA(e,t){if(!it||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function sA(e,t){const n=e.clientX,r=e.clientY,s=t.getBoundingClientRect(),i=s.left,o=s.top,a=s.right,u=s.bottom;return n>=i&&n<=a&&r>=o&&r<=u}function sd(){const e=Ce(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>b_(e.value)}),t}const C_=["top","bottom"],iA=["start","end","left","right"];function id(e,t){let[n,r]=e.split(" ");return r||(r=Pl(C_,n)?"start":Pl(iA,n)?"top":"center"),{side:Tg(n,t),align:Tg(r,t)}}function Tg(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function bc(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function Ec(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function Sg(e){return{side:e.align,align:e.side}}function Ag(e){return Pl(C_,e.side)?"y":"x"}class ks{constructor(t){let{x:n,y:r,width:s,height:i}=t;this.x=n,this.y=r,this.width=s,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Cg(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function R_(e){return Array.isArray(e)?new ks({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function Af(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let s,i,o,a,u;if(r.startsWith("matrix3d("))s=r.slice(9,-1).split(/, /),i=+s[0],o=+s[5],a=+s[12],u=+s[13];else if(r.startsWith("matrix("))s=r.slice(7,-1).split(/, /),i=+s[0],o=+s[3],a=+s[4],u=+s[5];else return new ks(t);const c=n.transformOrigin,d=t.x-a-(1-i)*parseFloat(c),f=t.y-u-(1-o)*parseFloat(c.slice(c.indexOf(" ")+1)),g=i?t.width/i:e.offsetWidth+1,m=o?t.height/o:e.offsetHeight+1;return new ks({x:d,y:f,width:g,height:m})}else return new ks(t)}function ws(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(s=>{r.onfinish=()=>{s(r)}})),r}const ul=new WeakMap;function oA(e,t){Object.keys(t).forEach(n=>{if(Tf(n)){const r=S_(n),s=ul.get(e);if(t[n]==null)s==null||s.forEach(i=>{const[o,a]=i;o===r&&(e.removeEventListener(r,a),s.delete(i))});else if(!s||![...s].some(i=>i[0]===r&&i[1]===t[n])){e.addEventListener(r,t[n]);const i=s||new Set;i.add([r,t[n]]),ul.has(e)||ul.set(e,i)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function aA(e,t){Object.keys(t).forEach(n=>{if(Tf(n)){const r=S_(n),s=ul.get(e);s==null||s.forEach(i=>{const[o,a]=i;o===r&&(e.removeEventListener(r,a),s.delete(i))})}else e.removeAttribute(n)})}const ni=2.4,Rg=.2126729,Pg=.7151522,kg=.072175,lA=.55,uA=.58,cA=.57,dA=.62,Xa=.03,xg=1.45,fA=5e-4,hA=1.25,mA=1.25,Vg=.078,Og=12.82051282051282,Ja=.06,Dg=.001;function Ng(e,t){const n=(e.r/255)**ni,r=(e.g/255)**ni,s=(e.b/255)**ni,i=(t.r/255)**ni,o=(t.g/255)**ni,a=(t.b/255)**ni;let u=n*Rg+r*Pg+s*kg,c=i*Rg+o*Pg+a*kg;if(u<=Xa&&(u+=(Xa-u)**xg),c<=Xa&&(c+=(Xa-c)**xg),Math.abs(c-u)<fA)return 0;let d;if(c>u){const f=(c**lA-u**uA)*hA;d=f<Dg?0:f<Vg?f-f*Og*Ja:f-Ja}else{const f=(c**dA-u**cA)*mA;d=f>-Dg?0:f>-Vg?f-f*Og*Ja:f+Ja}return d*100}function gA(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const kl=.20689655172413793,vA=e=>e>kl**3?Math.cbrt(e):e/(3*kl**2)+4/29,pA=e=>e>kl?e**3:3*kl**2*(e-4/29);function P_(e){const t=vA,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function k_(e){const t=pA,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const yA=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],_A=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,bA=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],EA=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function x_(e){const t=Array(3),n=_A,r=yA;for(let s=0;s<3;++s)t[s]=Math.round(Ns(n(r[s][0]*e[0]+r[s][1]*e[1]+r[s][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function Cf(e){let{r:t,g:n,b:r}=e;const s=[0,0,0],i=EA,o=bA;t=i(t/255),n=i(n/255),r=i(r/255);for(let a=0;a<3;++a)s[a]=o[a][0]*t+o[a][1]*n+o[a][2]*r;return s}function od(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function wA(e){return od(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const Lg=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,IA={rgb:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),rgba:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),hsl:(e,t,n,r)=>Mg({h:e,s:t,l:n,a:r}),hsla:(e,t,n,r)=>Mg({h:e,s:t,l:n,a:r}),hsv:(e,t,n,r)=>zo({h:e,s:t,v:n,a:r}),hsva:(e,t,n,r)=>zo({h:e,s:t,v:n,a:r})};function Un(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&Lg.test(e)){const{groups:t}=e.match(Lg),{fn:n,values:r}=t,s=r.split(/,\s*/).map(i=>i.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(i)/100:parseFloat(i));return IA[n](...s)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),SA(t)}else if(typeof e=="object"){if(_c(e,["r","g","b"]))return e;if(_c(e,["h","s","l"]))return zo(V_(e));if(_c(e,["h","s","v"]))return zo(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function zo(e){const{h:t,s:n,v:r,a:s}=e,i=a=>{const u=(a+t/60)%6;return r-r*n*Math.max(Math.min(u,4-u,1),0)},o=[i(5),i(3),i(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:s}}function Mg(e){return zo(V_(e))}function V_(e){const{h:t,s:n,l:r,a:s}=e,i=r+n*Math.min(r,1-r),o=i===0?0:2-2*r/i;return{h:t,s:o,v:i,a:s}}function Za(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function TA(e){let{r:t,g:n,b:r,a:s}=e;return`#${[Za(t),Za(n),Za(r),s!==void 0?Za(Math.round(s*255)):""].join("")}`}function SA(e){e=AA(e);let[t,n,r,s]=eA(e,2).map(i=>parseInt(i,16));return s=s===void 0?s:s/255,{r:t,g:n,b:r,a:s}}function AA(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=Eg(Eg(e,6),8,"F")),e}function CA(e,t){const n=P_(Cf(e));return n[0]=n[0]+t*10,x_(k_(n))}function RA(e,t){const n=P_(Cf(e));return n[0]=n[0]-t*10,x_(k_(n))}function PA(e){const t=Un(e);return Cf(t)[1]}function O_(e){const t=Math.abs(Ng(Un(0),Un(e)));return Math.abs(Ng(Un(16777215),Un(e)))>Math.min(t,50)?"#fff":"#000"}function J(e,t){return n=>Object.keys(e).reduce((r,s)=>{const o=typeof e[s]=="object"&&e[s]!=null&&!Array.isArray(e[s])?e[s]:{type:e[s]};return n&&s in n?r[s]={...o,default:n[s]}:r[s]=o,t&&!r[s].source&&(r[s].source=t),r},{})}const Fe=J({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function It(e,t){const n=Ef();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function Yn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=It(e).type;return Ps((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let D_=0,cl=new WeakMap;function Qn(){const e=It("getUid");if(cl.has(e))return cl.get(e);{const t=D_++;return cl.set(e,t),t}}Qn.reset=()=>{D_=0,cl=new WeakMap};function kA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:It("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const Ti=Symbol.for("vuetify:defaults");function xA(e){return Z(e)}function Rf(){const e=qe(Ti);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function Zr(e,t){const n=Rf(),r=Z(e),s=k(()=>{if(le(t==null?void 0:t.disabled))return n.value;const o=le(t==null?void 0:t.scoped),a=le(t==null?void 0:t.reset),u=le(t==null?void 0:t.root);if(r.value==null&&!(o||a||u))return n.value;let c=Qt(r.value,{prev:n.value});if(o)return c;if(a||u){const d=Number(a||1/0);for(let f=0;f<=d&&!(!c||!("prev"in c));f++)c=c.prev;return c&&typeof u=="string"&&u in c&&(c=Qt(Qt(c,{prev:c}),c[u])),c}return c.prev?Qt(c.prev,c):c});return wt(Ti,s),s}function VA(e,t){var n,r;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((r=e.props)==null?void 0:r[Ps(t)])<"u"}function OA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rf();const r=It("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const s=k(()=>{var u;return(u=n.value)==null?void 0:u[e._as??t]}),i=new Proxy(e,{get(u,c){var f,g,m,p,_,T,x;const d=Reflect.get(u,c);return c==="class"||c==="style"?[(f=s.value)==null?void 0:f[c],d].filter(O=>O!=null):typeof c=="string"&&!VA(r.vnode,c)?((g=s.value)==null?void 0:g[c])!==void 0?(m=s.value)==null?void 0:m[c]:((_=(p=n.value)==null?void 0:p.global)==null?void 0:_[c])!==void 0?(x=(T=n.value)==null?void 0:T.global)==null?void 0:x[c]:d:d}}),o=Ce();br(()=>{if(s.value){const u=Object.entries(s.value).filter(c=>{let[d]=c;return d.startsWith(d[0].toUpperCase())});o.value=u.length?Object.fromEntries(u):void 0}else o.value=void 0});function a(){const u=kA(Ti,r);wt(Ti,k(()=>o.value?Qt((u==null?void 0:u.value)??{},o.value):u==null?void 0:u.value))}return{props:i,provideSubDefaults:a}}function Fi(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=J(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(r){return w_(r,t)},e.props._as=String,e.setup=function(r,s){const i=Rf();if(!i.value)return e._setup(r,s);const{props:o,provideSubDefaults:a}=OA(r,r._as??e.name,i),u=e._setup(o,s);return a(),u}}return e}function be(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?Fi:cf)(t)}function Pf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return be()({name:n??yr(hn(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Fe()},setup(r,s){let{slots:i}=s;return()=>{var o;return Gn(r.tag,{class:[e,r.class],style:r.style},(o=i.default)==null?void 0:o.call(i))}}})}function N_(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const qo="cubic-bezier(0.4, 0, 0.2, 1)",DA="cubic-bezier(0.0, 0, 0.2, 1)",NA="cubic-bezier(0.4, 0, 1, 1)";function LA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?MA(e):kf(e))return e;e=e.parentElement}return document.scrollingElement}function xl(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(kf(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function kf(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function MA(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function FA(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function Re(e){const t=It("useRender");t.render=e}function Ot(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f=>f,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f=>f;const i=It("useProxiedModel"),o=Z(e[t]!==void 0?e[t]:n),a=Ps(t),c=k(a!==t?()=>{var f,g,m,p;return e[t],!!(((f=i.vnode.props)!=null&&f.hasOwnProperty(t)||(g=i.vnode.props)!=null&&g.hasOwnProperty(a))&&((m=i.vnode.props)!=null&&m.hasOwnProperty(`onUpdate:${t}`)||(p=i.vnode.props)!=null&&p.hasOwnProperty(`onUpdate:${a}`)))}:()=>{var f,g;return e[t],!!((f=i.vnode.props)!=null&&f.hasOwnProperty(t)&&((g=i.vnode.props)!=null&&g.hasOwnProperty(`onUpdate:${t}`)))});Ds(()=>!c.value,()=>{Te(()=>e[t],f=>{o.value=f})});const d=k({get(){const f=e[t];return r(c.value?f:o.value)},set(f){const g=s(f),m=_e(c.value?e[t]:o.value);m===g||r(m)===f||(o.value=g,i==null||i.emit(`update:${t}`,g))}});return Object.defineProperty(d,"externalValue",{get:()=>c.value?e[t]:o.value}),d}const BA={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},Fg="$vuetify.",Bg=(e,t)=>e.replace(/\{(\d+)\}/g,(n,r)=>String(t[+r])),L_=(e,t,n)=>function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];if(!r.startsWith(Fg))return Bg(r,i);const a=r.replace(Fg,""),u=e.value&&n.value[e.value],c=t.value&&n.value[t.value];let d=rd(u,a,null);return d||(`${r}${e.value}`,d=rd(c,a,null)),d||(d=r),typeof d!="string"&&(d=r),Bg(d,i)};function M_(e,t){return(n,r)=>new Intl.NumberFormat([e.value,t.value],r).format(n)}function wc(e,t,n){const r=Ot(e,t,e[t]??n.value);return r.value=e[t]??n.value,Te(n,s=>{e[t]==null&&(r.value=n.value)}),r}function F_(e){return t=>{const n=wc(t,"locale",e.current),r=wc(t,"fallback",e.fallback),s=wc(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:r,messages:s,t:L_(n,r,s),n:M_(n,r),provide:F_({current:n,fallback:r,messages:s})}}}function UA(e){const t=Ce((e==null?void 0:e.locale)??"en"),n=Ce((e==null?void 0:e.fallback)??"en"),r=Z({en:BA,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:r,t:L_(t,n,r),n:M_(t,n),provide:F_({current:t,fallback:n,messages:r})}}const Vl=Symbol.for("vuetify:locale");function $A(e){return e.name!=null}function jA(e){const t=e!=null&&e.adapter&&$A(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:UA(e),n=zA(t,e);return{...t,...n}}function xf(){const e=qe(Vl);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function HA(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function zA(e,t){const n=Z((t==null?void 0:t.rtl)??HA()),r=k(()=>n.value[e.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:k(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function Sn(){const e=qe(Vl);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const mu={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function qA(e,t,n){const r=[];let s=[];const i=B_(e),o=U_(e),a=n??mu[t.slice(-2).toUpperCase()]??0,u=(i.getDay()-a+7)%7,c=(o.getDay()-a+7)%7;for(let d=0;d<u;d++){const f=new Date(i);f.setDate(f.getDate()-(u-d)),s.push(f)}for(let d=1;d<=o.getDate();d++){const f=new Date(e.getFullYear(),e.getMonth(),d);s.push(f),s.length===7&&(r.push(s),s=[])}for(let d=1;d<7-c;d++){const f=new Date(o);f.setDate(f.getDate()+d),s.push(f)}return s.length>0&&r.push(s),r}function WA(e,t,n){const r=n??mu[t.slice(-2).toUpperCase()]??0,s=new Date(e);for(;s.getDay()!==r;)s.setDate(s.getDate()-1);return s}function KA(e,t){const n=new Date(e),r=((mu[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function B_(e){return new Date(e.getFullYear(),e.getMonth(),1)}function U_(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function GA(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const YA=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function $_(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(YA.test(e))return GA(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const Ug=new Date(2e3,0,2);function QA(e,t){const n=t??mu[e.slice(-2).toUpperCase()]??0;return ci(7).map(r=>{const s=new Date(Ug);return s.setDate(Ug.getDate()+n+r),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(s)})}function XA(e,t,n,r){const s=$_(e)??new Date,i=r==null?void 0:r[t];if(typeof i=="function")return i(s,t,n);let o={};switch(t){case"fullDate":o={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const a=s.getDate(),u=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${a} ${u}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:o=i??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(s)}function JA(e,t){const n=e.toJsDate(t),r=n.getFullYear(),s=wg(String(n.getMonth()+1),2,"0"),i=wg(String(n.getDate()),2,"0");return`${r}-${s}-${i}`}function ZA(e){const[t,n,r]=e.split("-").map(Number);return new Date(t,n-1,r)}function eC(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function tC(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function nC(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function rC(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function sC(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function iC(e){return e.getFullYear()}function oC(e){return e.getMonth()}function aC(e){return e.getDate()}function lC(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function uC(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function cC(e){return e.getHours()}function dC(e){return e.getMinutes()}function fC(e){return new Date(e.getFullYear(),0,1)}function hC(e){return new Date(e.getFullYear(),11,31)}function mC(e,t){return Ol(e,t[0])&&pC(e,t[1])}function gC(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function Ol(e,t){return e.getTime()>t.getTime()}function vC(e,t){return Ol(ad(e),ad(t))}function pC(e,t){return e.getTime()<t.getTime()}function $g(e,t){return e.getTime()===t.getTime()}function yC(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function _C(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function bC(e,t){return e.getFullYear()===t.getFullYear()}function EC(e,t,n){const r=new Date(e),s=new Date(t);switch(n){case"years":return r.getFullYear()-s.getFullYear();case"quarters":return Math.floor((r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12)/4);case"months":return r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-s.getTime())/1e3);default:return r.getTime()-s.getTime()}}function wC(e,t){const n=new Date(e);return n.setHours(t),n}function IC(e,t){const n=new Date(e);return n.setMinutes(t),n}function TC(e,t){const n=new Date(e);return n.setMonth(t),n}function SC(e,t){const n=new Date(e);return n.setDate(t),n}function AC(e,t){const n=new Date(e);return n.setFullYear(t),n}function ad(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function CC(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class RC{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return $_(t)}toJsDate(t){return t}toISO(t){return JA(this,t)}parseISO(t){return ZA(t)}addMinutes(t,n){return eC(t,n)}addHours(t,n){return tC(t,n)}addDays(t,n){return nC(t,n)}addWeeks(t,n){return rC(t,n)}addMonths(t,n){return sC(t,n)}getWeekArray(t,n){return qA(t,this.locale,n?Number(n):void 0)}startOfWeek(t,n){return WA(t,this.locale,n?Number(n):void 0)}endOfWeek(t){return KA(t,this.locale)}startOfMonth(t){return B_(t)}endOfMonth(t){return U_(t)}format(t,n){return XA(t,n,this.locale,this.formats)}isEqual(t,n){return $g(t,n)}isValid(t){return gC(t)}isWithinRange(t,n){return mC(t,n)}isAfter(t,n){return Ol(t,n)}isAfterDay(t,n){return vC(t,n)}isBefore(t,n){return!Ol(t,n)&&!$g(t,n)}isSameDay(t,n){return yC(t,n)}isSameMonth(t,n){return _C(t,n)}isSameYear(t,n){return bC(t,n)}setMinutes(t,n){return IC(t,n)}setHours(t,n){return wC(t,n)}setMonth(t,n){return TC(t,n)}setDate(t,n){return SC(t,n)}setYear(t,n){return AC(t,n)}getDiff(t,n,r){return EC(t,n,r)}getWeekdays(t){return QA(this.locale,t?Number(t):void 0)}getYear(t){return iC(t)}getMonth(t){return oC(t)}getDate(t){return aC(t)}getNextMonth(t){return lC(t)}getPreviousMonth(t){return uC(t)}getHours(t){return cC(t)}getMinutes(t){return dC(t)}startOfDay(t){return ad(t)}endOfDay(t){return CC(t)}startOfYear(t){return fC(t)}endOfYear(t){return hC(t)}}const PC=Symbol.for("vuetify:date-options"),jg=Symbol.for("vuetify:date-adapter");function kC(e,t){const n=Qt({adapter:RC,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:xC(n,t)}}function xC(e,t){const n=Bt(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return Te(t.current,r=>{n.locale=e.locale[r]??r??n.locale}),n}const gu=["sm","md","lg","xl","xxl"],ld=Symbol.for("vuetify:display"),Hg={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},VC=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hg;return Qt(Hg,e)};function zg(e){return it&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function qg(e){return it&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function Wg(e){const t=it&&!e?window.navigator.userAgent:"ssr";function n(p){return!!t.match(p)}const r=n(/android/i),s=n(/iphone|ipad|ipod/i),i=n(/cordova/i),o=n(/electron/i),a=n(/chrome/i),u=n(/edge/i),c=n(/firefox/i),d=n(/opera/i),f=n(/win/i),g=n(/mac/i),m=n(/linux/i);return{android:r,ios:s,cordova:i,electron:o,chrome:a,edge:u,firefox:c,opera:d,win:f,mac:g,linux:m,touch:QS,ssr:t==="ssr"}}function OC(e,t){const{thresholds:n,mobileBreakpoint:r}=VC(e),s=Ce(qg(t)),i=Ce(Wg(t)),o=Bt({}),a=Ce(zg(t));function u(){s.value=qg(),a.value=zg()}function c(){u(),i.value=Wg()}return br(()=>{const d=a.value<n.sm,f=a.value<n.md&&!d,g=a.value<n.lg&&!(f||d),m=a.value<n.xl&&!(g||f||d),p=a.value<n.xxl&&!(m||g||f||d),_=a.value>=n.xxl,T=d?"xs":f?"sm":g?"md":m?"lg":p?"xl":"xxl",x=typeof r=="number"?r:n[r],O=a.value<x;o.xs=d,o.sm=f,o.md=g,o.lg=m,o.xl=p,o.xxl=_,o.smAndUp=!d,o.mdAndUp=!(d||f),o.lgAndUp=!(d||f||g),o.xlAndUp=!(d||f||g||m),o.smAndDown=!(g||m||p||_),o.mdAndDown=!(m||p||_),o.lgAndDown=!(p||_),o.xlAndDown=!_,o.name=T,o.height=s.value,o.width=a.value,o.mobile=O,o.mobileBreakpoint=r,o.platform=i.value,o.thresholds=n}),it&&window.addEventListener("resize",u,{passive:!0}),{...ou(o),update:c,ssr:!!t}}const DC=J({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function vu(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn();const n=qe(ld);if(!n)throw new Error("Could not find Vuetify display injection");const r=k(()=>{if(e.mobile!=null)return e.mobile;if(!e.mobileBreakpoint)return n.mobile.value;const i=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:n.thresholds.value[e.mobileBreakpoint];return n.width.value<i}),s=k(()=>t?{[`${t}--mobile`]:r.value}:{});return{...n,displayClasses:s,mobile:r}}const j_=Symbol.for("vuetify:goto");function H_(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function NC(e){return Vf(e)??(document.scrollingElement||document.body)}function Vf(e){return typeof e=="string"?document.querySelector(e):b_(e)}function Ic(e,t,n){if(typeof e=="number")return t&&n?-e:e;let r=Vf(e),s=0;for(;r;)s+=t?r.offsetLeft:r.offsetTop,r=r.offsetParent;return s}function LC(e,t){return{rtl:t.isRtl,options:Qt(H_(),e)}}async function Kg(e,t,n,r){const s=n?"scrollLeft":"scrollTop",i=Qt((r==null?void 0:r.options)??H_(),t),o=r==null?void 0:r.rtl.value,a=(typeof e=="number"?e:Vf(e))??0,u=i.container==="parent"&&a instanceof HTMLElement?a.parentElement:NC(i.container),c=typeof i.easing=="function"?i.easing:i.patterns[i.easing];if(!c)throw new TypeError(`Easing function "${i.easing}" not found.`);let d;if(typeof a=="number")d=Ic(a,n,o);else if(d=Ic(a,n,o)-Ic(u,n,o),i.layout){const p=window.getComputedStyle(a).getPropertyValue("--v-layout-top");p&&(d-=parseInt(p,10))}d+=i.offset,d=FC(u,d,!!o,!!n);const f=u[s]??0;if(d===f)return Promise.resolve(d);const g=performance.now();return new Promise(m=>requestAnimationFrame(function p(_){const x=(_-g)/i.duration,O=Math.floor(f+(d-f)*c(Ns(x,0,1)));if(u[s]=O,x>=1&&Math.abs(O-u[s])<10)return m(d);if(x>2)return m(u[s]);requestAnimationFrame(p)}))}function MC(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=qe(j_),{isRtl:n}=Sn();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const r={...t,rtl:k(()=>t.rtl.value||n.value)};async function s(i,o){return Kg(i,Qt(e,o),!1,r)}return s.horizontal=async(i,o)=>Kg(i,Qt(e,o),!0,r),s}function FC(e,t,n,r){const{scrollWidth:s,scrollHeight:i}=e,[o,a]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let u,c;return r?n?(u=-(s-o),c=0):(u=0,c=s-o):(u=0,c=i+-a),Math.max(Math.min(t,c),u)}const BC={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},UC={component:e=>Gn(q_,{...e,class:"mdi"})},rt=[String,Function,Object,Array],ud=Symbol.for("vuetify:icons"),pu=J({icon:{type:rt},tag:{type:String,required:!0}},"icon"),Gg=be()({name:"VComponentIcon",props:pu(),setup(e,t){let{slots:n}=t;return()=>{const r=e.icon;return E(e.tag,null,{default:()=>{var s;return[e.icon?E(r,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),z_=Fi({name:"VSvgIcon",inheritAttrs:!1,props:pu(),setup(e,t){let{attrs:n}=t;return()=>E(e.tag,Me(n,{style:null}),{default:()=>[E("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?E("path",{d:r[0],"fill-opacity":r[1]},null):E("path",{d:r},null)):E("path",{d:e.icon},null)])]})}});Fi({name:"VLigatureIcon",props:pu(),setup(e){return()=>E(e.tag,null,{default:()=>[e.icon]})}});const q_=Fi({name:"VClassIcon",props:pu(),setup(e){return()=>E(e.tag,{class:e.icon},null)}});function $C(){return{svg:{component:z_},class:{component:q_}}}function jC(e){const t=$C(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=UC),Qt({defaultSet:n,sets:t,aliases:{...BC,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const HC=e=>{const t=qe(ud);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:k(()=>{var u;const r=le(e);if(!r)return{component:Gg};let s=r;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(u=t.aliases)==null?void 0:u[s.slice(1)])),Array.isArray(s))return{component:z_,icon:s};if(typeof s!="string")return{component:Gg,icon:s};const i=Object.keys(t.sets).find(c=>typeof s=="string"&&s.startsWith(`${c}:`)),o=i?s.slice(i.length+1):s;return{component:t.sets[i??t.defaultSet].component,icon:o}})}},Dl=Symbol.for("vuetify:theme"),kt=J({theme:String},"theme");function Yg(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function zC(){var r,s;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yg();const t=Yg();if(!e)return{...t,isDisabled:!0};const n={};for(const[i,o]of Object.entries(e.themes??{})){const a=o.dark||i==="dark"?(r=t.themes)==null?void 0:r.dark:(s=t.themes)==null?void 0:s.light;n[i]=Qt(a,o)}return Qt(t,{...e,themes:n})}function qC(e){const t=zC(e),n=Z(t.defaultTheme),r=Z(t.themes),s=k(()=>{const d={};for(const[f,g]of Object.entries(r.value)){const m=d[f]={...g,colors:{...g.colors}};if(t.variations)for(const p of t.variations.colors){const _=m.colors[p];if(_)for(const T of["lighten","darken"]){const x=T==="lighten"?CA:RA;for(const O of ci(t.variations[T],1))m.colors[`${p}-${T}-${O}`]=TA(x(Un(_),O))}}for(const p of Object.keys(m.colors)){if(/^on-[a-z]/.test(p)||m.colors[`on-${p}`])continue;const _=`on-${p}`,T=Un(m.colors[p]);m.colors[_]=O_(T)}}return d}),i=k(()=>s.value[n.value]),o=k(()=>{var p;const d=[];(p=i.value)!=null&&p.dark&&ys(d,":root",["color-scheme: dark"]),ys(d,":root",Qg(i.value));for(const[_,T]of Object.entries(s.value))ys(d,`.v-theme--${_}`,[`color-scheme: ${T.dark?"dark":"normal"}`,...Qg(T)]);const f=[],g=[],m=new Set(Object.values(s.value).flatMap(_=>Object.keys(_.colors)));for(const _ of m)/^on-[a-z]/.test(_)?ys(g,`.${_}`,[`color: rgb(var(--v-theme-${_})) !important`]):(ys(f,`.bg-${_}`,[`--v-theme-overlay-multiplier: var(--v-theme-${_}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${_})) !important`,`color: rgb(var(--v-theme-on-${_})) !important`]),ys(g,`.text-${_}`,[`color: rgb(var(--v-theme-${_})) !important`]),ys(g,`.border-${_}`,[`--v-border-color: var(--v-theme-${_})`]));return d.push(...f,...g),d.map((_,T)=>T===0?_:`    ${_}`).join("")});function a(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function u(d){if(t.isDisabled)return;const f=d._context.provides.usehead;if(f)if(f.push){const m=f.push(a);it&&Te(o,()=>{m.patch(a)})}else it?(f.addHeadObjs(k(a)),br(()=>f.updateDOM())):f.addHeadObjs(a());else{let p=function(){if(typeof document<"u"&&!m){const _=document.createElement("style");_.type="text/css",_.id="vuetify-theme-stylesheet",t.cspNonce&&_.setAttribute("nonce",t.cspNonce),m=_,document.head.appendChild(m)}m&&(m.innerHTML=o.value)};var g=p;let m=it?document.getElementById("vuetify-theme-stylesheet"):null;it?Te(o,p,{immediate:!0}):p()}}const c=k(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:u,isDisabled:t.isDisabled,name:n,themes:r,current:i,computedThemes:s,themeClasses:c,styles:o,global:{name:n,current:i}}}function Lt(e){It("provideTheme");const t=qe(Dl,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=k(()=>e.theme??t.name.value),r=k(()=>t.themes.value[n.value]),s=k(()=>t.isDisabled?void 0:`v-theme--${n.value}`),i={...t,name:n,current:r,themeClasses:s};return wt(Dl,i),i}function ys(e,t,n){e.push(`${t} {
`,...n.map(r=>`  ${r};
`),`}
`)}function Qg(e){const t=e.dark?2:1,n=e.dark?1:2,r=[];for(const[s,i]of Object.entries(e.colors)){const o=Un(i);r.push(`--v-theme-${s}: ${o.r},${o.g},${o.b}`),s.startsWith("on-")||r.push(`--v-theme-${s}-overlay-multiplier: ${PA(i)>.18?t:n}`)}for(const[s,i]of Object.entries(e.variables)){const o=typeof i=="string"&&i.startsWith("#")?Un(i):void 0,a=o?`${o.r}, ${o.g}, ${o.b}`:void 0;r.push(`--v-${s}: ${a??i}`)}return r}function Wo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=sd(),r=Z();if(it){const s=new ResizeObserver(i=>{e==null||e(i,s),i.length&&(t==="content"?r.value=i[0].contentRect:r.value=i[0].target.getBoundingClientRect())});on(()=>{s.disconnect()}),Te(()=>n.el,(i,o)=>{o&&(s.unobserve(o),r.value=void 0),i&&s.observe(i)},{flush:"post"})}return{resizeRef:n,contentRect:ca(r)}}const Nl=Symbol.for("vuetify:layout"),W_=Symbol.for("vuetify:layout-item"),Xg=1e3,WC=J({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),KC=J({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function GC(){const e=qe(Nl);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function YC(e){const t=qe(Nl);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${Qn()}`,r=It("useLayoutItem");wt(W_,{id:n});const s=Ce(!1);df(()=>s.value=!0),Fy(()=>s.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:o}=t.register(r,{...e,active:k(()=>s.value?!1:e.active.value),id:n});return on(()=>t.unregister(n)),{layoutItemStyles:i,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const QC=(e,t,n,r)=>{let s={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...s}}];for(const o of e){const a=t.get(o),u=n.get(o),c=r.get(o);if(!a||!u||!c)continue;const d={...s,[a.value]:parseInt(s[a.value],10)+(c.value?parseInt(u.value,10):0)};i.push({id:o,layer:d}),s=d}return i};function XC(e){const t=qe(Nl,null),n=k(()=>t?t.rootZIndex.value-100:Xg),r=Z([]),s=Bt(new Map),i=Bt(new Map),o=Bt(new Map),a=Bt(new Map),u=Bt(new Map),{resizeRef:c,contentRect:d}=Wo(),f=k(()=>{const D=new Map,A=e.overlaps??[];for(const y of A.filter(b=>b.includes(":"))){const[b,C]=y.split(":");if(!r.value.includes(b)||!r.value.includes(C))continue;const R=s.get(b),I=s.get(C),w=i.get(b),z=i.get(C);!R||!I||!w||!z||(D.set(C,{position:R.value,amount:parseInt(w.value,10)}),D.set(b,{position:I.value,amount:-parseInt(z.value,10)}))}return D}),g=k(()=>{const D=[...new Set([...o.values()].map(y=>y.value))].sort((y,b)=>y-b),A=[];for(const y of D){const b=r.value.filter(C=>{var R;return((R=o.get(C))==null?void 0:R.value)===y});A.push(...b)}return QC(A,s,i,a)}),m=k(()=>!Array.from(u.values()).some(D=>D.value)),p=k(()=>g.value[g.value.length-1].layer),_=k(()=>({"--v-layout-left":ke(p.value.left),"--v-layout-right":ke(p.value.right),"--v-layout-top":ke(p.value.top),"--v-layout-bottom":ke(p.value.bottom),...m.value?void 0:{transition:"none"}})),T=k(()=>g.value.slice(1).map((D,A)=>{let{id:y}=D;const{layer:b}=g.value[A],C=i.get(y),R=s.get(y);return{id:y,...b,size:Number(C.value),position:R.value}})),x=D=>T.value.find(A=>A.id===D),O=It("createLayout"),N=Ce(!1);mn(()=>{N.value=!0}),wt(Nl,{register:(D,A)=>{let{id:y,order:b,position:C,layoutSize:R,elementSize:I,active:w,disableTransitions:z,absolute:ce}=A;o.set(y,b),s.set(y,C),i.set(y,R),a.set(y,w),z&&u.set(y,z);const se=di(W_,O==null?void 0:O.vnode).indexOf(D);se>-1?r.value.splice(se,0,y):r.value.push(y);const oe=k(()=>T.value.findIndex(fe=>fe.id===y)),Be=k(()=>n.value+g.value.length*2-oe.value*2),ae=k(()=>{const fe=C.value==="left"||C.value==="right",Le=C.value==="right",ht=C.value==="bottom",ct=I.value??R.value,Pe=ct===0?"%":"px",U={[C.value]:0,zIndex:Be.value,transform:`translate${fe?"X":"Y"}(${(w.value?0:-(ct===0?100:ct))*(Le||ht?-1:1)}${Pe})`,position:ce.value||n.value!==Xg?"absolute":"fixed",...m.value?void 0:{transition:"none"}};if(!N.value)return U;const X=T.value[oe.value];if(!X)throw new Error(`[Vuetify] Could not find layout item "${y}"`);const Y=f.value.get(y);return Y&&(X[Y.position]+=Y.amount),{...U,height:fe?`calc(100% - ${X.top}px - ${X.bottom}px)`:I.value?`${I.value}px`:void 0,left:Le?void 0:`${X.left}px`,right:Le?`${X.right}px`:void 0,top:C.value!=="bottom"?`${X.top}px`:void 0,bottom:C.value!=="top"?`${X.bottom}px`:void 0,width:fe?I.value?`${I.value}px`:void 0:`calc(100% - ${X.left}px - ${X.right}px)`}}),G=k(()=>({zIndex:Be.value-1}));return{layoutItemStyles:ae,layoutItemScrimStyles:G,zIndex:Be}},unregister:D=>{o.delete(D),s.delete(D),i.delete(D),a.delete(D),u.delete(D),r.value=r.value.filter(A=>A!==D)},mainRect:p,mainStyles:_,getLayoutItem:x,items:T,layoutRect:d,rootZIndex:n});const M=k(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),L=k(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:M,layoutStyles:L,getLayoutItem:x,items:T,layoutRect:d,layoutRef:c}}function K_(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,r=Qt(t,n),{aliases:s={},components:i={},directives:o={}}=r,a=xA(r.defaults),u=OC(r.display,r.ssr),c=qC(r.theme),d=jC(r.icons),f=jA(r.locale),g=kC(r.date,f),m=LC(r.goTo,f);return{install:_=>{for(const T in o)_.directive(T,o[T]);for(const T in i)_.component(T,i[T]);for(const T in s)_.component(T,Fi({...s[T],name:T,aliasName:s[T].name}));if(c.install(_),_.provide(Ti,a),_.provide(ld,u),_.provide(Dl,c),_.provide(ud,d),_.provide(Vl,f),_.provide(PC,g.options),_.provide(jg,g.instance),_.provide(j_,m),it&&r.ssr)if(_.$nuxt)_.$nuxt.hook("app:suspense:resolve",()=>{u.update()});else{const{mount:T}=_;_.mount=function(){const x=T(...arguments);return Nt(()=>u.update()),_.mount=T,x}}Qn.reset(),_.mixin({computed:{$vuetify(){return Bt({defaults:ri.call(this,Ti),display:ri.call(this,ld),theme:ri.call(this,Dl),icons:ri.call(this,ud),locale:ri.call(this,Vl),date:ri.call(this,jg)})}}})},defaults:a,display:u,theme:c,icons:d,locale:f,date:g,goTo:m}}const JC="3.7.0";K_.version=JC;function ri(e){var r,s;const t=this.$,n=((r=t.parent)==null?void 0:r.provides)??((s=t.vnode.appContext)==null?void 0:s.provides);if(n&&e in n)return n[e]}const ZC={name:"focus",mounted(e,{value:t}){if(t===!1)return;const n=["input","select","textarea","button","a[href]"];if((s=>n.some(i=>s.matches(i)))(e))e.focus();else{const s=e.querySelector(n.join(", "));s&&s.focus()}}},eR={name:"formatdate",mounted(e,t){const n=new Date(t.value),r={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};isNaN(n.getTime())?e.textContent+=t.value:e.textContent+=n.toLocaleString("en-GB",r)}},tR=[eR,ZC],Er=J({border:[Boolean,Number,String]},"border");function as(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn();return{borderClasses:k(()=>{const r=Xe(e)?e.value:e.border,s=[];if(r===!0||r==="")s.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const i of String(r).split(" "))s.push(`border-${i}`);return s})}}const nR=[null,"default","comfortable","compact"],Xn=J({density:{type:String,default:"default",validator:e=>nR.includes(e)}},"density");function ls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn();return{densityClasses:k(()=>`${t}--density-${e.density}`)}}const us=J({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function zs(e){return{elevationClasses:k(()=>{const n=Xe(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}const An=J({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Ln(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn();return{roundedClasses:k(()=>{const r=Xe(e)?e.value:e.rounded,s=Xe(e)?e.value:e.tile,i=[];if(r===!0||r==="")i.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const o of String(r).split(" "))i.push(`rounded-${o}`);else(s||r===!1)&&i.push("rounded-0");return i})}}const ut=J({tag:{type:String,default:"div"}},"tag");function Of(e){return Sf(()=>{const t=[],n={};if(e.value.background)if(od(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&wA(e.value.background)){const r=Un(e.value.background);if(r.a==null||r.a===1){const s=O_(r);n.color=s,n.caretColor=s}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(od(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function hr(e,t){const n=k(()=>({text:Xe(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=Of(n);return{textColorClasses:r,textColorStyles:s}}function Vn(e,t){const n=k(()=>({background:Xe(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=Of(n);return{backgroundColorClasses:r,backgroundColorStyles:s}}const rR=["elevated","flat","tonal","outlined","text","plain"];function yu(e,t){return E(Ue,null,[e&&E("span",{key:"overlay",class:`${t}__overlay`},null),E("span",{key:"underlay",class:`${t}__underlay`},null)])}const qs=J({color:String,variant:{type:String,default:"elevated",validator:e=>rR.includes(e)}},"variant");function _u(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn();const n=k(()=>{const{variant:i}=le(e);return`${t}--variant-${i}`}),{colorClasses:r,colorStyles:s}=Of(k(()=>{const{variant:i,color:o}=le(e);return{[["elevated","flat"].includes(i)?"background":"text"]:o}}));return{colorClasses:r,colorStyles:s,variantClasses:n}}const G_=J({baseColor:String,divided:Boolean,...Er(),...Fe(),...Xn(),...us(),...An(),...ut(),...kt(),...qs()},"VBtnGroup"),Jg=be()({name:"VBtnGroup",props:G_(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Lt(e),{densityClasses:s}=ls(e),{borderClasses:i}=as(e),{elevationClasses:o}=zs(e),{roundedClasses:a}=Ln(e);Zr({VBtn:{height:"auto",baseColor:Ie(e,"baseColor"),color:Ie(e,"color"),density:Ie(e,"density"),flat:!0,variant:Ie(e,"variant")}}),Re(()=>E(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,i.value,s.value,o.value,a.value,e.class],style:e.style},n))}}),Y_=J({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Q_=J({value:null,disabled:Boolean,selectedClass:String},"group-item");function X_(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=It("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=Qn();wt(Symbol.for(`${t.description}:id`),s);const i=qe(t,null);if(!i){if(!n)return i;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=Ie(e,"value"),a=k(()=>!!(i.disabled.value||e.disabled));i.register({id:s,value:o,disabled:a},r),on(()=>{i.unregister(s)});const u=k(()=>i.isSelected(s)),c=k(()=>i.items.value[0].id===s),d=k(()=>i.items.value[i.items.value.length-1].id===s),f=k(()=>u.value&&[i.selectedClass.value,e.selectedClass]);return Te(u,g=>{r.emit("group:selected",{value:g})},{flush:"sync"}),{id:s,isSelected:u,isFirst:c,isLast:d,toggle:()=>i.select(s,!u.value),select:g=>i.select(s,g),selectedClass:f,value:o,disabled:a,group:i}}function Df(e,t){let n=!1;const r=Bt([]),s=Ot(e,"modelValue",[],g=>g==null?[]:J_(r,Rs(g)),g=>{const m=iR(r,g);return e.multiple?m:m[0]}),i=It("useGroup");function o(g,m){const p=g,_=Symbol.for(`${t.description}:id`),x=di(_,i==null?void 0:i.vnode).indexOf(m);le(p.value)==null&&(p.value=x,p.useIndexAsValue=!0),x>-1?r.splice(x,0,p):r.push(p)}function a(g){if(n)return;u();const m=r.findIndex(p=>p.id===g);r.splice(m,1)}function u(){const g=r.find(m=>!m.disabled);g&&e.mandatory==="force"&&!s.value.length&&(s.value=[g.id])}mn(()=>{u()}),on(()=>{n=!0}),hf(()=>{for(let g=0;g<r.length;g++)r[g].useIndexAsValue&&(r[g].value=g)});function c(g,m){const p=r.find(_=>_.id===g);if(!(m&&(p!=null&&p.disabled)))if(e.multiple){const _=s.value.slice(),T=_.findIndex(O=>O===g),x=~T;if(m=m??!x,x&&e.mandatory&&_.length<=1||!x&&e.max!=null&&_.length+1>e.max)return;T<0&&m?_.push(g):T>=0&&!m&&_.splice(T,1),s.value=_}else{const _=s.value.includes(g);if(e.mandatory&&_)return;s.value=m??!_?[g]:[]}}function d(g){if(e.multiple,s.value.length){const m=s.value[0],p=r.findIndex(x=>x.id===m);let _=(p+g)%r.length,T=r[_];for(;T.disabled&&_!==p;)_=(_+g)%r.length,T=r[_];if(T.disabled)return;s.value=[r[_].id]}else{const m=r.find(p=>!p.disabled);m&&(s.value=[m.id])}}const f={register:o,unregister:a,selected:s,select:c,disabled:Ie(e,"disabled"),prev:()=>d(r.length-1),next:()=>d(1),isSelected:g=>s.value.includes(g),selectedClass:k(()=>e.selectedClass),items:k(()=>r),getItemIndex:g=>sR(r,g)};return wt(t,f),f}function sR(e,t){const n=J_(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function J_(e,t){const n=[];return t.forEach(r=>{const s=e.find(o=>hu(r,o.value)),i=e[r];(s==null?void 0:s.value)!=null?n.push(s.id):i!=null&&n.push(i.id)}),n}function iR(e,t){const n=[];return t.forEach(r=>{const s=e.findIndex(i=>i.id===r);if(~s){const i=e[s];n.push(i.value!=null?i.value:s)}}),n}const Z_=Symbol.for("vuetify:v-btn-toggle"),oR=J({...G_(),...Y_()},"VBtnToggle");be()({name:"VBtnToggle",props:oR(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:s,prev:i,select:o,selected:a}=Df(e,Z_);return Re(()=>{const u=Jg.filterProps(e);return E(Jg,Me({class:["v-btn-toggle",e.class]},u,{style:e.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:r,next:s,prev:i,select:o,selected:a})]}})}),{next:s,prev:i,select:o}}});const aR=J({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Dt=be(!1)({name:"VDefaultsProvider",props:aR(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:s,reset:i,root:o,scoped:a}=ou(e);return Zr(r,{reset:i,root:o,scoped:a,disabled:s}),()=>{var u;return(u=n.default)==null?void 0:u.call(n)}}}),lR=["x-small","small","default","large","x-large"],Bi=J({size:{type:[String,Number],default:"default"}},"size");function bu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn();return Sf(()=>{let n,r;return Pl(lR,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:ke(e.size),height:ke(e.size)}),{sizeClasses:n,sizeStyles:r}})}const uR=J({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:rt,...Fe(),...Bi(),...ut({tag:"i"}),...kt()},"VIcon"),St=be()({name:"VIcon",props:uR(),setup(e,t){let{attrs:n,slots:r}=t;const s=Z(),{themeClasses:i}=Lt(e),{iconData:o}=HC(k(()=>s.value||e.icon)),{sizeClasses:a}=bu(e),{textColorClasses:u,textColorStyles:c}=hr(Ie(e,"color"));return Re(()=>{var g,m;const d=(g=r.default)==null?void 0:g.call(r);d&&(s.value=(m=T_(d).filter(p=>p.type===da&&p.children&&typeof p.children=="string")[0])==null?void 0:m.children);const f=!!(n.onClick||n.onClickOnce);return E(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",i.value,a.value,u.value,{"v-icon--clickable":f,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[a.value?void 0:{fontSize:ke(e.size),height:ke(e.size),width:ke(e.size)},c.value,e.style],role:f?"button":void 0,"aria-hidden":!f,tabindex:f?e.disabled?-1:0:void 0},{default:()=>[d]})}),{}}});function eb(e,t){const n=Z(),r=Ce(!1);if(If){const s=new IntersectionObserver(i=>{r.value=!!i.find(o=>o.isIntersecting)},t);on(()=>{s.disconnect()}),Te(n,(i,o)=>{o&&(s.unobserve(o),r.value=!1),i&&s.observe(i)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const cR=J({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Fe(),...Bi(),...ut({tag:"div"}),...kt()},"VProgressCircular"),tb=be()({name:"VProgressCircular",props:cR(),setup(e,t){let{slots:n}=t;const r=20,s=2*Math.PI*r,i=Z(),{themeClasses:o}=Lt(e),{sizeClasses:a,sizeStyles:u}=bu(e),{textColorClasses:c,textColorStyles:d}=hr(Ie(e,"color")),{textColorClasses:f,textColorStyles:g}=hr(Ie(e,"bgColor")),{intersectionRef:m,isIntersecting:p}=eb(),{resizeRef:_,contentRect:T}=Wo(),x=k(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),O=k(()=>Number(e.width)),N=k(()=>u.value?Number(e.size):T.value?T.value.width:Math.max(O.value,32)),M=k(()=>r/(1-O.value/N.value)*2),L=k(()=>O.value/N.value*M.value),D=k(()=>ke((100-x.value)/100*s));return br(()=>{m.value=i.value,_.value=i.value}),Re(()=>E(e.tag,{ref:i,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":p.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,a.value,c.value,e.class],style:[u.value,d.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:x.value},{default:()=>[E("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${M.value} ${M.value}`},[E("circle",{class:["v-progress-circular__underlay",f.value],style:g.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":L.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),E("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":L.value,"stroke-dasharray":s,"stroke-dashoffset":D.value},null)]),n.default&&E("div",{class:"v-progress-circular__content"},[n.default({value:x.value})])]})),{}}}),Cn=J({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Rn(e){return{dimensionStyles:k(()=>{const n={},r=ke(e.height),s=ke(e.maxHeight),i=ke(e.maxWidth),o=ke(e.minHeight),a=ke(e.minWidth),u=ke(e.width);return r!=null&&(n.height=r),s!=null&&(n.maxHeight=s),i!=null&&(n.maxWidth=i),o!=null&&(n.minHeight=o),a!=null&&(n.minWidth=a),u!=null&&(n.width=u),n})}}const Zg={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Eu=J({location:String},"location");function wu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=Sn();return{locationStyles:k(()=>{if(!e.location)return{};const{side:i,align:o}=id(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function a(c){return n?n(c):0}const u={};return i!=="center"&&(t?u[Zg[i]]=`calc(100% - ${a(i)}px)`:u[i]=0),o!=="center"?t?u[Zg[o]]=`calc(100% - ${a(o)}px)`:u[o]=0:(i==="center"?u.top=u.left="50%":u[{top:"left",bottom:"left",left:"top",right:"top"}[i]]="50%",u.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[i]),u})}}const dR=J({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Fe(),...Eu({location:"top"}),...An(),...ut(),...kt()},"VProgressLinear"),fR=be()({name:"VProgressLinear",props:dR(),emits:{"update:modelValue":e=>!0},setup(e,t){var R;let{slots:n}=t;const r=Ot(e,"modelValue"),{isRtl:s,rtlClasses:i}=Sn(),{themeClasses:o}=Lt(e),{locationStyles:a}=wu(e),{textColorClasses:u,textColorStyles:c}=hr(e,"color"),{backgroundColorClasses:d,backgroundColorStyles:f}=Vn(k(()=>e.bgColor||e.color)),{backgroundColorClasses:g,backgroundColorStyles:m}=Vn(k(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:p,backgroundColorStyles:_}=Vn(e,"color"),{roundedClasses:T}=Ln(e),{intersectionRef:x,isIntersecting:O}=eb(),N=k(()=>parseFloat(e.max)),M=k(()=>parseFloat(e.height)),L=k(()=>Ns(parseFloat(e.bufferValue)/N.value*100,0,100)),D=k(()=>Ns(parseFloat(r.value)/N.value*100,0,100)),A=k(()=>s.value!==e.reverse),y=k(()=>e.indeterminate?"fade-transition":"slide-x-transition"),b=it&&((R=window.matchMedia)==null?void 0:R.call(window,"(forced-colors: active)").matches);function C(I){if(!x.value)return;const{left:w,right:z,width:ce}=x.value.getBoundingClientRect(),de=A.value?ce-I.clientX+(z-ce):I.clientX-w;r.value=Math.round(de/ce*N.value)}return Re(()=>E(e.tag,{ref:x,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&O.value,"v-progress-linear--reverse":A.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},T.value,o.value,i.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?ke(M.value):0,"--v-progress-linear-height":ke(M.value),...e.absolute?a.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:D.value,onClick:e.clickable&&C},{default:()=>[e.stream&&E("div",{key:"stream",class:["v-progress-linear__stream",u.value],style:{...c.value,[A.value?"left":"right"]:ke(-M.value),borderTop:`${ke(M.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${ke(M.value/4)})`,width:ke(100-L.value,"%"),"--v-progress-linear-stream-to":ke(M.value*(A.value?1:-1))}},null),E("div",{class:["v-progress-linear__background",b?void 0:d.value],style:[f.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),E("div",{class:["v-progress-linear__buffer",b?void 0:g.value],style:[m.value,{opacity:parseFloat(e.bufferOpacity),width:ke(L.value,"%")}]},null),E(fr,{name:y.value},{default:()=>[e.indeterminate?E("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(I=>E("div",{key:I,class:["v-progress-linear__indeterminate",I,b?void 0:p.value],style:_.value},null))]):E("div",{class:["v-progress-linear__determinate",b?void 0:p.value],style:[_.value,{width:ke(D.value,"%")}]},null)]}),n.default&&E("div",{class:"v-progress-linear__content"},[n.default({value:D.value,buffer:L.value})])]})),{}}}),Nf=J({loading:[Boolean,String]},"loader");function Lf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn();return{loaderClasses:k(()=>({[`${t}--loading`]:e.loading}))}}function nb(e,t){var r;let{slots:n}=t;return E("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||E(fR,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const hR=["static","relative","fixed","absolute","sticky"],Mf=J({position:{type:String,validator:e=>hR.includes(e)}},"position");function Ff(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn();return{positionClasses:k(()=>e.position?`${t}--${e.position}`:void 0)}}function mR(){const e=It("useRoute");return k(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function gR(){var e,t;return(t=(e=It("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function Bf(e,t){var c,d;const n=ET("RouterLink"),r=k(()=>!!(e.href||e.to)),s=k(()=>(r==null?void 0:r.value)||Ig(t,"click")||Ig(e,"click"));if(typeof n=="string"||!("useLink"in n))return{isLink:r,isClickable:s,href:Ie(e,"href")};const i=k(()=>({...e,to:Ie(()=>e.to||"")})),o=n.useLink(i.value),a=k(()=>e.to?o:void 0),u=mR();return{isLink:r,isClickable:s,route:(c=a.value)==null?void 0:c.route,navigate:(d=a.value)==null?void 0:d.navigate,isActive:k(()=>{var f,g,m;return a.value?e.exact?u.value?((m=a.value.isExactActive)==null?void 0:m.value)&&hu(a.value.route.value.query,u.value.query):((g=a.value.isExactActive)==null?void 0:g.value)??!1:((f=a.value.isActive)==null?void 0:f.value)??!1:!1}),href:k(()=>{var f;return e.to?(f=a.value)==null?void 0:f.route.value.href:e.href})}}const Uf=J({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Tc=!1;function vR(e,t){let n=!1,r,s;it&&(Nt(()=>{window.addEventListener("popstate",i),r=e==null?void 0:e.beforeEach((o,a,u)=>{Tc?n?t(u):u():setTimeout(()=>n?t(u):u()),Tc=!0}),s=e==null?void 0:e.afterEach(()=>{Tc=!1})}),Tn(()=>{window.removeEventListener("popstate",i),r==null||r(),s==null||s()}));function i(o){var a;(a=o.state)!=null&&a.replaced||(n=!0,setTimeout(()=>n=!1))}}function pR(e,t){Te(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&Nt(()=>{t(!0)})},{immediate:!0})}const cd=Symbol("rippleStop"),yR=80;function ev(e,t){e.style.transform=t,e.style.webkitTransform=t}function dd(e){return e.constructor.name==="TouchEvent"}function rb(e){return e.constructor.name==="KeyboardEvent"}const _R=function(e,t){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,s=0;if(!rb(e)){const g=t.getBoundingClientRect(),m=dd(e)?e.touches[e.touches.length-1]:e;r=m.clientX-g.left,s=m.clientY-g.top}let i=0,o=.3;(f=t._ripple)!=null&&f.circle?(o=.15,i=t.clientWidth/2,i=n.center?i:i+Math.sqrt((r-i)**2+(s-i)**2)/4):i=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const a=`${(t.clientWidth-i*2)/2}px`,u=`${(t.clientHeight-i*2)/2}px`,c=n.center?a:`${r-i}px`,d=n.center?u:`${s-i}px`;return{radius:i,scale:o,x:c,y:d,centerX:a,centerY:u}},Ll={show(e,t){var m;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((m=t==null?void 0:t._ripple)!=null&&m.enabled))return;const r=document.createElement("span"),s=document.createElement("span");r.appendChild(s),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:i,scale:o,x:a,y:u,centerX:c,centerY:d}=_R(e,t,n),f=`${i*2}px`;s.className="v-ripple__animation",s.style.width=f,s.style.height=f,t.appendChild(r);const g=window.getComputedStyle(t);g&&g.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),ev(s,`translate(${a}, ${u}) scale3d(${o},${o},${o})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),ev(s,`translate(${c}, ${d}) scale3d(1,1,1)`)},0)},hide(e){var i;if(!((i=e==null?void 0:e._ripple)!=null&&i.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),s=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var a;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((a=n.parentNode)==null?void 0:a.parentNode)===e&&e.removeChild(n.parentNode)},300)},s)}};function sb(e){return typeof e>"u"||!!e}function Ko(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[cd])){if(e[cd]=!0,dd(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||rb(e),n._ripple.class&&(t.class=n._ripple.class),dd(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Ll.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},yR)}else Ll.show(e,n,t)}}function tv(e){e[cd]=!0}function cn(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{cn(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Ll.hide(t)}}function ib(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Go=!1;function ob(e){!Go&&(e.keyCode===yg.enter||e.keyCode===yg.space)&&(Go=!0,Ko(e))}function ab(e){Go=!1,cn(e)}function lb(e){Go&&(Go=!1,cn(e))}function ub(e,t,n){const{value:r,modifiers:s}=t,i=sb(r);if(i||Ll.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=i,e._ripple.centered=s.center,e._ripple.circle=s.circle,Rl(r)&&r.class&&(e._ripple.class=r.class),i&&!n){if(s.stop){e.addEventListener("touchstart",tv,{passive:!0}),e.addEventListener("mousedown",tv);return}e.addEventListener("touchstart",Ko,{passive:!0}),e.addEventListener("touchend",cn,{passive:!0}),e.addEventListener("touchmove",ib,{passive:!0}),e.addEventListener("touchcancel",cn),e.addEventListener("mousedown",Ko),e.addEventListener("mouseup",cn),e.addEventListener("mouseleave",cn),e.addEventListener("keydown",ob),e.addEventListener("keyup",ab),e.addEventListener("blur",lb),e.addEventListener("dragstart",cn,{passive:!0})}else!i&&n&&cb(e)}function cb(e){e.removeEventListener("mousedown",Ko),e.removeEventListener("touchstart",Ko),e.removeEventListener("touchend",cn),e.removeEventListener("touchmove",ib),e.removeEventListener("touchcancel",cn),e.removeEventListener("mouseup",cn),e.removeEventListener("mouseleave",cn),e.removeEventListener("keydown",ob),e.removeEventListener("keyup",ab),e.removeEventListener("dragstart",cn),e.removeEventListener("blur",lb)}function bR(e,t){ub(e,t,!1)}function ER(e){delete e._ripple,cb(e)}function wR(e,t){if(t.value===t.oldValue)return;const n=sb(t.oldValue);ub(e,t,n)}const $f={mounted:bR,unmounted:ER,updated:wR},db=J({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:Z_},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:rt,appendIcon:rt,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Er(),...Fe(),...Xn(),...Cn(),...us(),...Q_(),...Nf(),...Eu(),...Mf(),...An(),...Uf(),...Bi(),...ut({tag:"button"}),...kt(),...qs({variant:"elevated"})},"VBtn"),ft=be()({name:"VBtn",props:db(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Lt(e),{borderClasses:i}=as(e),{densityClasses:o}=ls(e),{dimensionStyles:a}=Rn(e),{elevationClasses:u}=zs(e),{loaderClasses:c}=Lf(e),{locationStyles:d}=wu(e),{positionClasses:f}=Ff(e),{roundedClasses:g}=Ln(e),{sizeClasses:m,sizeStyles:p}=bu(e),_=X_(e,e.symbol,!1),T=Bf(e,n),x=k(()=>{var R;return e.active!==void 0?e.active:T.isLink.value?(R=T.isActive)==null?void 0:R.value:_==null?void 0:_.isSelected.value}),O=k(()=>x.value?e.activeColor??e.color:e.color),N=k(()=>{var I,w;return{color:(_==null?void 0:_.isSelected.value)&&(!T.isLink.value||((I=T.isActive)==null?void 0:I.value))||!_||((w=T.isActive)==null?void 0:w.value)?O.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:M,colorStyles:L,variantClasses:D}=_u(N),A=k(()=>(_==null?void 0:_.disabled.value)||e.disabled),y=k(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),b=k(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function C(R){var I;A.value||T.isLink.value&&(R.metaKey||R.ctrlKey||R.shiftKey||R.button!==0||n.target==="_blank")||((I=T.navigate)==null||I.call(T,R),_==null||_.toggle())}return pR(T,_==null?void 0:_.select),Re(()=>{const R=T.isLink.value?"a":e.tag,I=!!(e.prependIcon||r.prepend),w=!!(e.appendIcon||r.append),z=!!(e.icon&&e.icon!==!0);return Pt(E(R,{type:R==="a"?void 0:"button",class:["v-btn",_==null?void 0:_.selectedClass.value,{"v-btn--active":x.value,"v-btn--block":e.block,"v-btn--disabled":A.value,"v-btn--elevated":y.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},s.value,i.value,M.value,o.value,u.value,c.value,f.value,g.value,m.value,D.value,e.class],style:[L.value,a.value,d.value,p.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:A.value||void 0,href:T.href.value,tabindex:e.loading||e.readonly?-1:void 0,onClick:C,value:b.value},{default:()=>{var ce;return[yu(!0,"v-btn"),!e.icon&&I&&E("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?E(Dt,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):E(St,{key:"prepend-icon",icon:e.prependIcon},null)]),E("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&z?E(St,{key:"content-icon",icon:e.icon},null):E(Dt,{key:"content-defaults",disabled:!z,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var de;return[((de=r.default)==null?void 0:de.call(r))??e.text]}})]),!e.icon&&w&&E("span",{key:"append",class:"v-btn__append"},[r.append?E(Dt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):E(St,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&E("span",{key:"loader",class:"v-btn__loader"},[((ce=r.loader)==null?void 0:ce.call(r))??E(tb,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[$f,!A.value&&e.ripple,"",{center:!!e.icon}]])}),{group:_}}}),fb=be()({name:"VCardActions",props:Fe(),setup(e,t){let{slots:n}=t;return Zr({VBtn:{slim:!0,variant:"text"}}),Re(()=>{var r;return E("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),IR=J({opacity:[Number,String],...Fe(),...ut()},"VCardSubtitle"),hb=be()({name:"VCardSubtitle",props:IR(),setup(e,t){let{slots:n}=t;return Re(()=>E(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),Yo=Pf("v-card-title");function TR(e){return{aspectStyles:k(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const mb=J({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Fe(),...Cn()},"VResponsive"),nv=be()({name:"VResponsive",props:mb(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=TR(e),{dimensionStyles:s}=Rn(e);return Re(()=>{var i;return E("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[s.value,e.style]},[E("div",{class:"v-responsive__sizer",style:r.value},null),(i=n.additional)==null?void 0:i.call(n),n.default&&E("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}}),Iu=J({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),rr=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:s,group:i,...o}=e,{component:a=i?wf:fr,...u}=typeof r=="object"?r:{};return Gn(a,Me(typeof r=="string"?{name:s?"":r}:u,typeof r=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:i}).filter(c=>{let[d,f]=c;return f!==void 0})),o),n)};function SR(e,t){if(!If)return;const n=t.modifiers||{},r=t.value,{handler:s,options:i}=typeof r=="object"?r:{handler:r,options:{}},o=new IntersectionObserver(function(){var f;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1?arguments[1]:void 0;const c=(f=e._observe)==null?void 0:f[t.instance.$.uid];if(!c)return;const d=a.some(g=>g.isIntersecting);s&&(!n.quiet||c.init)&&(!n.once||d||c.init)&&s(d,a,u),d&&n.once?gb(e,t):c.init=!0},i);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function gb(e,t){var r;const n=(r=e._observe)==null?void 0:r[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const vb={mounted:SR,unmounted:gb},AR=J({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...mb(),...Fe(),...An(),...Iu()},"VImg"),Tu=be()({name:"VImg",directives:{intersect:vb},props:AR(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:s,backgroundColorStyles:i}=Vn(Ie(e,"color")),{roundedClasses:o}=Ln(e),a=It("VImg"),u=Ce(""),c=Z(),d=Ce(e.eager?"loading":"idle"),f=Ce(),g=Ce(),m=k(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),p=k(()=>m.value.aspect||f.value/g.value||0);Te(()=>e.src,()=>{_(d.value!=="idle")}),Te(p,(I,w)=>{!I&&w&&c.value&&M(c.value)}),ff(()=>_());function _(I){if(!(e.eager&&I)&&!(If&&!I&&!e.eager)){if(d.value="loading",m.value.lazySrc){const w=new Image;w.src=m.value.lazySrc,M(w,null)}m.value.src&&Nt(()=>{var w;n("loadstart",((w=c.value)==null?void 0:w.currentSrc)||m.value.src),setTimeout(()=>{var z;if(!a.isUnmounted)if((z=c.value)!=null&&z.complete){if(c.value.naturalWidth||x(),d.value==="error")return;p.value||M(c.value,null),d.value==="loading"&&T()}else p.value||M(c.value),O()})})}}function T(){var I;a.isUnmounted||(O(),M(c.value),d.value="loaded",n("load",((I=c.value)==null?void 0:I.currentSrc)||m.value.src))}function x(){var I;a.isUnmounted||(d.value="error",n("error",((I=c.value)==null?void 0:I.currentSrc)||m.value.src))}function O(){const I=c.value;I&&(u.value=I.currentSrc||I.src)}let N=-1;on(()=>{clearTimeout(N)});function M(I){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const z=()=>{if(clearTimeout(N),a.isUnmounted)return;const{naturalHeight:ce,naturalWidth:de}=I;ce||de?(f.value=de,g.value=ce):!I.complete&&d.value==="loading"&&w!=null?N=window.setTimeout(z,w):(I.currentSrc.endsWith(".svg")||I.currentSrc.startsWith("data:image/svg+xml"))&&(f.value=1,g.value=1)};z()}const L=k(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),D=()=>{var z;if(!m.value.src||d.value==="idle")return null;const I=E("img",{class:["v-img__img",L.value],style:{objectPosition:e.position},src:m.value.src,srcset:m.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:c,onLoad:T,onError:x},null),w=(z=r.sources)==null?void 0:z.call(r);return E(rr,{transition:e.transition,appear:!0},{default:()=>[Pt(w?E("picture",{class:"v-img__picture"},[w,I]):I,[[os,d.value==="loaded"]])]})},A=()=>E(rr,{transition:e.transition},{default:()=>[m.value.lazySrc&&d.value!=="loaded"&&E("img",{class:["v-img__img","v-img__img--preload",L.value],style:{objectPosition:e.position},src:m.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),y=()=>r.placeholder?E(rr,{transition:e.transition,appear:!0},{default:()=>[(d.value==="loading"||d.value==="error"&&!r.error)&&E("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,b=()=>r.error?E(rr,{transition:e.transition,appear:!0},{default:()=>[d.value==="error"&&E("div",{class:"v-img__error"},[r.error()])]}):null,C=()=>e.gradient?E("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,R=Ce(!1);{const I=Te(p,w=>{w&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{R.value=!0})}),I())})}return Re(()=>{const I=nv.filterProps(e);return Pt(E(nv,Me({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!R.value},s.value,o.value,e.class],style:[{width:ke(e.width==="auto"?f.value:e.width)},i.value,e.style]},I,{aspectRatio:p.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>E(Ue,null,[E(D,null,null),E(A,null,null),E(C,null,null),E(y,null,null),E(b,null,null)]),default:r.default}),[[Kn("intersect"),{handler:_,options:e.options},null,{once:!0}]])}),{currentSrc:u,image:c,state:d,naturalWidth:f,naturalHeight:g}}}),CR=J({start:Boolean,end:Boolean,icon:rt,image:String,text:String,...Er(),...Fe(),...Xn(),...An(),...Bi(),...ut(),...kt(),...qs({variant:"flat"})},"VAvatar"),xs=be()({name:"VAvatar",props:CR(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Lt(e),{borderClasses:s}=as(e),{colorClasses:i,colorStyles:o,variantClasses:a}=_u(e),{densityClasses:u}=ls(e),{roundedClasses:c}=Ln(e),{sizeClasses:d,sizeStyles:f}=bu(e);return Re(()=>E(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,s.value,i.value,u.value,c.value,d.value,a.value,e.class],style:[o.value,f.value,e.style]},{default:()=>[n.default?E(Dt,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?E(Tu,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?E(St,{key:"icon",icon:e.icon},null):e.text,yu(!1,"v-avatar")]})),{}}}),RR=J({appendAvatar:String,appendIcon:rt,prependAvatar:String,prependIcon:rt,subtitle:[String,Number],title:[String,Number],...Fe(),...Xn()},"VCardItem"),PR=be()({name:"VCardItem",props:RR(),setup(e,t){let{slots:n}=t;return Re(()=>{var c;const r=!!(e.prependAvatar||e.prependIcon),s=!!(r||n.prepend),i=!!(e.appendAvatar||e.appendIcon),o=!!(i||n.append),a=!!(e.title!=null||n.title),u=!!(e.subtitle!=null||n.subtitle);return E("div",{class:["v-card-item",e.class],style:e.style},[s&&E("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?E(Dt,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):E(Ue,null,[e.prependAvatar&&E(xs,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&E(St,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),E("div",{class:"v-card-item__content"},[a&&E(Yo,{key:"title"},{default:()=>{var d;return[((d=n.title)==null?void 0:d.call(n))??e.title]}}),u&&E(hb,{key:"subtitle"},{default:()=>{var d;return[((d=n.subtitle)==null?void 0:d.call(n))??e.subtitle]}}),(c=n.default)==null?void 0:c.call(n)]),o&&E("div",{key:"append",class:"v-card-item__append"},[n.append?E(Dt,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):E(Ue,null,[e.appendIcon&&E(St,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&E(xs,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),kR=J({opacity:[Number,String],...Fe(),...ut()},"VCardText"),Hr=be()({name:"VCardText",props:kR(),setup(e,t){let{slots:n}=t;return Re(()=>E(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),xR=J({appendAvatar:String,appendIcon:rt,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:rt,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...Er(),...Fe(),...Xn(),...Cn(),...us(),...Nf(),...Eu(),...Mf(),...An(),...Uf(),...ut(),...kt(),...qs({variant:"elevated"})},"VCard"),jf=be()({name:"VCard",directives:{Ripple:$f},props:xR(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Lt(e),{borderClasses:i}=as(e),{colorClasses:o,colorStyles:a,variantClasses:u}=_u(e),{densityClasses:c}=ls(e),{dimensionStyles:d}=Rn(e),{elevationClasses:f}=zs(e),{loaderClasses:g}=Lf(e),{locationStyles:m}=wu(e),{positionClasses:p}=Ff(e),{roundedClasses:_}=Ln(e),T=Bf(e,n),x=k(()=>e.link!==!1&&T.isLink.value),O=k(()=>!e.disabled&&e.link!==!1&&(e.link||T.isClickable.value));return Re(()=>{const N=x.value?"a":e.tag,M=!!(r.title||e.title!=null),L=!!(r.subtitle||e.subtitle!=null),D=M||L,A=!!(r.append||e.appendAvatar||e.appendIcon),y=!!(r.prepend||e.prependAvatar||e.prependIcon),b=!!(r.image||e.image),C=D||y||A,R=!!(r.text||e.text!=null);return Pt(E(N,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":O.value},s.value,i.value,o.value,c.value,f.value,g.value,p.value,_.value,u.value,e.class],style:[a.value,d.value,m.value,e.style],href:T.href.value,onClick:O.value&&T.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var I;return[b&&E("div",{key:"image",class:"v-card__image"},[r.image?E(Dt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):E(Tu,{key:"image-img",cover:!0,src:e.image},null)]),E(nb,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),C&&E(PR,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),R&&E(Hr,{key:"text"},{default:()=>{var w;return[((w=r.text)==null?void 0:w.call(r))??e.text]}}),(I=r.default)==null?void 0:I.call(r),r.actions&&E(fb,null,{default:r.actions}),yu(O.value,"v-card")]}}),[[Kn("ripple"),O.value&&e.ripple]])}),{}}}),VR=J({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function gn(e,t,n){return be()({name:e,props:VR({mode:n,origin:t}),setup(r,s){let{slots:i}=s;const o={onBeforeEnter(a){r.origin&&(a.style.transformOrigin=r.origin)},onLeave(a){if(r.leaveAbsolute){const{offsetTop:u,offsetLeft:c,offsetWidth:d,offsetHeight:f}=a;a._transitionInitialStyles={position:a.style.position,top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height},a.style.position="absolute",a.style.top=`${u}px`,a.style.left=`${c}px`,a.style.width=`${d}px`,a.style.height=`${f}px`}r.hideOnLeave&&a.style.setProperty("display","none","important")},onAfterLeave(a){if(r.leaveAbsolute&&(a!=null&&a._transitionInitialStyles)){const{position:u,top:c,left:d,width:f,height:g}=a._transitionInitialStyles;delete a._transitionInitialStyles,a.style.position=u||"",a.style.top=c||"",a.style.left=d||"",a.style.width=f||"",a.style.height=g||""}}};return()=>{const a=r.group?wf:fr;return Gn(a,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:o},i.default)}}})}function pb(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return be()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(r,s){let{slots:i}=s;const o=r.group?wf:fr;return()=>Gn(o,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},i.default)}})}function yb(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=hn(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const a=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const u=`${o[r]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=a.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=u})},onAfterEnter:i,onEnterCancelled:i,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[r]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(o){e&&o._parent&&o._parent.classList.remove(e),i(o)}function i(o){const a=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,a!=null&&(o.style[n]=a),delete o._initialStyle}}const OR=J({target:[Object,Array]},"v-dialog-transition"),_b=be()({name:"VDialogTransition",props:OR(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,i){var g;await new Promise(m=>requestAnimationFrame(m)),await new Promise(m=>requestAnimationFrame(m)),s.style.visibility="";const{x:o,y:a,sx:u,sy:c,speed:d}=sv(e.target,s),f=ws(s,[{transform:`translate(${o}px, ${a}px) scale(${u}, ${c})`,opacity:0},{}],{duration:225*d,easing:DA});(g=rv(s))==null||g.forEach(m=>{ws(m,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*d,easing:qo})}),f.finished.then(()=>i())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,i){var g;await new Promise(m=>requestAnimationFrame(m));const{x:o,y:a,sx:u,sy:c,speed:d}=sv(e.target,s);ws(s,[{},{transform:`translate(${o}px, ${a}px) scale(${u}, ${c})`,opacity:0}],{duration:125*d,easing:NA}).finished.then(()=>i()),(g=rv(s))==null||g.forEach(m=>{ws(m,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*d,easing:qo})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>e.target?E(fr,Me({name:"dialog-transition"},r,{css:!1}),n):E(fr,{name:"dialog-transition"},n)}});function rv(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function sv(e,t){const n=R_(e),r=Af(t),[s,i]=getComputedStyle(t).transformOrigin.split(" ").map(x=>parseFloat(x)),[o,a]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=n.left+n.width/2;o==="left"||a==="left"?u-=n.width/2:(o==="right"||a==="right")&&(u+=n.width/2);let c=n.top+n.height/2;o==="top"||a==="top"?c-=n.height/2:(o==="bottom"||a==="bottom")&&(c+=n.height/2);const d=n.width/r.width,f=n.height/r.height,g=Math.max(1,d,f),m=d/g||0,p=f/g||0,_=r.width*r.height/(window.innerWidth*window.innerHeight),T=_>.12?Math.min(1.5,(_-.12)*10+1):1;return{x:u-(s+r.left),y:c-(i+r.top),sx:m,sy:p,speed:T}}gn("fab-transition","center center","out-in");gn("dialog-bottom-transition");gn("dialog-top-transition");const iv=gn("fade-transition");gn("scale-transition");gn("scroll-x-transition");gn("scroll-x-reverse-transition");gn("scroll-y-transition");gn("scroll-y-reverse-transition");gn("slide-x-transition");gn("slide-x-reverse-transition");const bb=gn("slide-y-transition");gn("slide-y-reverse-transition");const Eb=pb("expand-transition",yb()),DR=pb("expand-x-transition",yb("",!0));function Sc(e,t){return{x:e.x+t.x,y:e.y+t.y}}function NR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ov(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,s=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,i=n==="top"?0:n==="bottom"?t.height:n;return Sc({x:s,y:i},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,s=n==="left"?0:n==="right"?t.width:n,i=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return Sc({x:s,y:i},t)}return Sc({x:t.width/2,y:t.height/2},t)}const wb={static:FR,connected:UR},LR=J({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in wb},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function MR(e,t){const n=Z({}),r=Z();it&&Ds(()=>!!(t.isActive.value&&e.locationStrategy),i=>{var o,a;Te(()=>e.locationStrategy,i),Tn(()=>{window.removeEventListener("resize",s),r.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof e.locationStrategy=="function"?r.value=(o=e.locationStrategy(t,e,n))==null?void 0:o.updateLocation:r.value=(a=wb[e.locationStrategy](t,e,n))==null?void 0:a.updateLocation});function s(i){var o;(o=r.value)==null||o.call(r,i)}return{contentStyles:n,updateLocation:r}}function FR(){}function BR(e,t){const n=Af(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function UR(e,t,n){(Array.isArray(e.target.value)||FA(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:i}=Sf(()=>{const p=id(t.location,e.isRtl.value),_=t.origin==="overlap"?p:t.origin==="auto"?bc(p):id(t.origin,e.isRtl.value);return p.side===_.side&&p.align===Ec(_).align?{preferredAnchor:Sg(p),preferredOrigin:Sg(_)}:{preferredAnchor:p,preferredOrigin:_}}),[o,a,u,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(p=>k(()=>{const _=parseFloat(t[p]);return isNaN(_)?1/0:_})),d=k(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const p=t.offset.split(" ").map(parseFloat);return p.length<2&&p.push(0),p}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let f=!1;const g=new ResizeObserver(()=>{f&&m()});Te([e.target,e.contentEl],(p,_)=>{let[T,x]=p,[O,N]=_;O&&!Array.isArray(O)&&g.unobserve(O),T&&!Array.isArray(T)&&g.observe(T),N&&g.unobserve(N),x&&g.observe(x)},{immediate:!0}),Tn(()=>{g.disconnect()});function m(){if(f=!1,requestAnimationFrame(()=>f=!0),!e.target.value||!e.contentEl.value)return;const p=R_(e.target.value),_=BR(e.contentEl.value,e.isRtl.value),T=xl(e.contentEl.value),x=12;T.length||(T.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(_.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),_.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const O=T.reduce((R,I)=>{const w=I.getBoundingClientRect(),z=new ks({x:I===document.documentElement?0:w.x,y:I===document.documentElement?0:w.y,width:I.clientWidth,height:I.clientHeight});return R?new ks({x:Math.max(R.left,z.left),y:Math.max(R.top,z.top),width:Math.min(R.right,z.right)-Math.max(R.left,z.left),height:Math.min(R.bottom,z.bottom)-Math.max(R.top,z.top)}):z},void 0);O.x+=x,O.y+=x,O.width-=x*2,O.height-=x*2;let N={anchor:s.value,origin:i.value};function M(R){const I=new ks(_),w=ov(R.anchor,p),z=ov(R.origin,I);let{x:ce,y:de}=NR(w,z);switch(R.anchor.side){case"top":de-=d.value[0];break;case"bottom":de+=d.value[0];break;case"left":ce-=d.value[0];break;case"right":ce+=d.value[0];break}switch(R.anchor.align){case"top":de-=d.value[1];break;case"bottom":de+=d.value[1];break;case"left":ce-=d.value[1];break;case"right":ce+=d.value[1];break}return I.x+=ce,I.y+=de,I.width=Math.min(I.width,u.value),I.height=Math.min(I.height,c.value),{overflows:Cg(I,O),x:ce,y:de}}let L=0,D=0;const A={x:0,y:0},y={x:!1,y:!1};let b=-1;for(;!(b++>10);){const{x:R,y:I,overflows:w}=M(N);L+=R,D+=I,_.x+=R,_.y+=I;{const z=Ag(N.anchor),ce=w.x.before||w.x.after,de=w.y.before||w.y.after;let se=!1;if(["x","y"].forEach(oe=>{if(oe==="x"&&ce&&!y.x||oe==="y"&&de&&!y.y){const Be={anchor:{...N.anchor},origin:{...N.origin}},ae=oe==="x"?z==="y"?Ec:bc:z==="y"?bc:Ec;Be.anchor=ae(Be.anchor),Be.origin=ae(Be.origin);const{overflows:G}=M(Be);(G[oe].before<=w[oe].before&&G[oe].after<=w[oe].after||G[oe].before+G[oe].after<(w[oe].before+w[oe].after)/2)&&(N=Be,se=y[oe]=!0)}}),se)continue}w.x.before&&(L+=w.x.before,_.x+=w.x.before),w.x.after&&(L-=w.x.after,_.x-=w.x.after),w.y.before&&(D+=w.y.before,_.y+=w.y.before),w.y.after&&(D-=w.y.after,_.y-=w.y.after);{const z=Cg(_,O);A.x=O.width-z.x.before-z.x.after,A.y=O.height-z.y.before-z.y.after,L+=z.x.before,_.x+=z.x.before,D+=z.y.before,_.y+=z.y.before}break}const C=Ag(N.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${N.anchor.side} ${N.anchor.align}`,transformOrigin:`${N.origin.side} ${N.origin.align}`,top:ke(Ac(D)),left:e.isRtl.value?void 0:ke(Ac(L)),right:e.isRtl.value?ke(Ac(-L)):void 0,minWidth:ke(C==="y"?Math.min(o.value,p.width):o.value),maxWidth:ke(av(Ns(A.x,o.value===1/0?0:o.value,u.value))),maxHeight:ke(av(Ns(A.y,a.value===1/0?0:a.value,c.value)))}),{available:A,contentBox:_}}return Te(()=>[s.value,i.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>m()),Nt(()=>{const p=m();if(!p)return;const{available:_,contentBox:T}=p;T.height>_.y&&requestAnimationFrame(()=>{m(),requestAnimationFrame(()=>{m()})})}),{updateLocation:m}}function Ac(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function av(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let fd=!0;const Ml=[];function $R(e){!fd||Ml.length?(Ml.push(e),hd()):(fd=!1,e(),hd())}let lv=-1;function hd(){cancelAnimationFrame(lv),lv=requestAnimationFrame(()=>{const e=Ml.shift();e&&e(),Ml.length?hd():fd=!0})}const dl={none:null,close:zR,block:qR,reposition:WR},jR=J({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in dl}},"VOverlay-scroll-strategies");function HR(e,t){if(!it)return;let n;br(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=ua(),await new Promise(r=>setTimeout(r)),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=dl[e.scrollStrategy])==null||r.call(dl,t,e,n)}))}),Tn(()=>{n==null||n.stop()})}function zR(e){function t(n){e.isActive.value=!1}Ib(e.targetEl.value??e.contentEl.value,t)}function qR(e,t){var o;const n=(o=e.root.value)==null?void 0:o.offsetParent,r=[...new Set([...xl(e.targetEl.value,t.contained?n:void 0),...xl(e.contentEl.value,t.contained?n:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,i=(a=>kf(a)&&a)(n||document.documentElement);i&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((a,u)=>{a.style.setProperty("--v-body-scroll-x",ke(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",ke(-a.scrollTop)),a!==document.documentElement&&a.style.setProperty("--v-scrollbar-offset",ke(s)),a.classList.add("v-overlay-scroll-blocked")}),Tn(()=>{r.forEach((a,u)=>{const c=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),d=parseFloat(a.style.getPropertyValue("--v-body-scroll-y")),f=a.style.scrollBehavior;a.style.scrollBehavior="auto",a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-c,a.scrollTop=-d,a.style.scrollBehavior=f}),i&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function WR(e,t,n){let r=!1,s=-1,i=-1;function o(a){$R(()=>{var d,f;const u=performance.now();(f=(d=e.updateLocation).value)==null||f.call(d,a),r=(performance.now()-u)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{Ib(e.targetEl.value??e.contentEl.value,a=>{r?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{o(a)})})):o(a)})})}),Tn(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(s)})}function Ib(e,t){const n=[document,...xl(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),Tn(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const md=Symbol.for("vuetify:v-menu"),KR=J({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function GR(e,t){let n=()=>{};function r(o){n==null||n();const a=Number(o?e.openDelay:e.closeDelay);return new Promise(u=>{n=rA(a,()=>{t==null||t(o),u(o)})})}function s(){return r(!0)}function i(){return r(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:i}}const YR=J({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...KR()},"VOverlay-activator");function QR(e,t){let{isActive:n,isTop:r,contentEl:s}=t;const i=It("useActivator"),o=Z();let a=!1,u=!1,c=!0;const d=k(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),f=k(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!d.value),{runOpenDelay:g,runCloseDelay:m}=GR(e,y=>{y===(e.openOnHover&&a||d.value&&u)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==y&&(c=!0),n.value=y)}),p=Z(),_={onClick:y=>{y.stopPropagation(),o.value=y.currentTarget||y.target,n.value||(p.value=[y.clientX,y.clientY]),n.value=!n.value},onMouseenter:y=>{var b;(b=y.sourceCapabilities)!=null&&b.firesTouchEvents||(a=!0,o.value=y.currentTarget||y.target,g())},onMouseleave:y=>{a=!1,m()},onFocus:y=>{nA(y.target,":focus-visible")!==!1&&(u=!0,y.stopPropagation(),o.value=y.currentTarget||y.target,g())},onBlur:y=>{u=!1,y.stopPropagation(),m()}},T=k(()=>{const y={};return f.value&&(y.onClick=_.onClick),e.openOnHover&&(y.onMouseenter=_.onMouseenter,y.onMouseleave=_.onMouseleave),d.value&&(y.onFocus=_.onFocus,y.onBlur=_.onBlur),y}),x=k(()=>{const y={};if(e.openOnHover&&(y.onMouseenter=()=>{a=!0,g()},y.onMouseleave=()=>{a=!1,m()}),d.value&&(y.onFocusin=()=>{u=!0,g()},y.onFocusout=()=>{u=!1,m()}),e.closeOnContentClick){const b=qe(md,null);y.onClick=()=>{n.value=!1,b==null||b.closeParents()}}return y}),O=k(()=>{const y={};return e.openOnHover&&(y.onMouseenter=()=>{c&&(a=!0,c=!1,g())},y.onMouseleave=()=>{a=!1,m()}),y});Te(r,y=>{var b;y&&(e.openOnHover&&!a&&(!d.value||!u)||d.value&&!u&&(!e.openOnHover||!a))&&!((b=s.value)!=null&&b.contains(document.activeElement))&&(n.value=!1)}),Te(n,y=>{y||setTimeout(()=>{p.value=void 0})},{flush:"post"});const N=sd();br(()=>{N.value&&Nt(()=>{o.value=N.el})});const M=sd(),L=k(()=>e.target==="cursor"&&p.value?p.value:M.value?M.el:Tb(e.target,i)||o.value),D=k(()=>Array.isArray(L.value)?void 0:L.value);let A;return Te(()=>!!e.activator,y=>{y&&it?(A=ua(),A.run(()=>{XR(e,i,{activatorEl:o,activatorEvents:T})})):A&&A.stop()},{flush:"post",immediate:!0}),Tn(()=>{A==null||A.stop()}),{activatorEl:o,activatorRef:N,target:L,targetEl:D,targetRef:M,activatorEvents:T,contentEvents:x,scrimEvents:O}}function XR(e,t,n){let{activatorEl:r,activatorEvents:s}=n;Te(()=>e.activator,(u,c)=>{if(c&&u!==c){const d=a(c);d&&o(d)}u&&Nt(()=>i())},{immediate:!0}),Te(()=>e.activatorProps,()=>{i()}),Tn(()=>{o()});function i(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&oA(u,Me(s.value,c))}function o(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&aA(u,Me(s.value,c))}function a(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const c=Tb(u,t);return r.value=(c==null?void 0:c.nodeType)===Node.ELEMENT_NODE?c:void 0,r.value}}function Tb(e,t){var r,s;if(!e)return;let n;if(e==="parent"){let i=(s=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:s.parentNode;for(;i!=null&&i.hasAttribute("data-no-activator");)i=i.parentNode;n=i}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function JR(){if(!it)return Ce(!1);const{ssr:e}=vu();if(e){const t=Ce(!1);return mn(()=>{t.value=!0}),t}else return Ce(!0)}const Sb=J({eager:Boolean},"lazy");function Ab(e,t){const n=Ce(!1),r=k(()=>n.value||e.eager||t.value);Te(t,()=>n.value=!0);function s(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:s}}function ha(){const t=It("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const uv=Symbol.for("vuetify:stack"),fo=Bt([]);function ZR(e,t,n){const r=It("useStack"),s=!n,i=qe(uv,void 0),o=Bt({activeChildren:new Set});wt(uv,o);const a=Ce(+t.value);Ds(e,()=>{var f;const d=(f=fo.at(-1))==null?void 0:f[1];a.value=d?d+10:+t.value,s&&fo.push([r.uid,a.value]),i==null||i.activeChildren.add(r.uid),Tn(()=>{if(s){const g=_e(fo).findIndex(m=>m[0]===r.uid);fo.splice(g,1)}i==null||i.activeChildren.delete(r.uid)})});const u=Ce(!0);s&&br(()=>{var f;const d=((f=fo.at(-1))==null?void 0:f[0])===r.uid;setTimeout(()=>u.value=d)});const c=k(()=>!o.activeChildren.size);return{globalTop:ca(u),localTop:c,stackStyles:k(()=>({zIndex:a.value}))}}function eP(e){return{teleportTarget:k(()=>{const n=e();if(n===!0||!it)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let s=[...r.children].find(i=>i.matches(".v-overlay-container"));return s||(s=document.createElement("div"),s.className="v-overlay-container",r.appendChild(s)),s})}}function tP(){return!0}function Cb(e,t,n){if(!e||Rb(e,n)===!1)return!1;const r=N_(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(t),!s.some(i=>i==null?void 0:i.contains(e.target))}function Rb(e,t){return(typeof t.value=="object"&&t.value.closeConditional||tP)(e)}function nP(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&Cb(e,t,n)&&setTimeout(()=>{Rb(e,n)&&r&&r(e)},0)}function cv(e,t){const n=N_(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const rP={mounted(e,t){const n=s=>nP(s,e,t),r=s=>{e._clickOutside.lastMousedownWasOutside=Cb(s,e,t)};cv(e,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},beforeUnmount(e,t){e._clickOutside&&(cv(e,n=>{var i;if(!n||!((i=e._clickOutside)!=null&&i[t.instance.$.uid]))return;const{onClick:r,onMousedown:s}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",s,!0)}),delete e._clickOutside[t.instance.$.uid])}};function sP(e){const{modelValue:t,color:n,...r}=e;return E(fr,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&E("div",Me({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const Su=J({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...YR(),...Fe(),...Cn(),...Sb(),...LR(),...jR(),...kt(),...Iu()},"VOverlay"),Si=be()({name:"VOverlay",directives:{ClickOutside:rP},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Su()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:s}=t;const i=It("VOverlay"),o=Z(),a=Z(),u=Z(),c=Ot(e,"modelValue"),d=k({get:()=>c.value,set:Pe=>{Pe&&e.disabled||(c.value=Pe)}}),{themeClasses:f}=Lt(e),{rtlClasses:g,isRtl:m}=Sn(),{hasContent:p,onAfterLeave:_}=Ab(e,d),T=Vn(k(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:x,localTop:O,stackStyles:N}=ZR(d,Ie(e,"zIndex"),e._disableGlobalStack),{activatorEl:M,activatorRef:L,target:D,targetEl:A,targetRef:y,activatorEvents:b,contentEvents:C,scrimEvents:R}=QR(e,{isActive:d,isTop:O,contentEl:u}),{teleportTarget:I}=eP(()=>{var X,Y,he;const Pe=e.attach||e.contained;if(Pe)return Pe;const U=((X=M==null?void 0:M.value)==null?void 0:X.getRootNode())||((he=(Y=i.proxy)==null?void 0:Y.$el)==null?void 0:he.getRootNode());return U instanceof ShadowRoot?U:!1}),{dimensionStyles:w}=Rn(e),z=JR(),{scopeId:ce}=ha();Te(()=>e.disabled,Pe=>{Pe&&(d.value=!1)});const{contentStyles:de,updateLocation:se}=MR(e,{isRtl:m,contentEl:u,target:D,isActive:d});HR(e,{root:o,contentEl:u,targetEl:A,isActive:d,updateLocation:se});function oe(Pe){s("click:outside",Pe),e.persistent?Le():d.value=!1}function Be(Pe){return d.value&&x.value&&(!e.scrim||Pe.target===a.value||Pe instanceof MouseEvent&&Pe.shadowTarget===a.value)}it&&Te(d,Pe=>{Pe?window.addEventListener("keydown",ae):window.removeEventListener("keydown",ae)},{immediate:!0}),on(()=>{it&&window.removeEventListener("keydown",ae)});function ae(Pe){var U,X;Pe.key==="Escape"&&x.value&&(e.persistent?Le():(d.value=!1,(U=u.value)!=null&&U.contains(document.activeElement)&&((X=M.value)==null||X.focus())))}const G=gR();Ds(()=>e.closeOnBack,()=>{vR(G,Pe=>{x.value&&d.value?(Pe(!1),e.persistent?Le():d.value=!1):Pe()})});const fe=Z();Te(()=>d.value&&(e.absolute||e.contained)&&I.value==null,Pe=>{if(Pe){const U=LA(o.value);U&&U!==document.scrollingElement&&(fe.value=U.scrollTop)}});function Le(){e.noClickAnimation||u.value&&ws(u.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:qo})}function ht(){s("afterEnter")}function ct(){_(),s("afterLeave")}return Re(()=>{var Pe;return E(Ue,null,[(Pe=n.activator)==null?void 0:Pe.call(n,{isActive:d.value,targetRef:y,props:Me({ref:L},b.value,e.activatorProps)}),z.value&&p.value&&E(UT,{disabled:!I.value,to:I.value},{default:()=>[E("div",Me({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":d.value,"v-overlay--contained":e.contained},f.value,g.value,e.class],style:[N.value,{"--v-overlay-opacity":e.opacity,top:ke(fe.value)},e.style],ref:o},ce,r),[E(sP,Me({color:T,modelValue:d.value&&!!e.scrim,ref:a},R.value),null),E(rr,{appear:!0,persisted:!0,transition:e.transition,target:D.value,onAfterEnter:ht,onAfterLeave:ct},{default:()=>{var U;return[Pt(E("div",Me({ref:u,class:["v-overlay__content",e.contentClass],style:[w.value,de.value]},C.value,e.contentProps),[(U=n.default)==null?void 0:U.call(n,{isActive:d})]),[[os,d.value],[Kn("click-outside"),{handler:oe,closeConditional:Be,include:()=>[M.value]}]])]}})])]})])}),{activatorEl:M,scrimEl:a,target:D,animateClick:Le,contentEl:u,globalTop:x,localTop:O,updateLocation:se}}}),Cc=Symbol("Forwarded refs");function Rc(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ui(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[Cc]=n,new Proxy(e,{get(s,i){if(Reflect.has(s,i))return Reflect.get(s,i);if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,i)){const a=Reflect.get(o.value,i);return typeof a=="function"?a.bind(o.value):a}}},has(s,i){if(Reflect.has(s,i))return!0;if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,i))return!0;return!1},set(s,i,o){if(Reflect.has(s,i))return Reflect.set(s,i,o);if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,i))return Reflect.set(a.value,i,o);return!1},getOwnPropertyDescriptor(s,i){var a;const o=Reflect.getOwnPropertyDescriptor(s,i);if(o)return o;if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const u of n){if(!u.value)continue;const c=Rc(u.value,i)??("_"in u.value?Rc((a=u.value._)==null?void 0:a.setupState,i):void 0);if(c)return c}for(const u of n){const c=u.value&&u.value[Cc];if(!c)continue;const d=c.slice();for(;d.length;){const f=d.shift(),g=Rc(f.value,i);if(g)return g;const m=f.value&&f.value[Cc];m&&d.push(...m)}}}}})}const iP=J({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Su({origin:"center center",scrollStrategy:"block",transition:{component:_b},zIndex:2400})},"VDialog"),oP=be()({name:"VDialog",props:iP(),emits:{"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=Ot(e,"modelValue"),{scopeId:i}=ha(),o=Z();function a(d){var m,p;const f=d.relatedTarget,g=d.target;if(f!==g&&((m=o.value)!=null&&m.contentEl)&&((p=o.value)!=null&&p.globalTop)&&![document,o.value.contentEl].includes(g)&&!o.value.contentEl.contains(g)){const _=Ho(o.value.contentEl);if(!_.length)return;const T=_[0],x=_[_.length-1];f===T?x.focus():T.focus()}}it&&Te(()=>s.value&&e.retainFocus,d=>{d?document.addEventListener("focusin",a):document.removeEventListener("focusin",a)},{immediate:!0});function u(){var d;(d=o.value)!=null&&d.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function c(){n("afterLeave")}return Te(s,async d=>{var f;d||(await Nt(),(f=o.value.activatorEl)==null||f.focus({preventScroll:!0}))}),Re(()=>{const d=Si.filterProps(e),f=Me({"aria-haspopup":"dialog","aria-expanded":String(s.value)},e.activatorProps),g=Me({tabindex:-1},e.contentProps);return E(Si,Me({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},d,{modelValue:s.value,"onUpdate:modelValue":m=>s.value=m,"aria-modal":"true",activatorProps:f,contentProps:g,role:"dialog",onAfterEnter:u,onAfterLeave:c},i),{activator:r.activator,default:function(){for(var m=arguments.length,p=new Array(m),_=0;_<m;_++)p[_]=arguments[_];return E(Dt,{root:"VDialog"},{default:()=>{var T;return[(T=r.default)==null?void 0:T.call(r,...p)]}})}})}),Ui({},o)}}),aP={class:"d-flex justify-end"},lP={__name:"ModalDialog",setup(e,{expose:t}){const n=Z(!1),r=()=>n.value=!1;return t({openModal:()=>n.value=!0,closeModal:r}),(i,o)=>(Oe(),Ge(oP,{"model-value":le(n),"onUpdate:modelValue":r,"max-width":"500px"},{default:re(()=>[E(jf,{"min-height":"400px"},{default:re(()=>[At("div",aP,[E(ft,{icon:"",onClick:r,class:"mt-4 mr-4"},{default:re(()=>[E(St,null,{default:re(()=>[Ze("mdi-close")]),_:1})]),_:1})]),E(Hr,{class:"d-flex justify-center align-center"},{default:re(()=>[jy(i.$slots,"modal-content")]),_:3})]),_:3})]),_:3},8,["model-value"]))}},uP=J({fluid:{type:Boolean,default:!1},...Fe(),...Cn(),...ut()},"VContainer"),dn=be()({name:"VContainer",props:uP(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=Sn(),{dimensionStyles:s}=Rn(e);return Re(()=>E(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:[s.value,e.style]},n)),{}}}),Pb=gu.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),kb=gu.reduce((e,t)=>{const n="offset"+yr(t);return e[n]={type:[String,Number],default:null},e},{}),xb=gu.reduce((e,t)=>{const n="order"+yr(t);return e[n]={type:[String,Number],default:null},e},{}),dv={col:Object.keys(Pb),offset:Object.keys(kb),order:Object.keys(xb)};function cP(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const s=t.replace(e,"");r+=`-${s}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const dP=["auto","start","end","center","baseline","stretch"],fP=J({cols:{type:[Boolean,String,Number],default:!1},...Pb,offset:{type:[String,Number],default:null},...kb,order:{type:[String,Number],default:null},...xb,alignSelf:{type:String,default:null,validator:e=>dP.includes(e)},...Fe(),...ut()},"VCol"),zr=be()({name:"VCol",props:fP(),setup(e,t){let{slots:n}=t;const r=k(()=>{const s=[];let i;for(i in dv)dv[i].forEach(a=>{const u=e[a],c=cP(i,a,u);c&&s.push(c)});const o=s.some(a=>a.startsWith("v-col-"));return s.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return Gn(e.tag,{class:[r.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),Hf=["start","end","center"],Vb=["space-between","space-around","space-evenly"];function zf(e,t){return gu.reduce((n,r)=>{const s=e+yr(r);return n[s]=t(),n},{})}const hP=[...Hf,"baseline","stretch"],Ob=e=>hP.includes(e),Db=zf("align",()=>({type:String,default:null,validator:Ob})),mP=[...Hf,...Vb],Nb=e=>mP.includes(e),Lb=zf("justify",()=>({type:String,default:null,validator:Nb})),gP=[...Hf,...Vb,"stretch"],Mb=e=>gP.includes(e),Fb=zf("alignContent",()=>({type:String,default:null,validator:Mb})),fv={align:Object.keys(Db),justify:Object.keys(Lb),alignContent:Object.keys(Fb)},vP={align:"align",justify:"justify",alignContent:"align-content"};function pP(e,t,n){let r=vP[e];if(n!=null){if(t){const s=t.replace(e,"");r+=`-${s}`}return r+=`-${n}`,r.toLowerCase()}}const yP=J({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Ob},...Db,justify:{type:String,default:null,validator:Nb},...Lb,alignContent:{type:String,default:null,validator:Mb},...Fb,...Fe(),...ut()},"VRow"),Fl=be()({name:"VRow",props:yP(),setup(e,t){let{slots:n}=t;const r=k(()=>{const s=[];let i;for(i in fv)fv[i].forEach(o=>{const a=e[o],u=pP(i,o,a);u&&s.push(u)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return Gn(e.tag,{class:["v-row",r.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),Bb=Pf("v-spacer","div","VSpacer"),_P={key:0,class:"loader-container"},Ub={__name:"LoaderSpinner",props:{isLoading:{type:Boolean,required:!0,default:!1},size:{type:Number,required:!1,default:50},color:{type:String,required:!1,default:"primary"}},setup(e){return(t,n)=>e.isLoading?(Oe(),En("div",_P,[E(dn,{width:"100%",class:"d-flex justify-center align-center"},{default:re(()=>[E(tb,{size:e.size,color:e.color,indeterminate:""},null,8,["size","color"])]),_:1})])):xn("",!0)}};var hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},bP=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},jb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,u=s+2<e.length,c=u?e[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let g=(a&15)<<2|c>>6,m=c&63;u||(m=64,o||(g=64)),r.push(n[d],n[f],n[g],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($b(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):bP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const f=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new EP;const g=i<<2|a>>4;if(r.push(g),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const p=c<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class EP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wP=function(e){const t=$b(e);return jb.encodeByteArray(t,!0)},Bl=function(e){return wP(e).replace(/\./g,"")},Hb=function(e){try{return jb.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=()=>IP().__FIREBASE_DEFAULTS__,SP=()=>{if(typeof process>"u"||typeof hv>"u")return;const e=hv.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},AP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Hb(e[1]);return t&&JSON.parse(t)},Au=()=>{try{return TP()||SP()||AP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},zb=e=>{var t,n;return(n=(t=Au())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},CP=e=>{const t=zb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},qb=()=>{var e;return(e=Au())===null||e===void 0?void 0:e.config},Wb=e=>{var t;return(t=Au())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Bl(JSON.stringify(n)),Bl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function xP(){var e;const t=(e=Au())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VP(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function OP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DP(){const e=Xt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function NP(){return!xP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LP(){try{return typeof indexedDB=="object"}catch{return!1}}function MP(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="FirebaseError";class wr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=FP,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ma.prototype.create)}}class ma{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?BP(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new wr(s,a,r)}}function BP(e,t){return e.replace(UP,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const UP=/\{\$([^}]+)}/g;function $P(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ul(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(mv(i)&&mv(o)){if(!Ul(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function mv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function vo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");t[decodeURIComponent(s)]=decodeURIComponent(i)}}),t}function po(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function jP(e,t){const n=new HP(e,t);return n.subscribe.bind(n)}class HP{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zP(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Pc),s.error===void 0&&(s.error=Pc),s.complete===void 0&&(s.complete=Pc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zP(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Pc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(e){return e&&e._delegate?e._delegate:e}class Ls{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new RP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(KP(t))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=_s){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_s){return this.instances.has(t)}getOptions(t=_s){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WP(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=_s){return this.component?this.component.multipleInstances?t:_s:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WP(e){return e===_s?void 0:e}function KP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new qP(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(je||(je={}));const YP={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},QP=je.INFO,XP={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},JP=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=XP[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qf{constructor(t){this.name=t,this._logLevel=QP,this._logHandler=JP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in je))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...t),this._logHandler(this,je.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...t),this._logHandler(this,je.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,je.INFO,...t),this._logHandler(this,je.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,je.WARN,...t),this._logHandler(this,je.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...t),this._logHandler(this,je.ERROR,...t)}}const ZP=(e,t)=>t.some(n=>e instanceof n);let gv,vv;function e1(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t1(){return vv||(vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kb=new WeakMap,gd=new WeakMap,Gb=new WeakMap,kc=new WeakMap,Wf=new WeakMap;function n1(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(Gr(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Kb.set(n,e)}).catch(()=>{}),Wf.set(t,e),t}function r1(e){if(gd.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});gd.set(e,t)}let vd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return gd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Gb.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function s1(e){vd=e(vd)}function i1(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(xc(this),t,...n);return Gb.set(r,t.sort?t.sort():[t]),Gr(r)}:t1().includes(e)?function(...t){return e.apply(xc(this),t),Gr(Kb.get(this))}:function(...t){return Gr(e.apply(xc(this),t))}}function o1(e){return typeof e=="function"?i1(e):(e instanceof IDBTransaction&&r1(e),ZP(e,e1())?new Proxy(e,vd):e)}function Gr(e){if(e instanceof IDBRequest)return n1(e);if(kc.has(e))return kc.get(e);const t=o1(e);return t!==e&&(kc.set(e,t),Wf.set(t,e)),t}const xc=e=>Wf.get(e);function a1(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=Gr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Gr(o.result),u.oldVersion,u.newVersion,Gr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const l1=["get","getKey","getAll","getAllKeys","count"],u1=["put","add","delete","clear"],Vc=new Map;function pv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Vc.get(t))return Vc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=u1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||l1.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return Vc.set(t,i),i}s1(e=>({...e,get:(t,n,r)=>pv(t,n)||e.get(t,n,r),has:(t,n)=>!!pv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function d1(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const pd="@firebase/app",yv="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new qf("@firebase/app"),f1="@firebase/app-compat",h1="@firebase/analytics-compat",m1="@firebase/analytics",g1="@firebase/app-check-compat",v1="@firebase/app-check",p1="@firebase/auth",y1="@firebase/auth-compat",_1="@firebase/database",b1="@firebase/database-compat",E1="@firebase/functions",w1="@firebase/functions-compat",I1="@firebase/installations",T1="@firebase/installations-compat",S1="@firebase/messaging",A1="@firebase/messaging-compat",C1="@firebase/performance",R1="@firebase/performance-compat",P1="@firebase/remote-config",k1="@firebase/remote-config-compat",x1="@firebase/storage",V1="@firebase/storage-compat",O1="@firebase/firestore",D1="@firebase/vertexai-preview",N1="@firebase/firestore-compat",L1="firebase",M1="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="[DEFAULT]",F1={[pd]:"fire-core",[f1]:"fire-core-compat",[m1]:"fire-analytics",[h1]:"fire-analytics-compat",[v1]:"fire-app-check",[g1]:"fire-app-check-compat",[p1]:"fire-auth",[y1]:"fire-auth-compat",[_1]:"fire-rtdb",[b1]:"fire-rtdb-compat",[E1]:"fire-fn",[w1]:"fire-fn-compat",[I1]:"fire-iid",[T1]:"fire-iid-compat",[S1]:"fire-fcm",[A1]:"fire-fcm-compat",[C1]:"fire-perf",[R1]:"fire-perf-compat",[P1]:"fire-rc",[k1]:"fire-rc-compat",[x1]:"fire-gcs",[V1]:"fire-gcs-compat",[O1]:"fire-fst",[N1]:"fire-fst-compat",[D1]:"fire-vertex","fire-js":"fire-js",[L1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=new Map,B1=new Map,_d=new Map;function _v(e,t){try{e.container.addComponent(t)}catch(n){mr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ai(e){const t=e.name;if(_d.has(t))return mr.debug(`There were multiple attempts to register component ${t}.`),!1;_d.set(t,e);for(const n of $l.values())_v(n,e);for(const n of B1.values())_v(n,e);return!0}function Kf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $n(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new ma("app","Firebase",U1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=M1;function Yb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:yd,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw Yr.create("bad-app-name",{appName:String(s)});if(n||(n=qb()),!n)throw Yr.create("no-options");const i=$l.get(s);if(i){if(Ul(n,i.options)&&Ul(r,i.config))return i;throw Yr.create("duplicate-app",{appName:s})}const o=new GP(s);for(const u of _d.values())o.addComponent(u);const a=new $1(n,r,o);return $l.set(s,a),a}function Qb(e=yd){const t=$l.get(e);if(!t&&e===yd&&qb())return Yb();if(!t)throw Yr.create("no-app",{appName:e});return t}function Qr(e,t,n){var r;let s=(r=F1[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mr.warn(a.join(" "));return}Ai(new Ls(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="firebase-heartbeat-database",H1=1,Qo="firebase-heartbeat-store";let Oc=null;function Xb(){return Oc||(Oc=a1(j1,H1,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Qo)}catch(n){console.warn(n)}}}}).catch(e=>{throw Yr.create("idb-open",{originalErrorMessage:e.message})})),Oc}async function z1(e){try{const n=(await Xb()).transaction(Qo),r=await n.objectStore(Qo).get(Jb(e));return await n.done,r}catch(t){if(t instanceof wr)mr.warn(t.message);else{const n=Yr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});mr.warn(n.message)}}}async function bv(e,t){try{const r=(await Xb()).transaction(Qo,"readwrite");await r.objectStore(Qo).put(t,Jb(e)),await r.done}catch(n){if(n instanceof wr)mr.warn(n.message);else{const r=Yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(r.message)}}}function Jb(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=1024,W1=30*24*60*60*1e3;class K1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ev();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=W1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ev(),{heartbeatsToSend:r,unsentEntries:s}=G1(this._heartbeatsCache.heartbeats),i=Bl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return mr.warn(n),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function G1(e,t=q1){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),wv(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),wv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Y1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LP()?MP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function wv(e){return Bl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(e){Ai(new Ls("platform-logger",t=>new c1(t),"PRIVATE")),Ai(new Ls("heartbeat",t=>new K1(t),"PRIVATE")),Qr(pd,yv,e),Qr(pd,yv,"esm2017"),Qr("fire-js","")}Q1("");var X1="firebase",J1="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(X1,J1,"app");var Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,Zb;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,y){function b(){}b.prototype=y.prototype,A.D=y.prototype,A.prototype=new b,A.prototype.constructor=A,A.C=function(C,R,I){for(var w=Array(arguments.length-2),z=2;z<arguments.length;z++)w[z-2]=arguments[z];return y.prototype[R].apply(C,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,y,b){b||(b=0);var C=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)C[R]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(R=0;16>R;++R)C[R]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=A.g[0],b=A.g[1],R=A.g[2];var I=A.g[3],w=y+(I^b&(R^I))+C[0]+3614090360&4294967295;y=b+(w<<7&4294967295|w>>>25),w=I+(R^y&(b^R))+C[1]+3905402710&4294967295,I=y+(w<<12&4294967295|w>>>20),w=R+(b^I&(y^b))+C[2]+606105819&4294967295,R=I+(w<<17&4294967295|w>>>15),w=b+(y^R&(I^y))+C[3]+3250441966&4294967295,b=R+(w<<22&4294967295|w>>>10),w=y+(I^b&(R^I))+C[4]+4118548399&4294967295,y=b+(w<<7&4294967295|w>>>25),w=I+(R^y&(b^R))+C[5]+1200080426&4294967295,I=y+(w<<12&4294967295|w>>>20),w=R+(b^I&(y^b))+C[6]+2821735955&4294967295,R=I+(w<<17&4294967295|w>>>15),w=b+(y^R&(I^y))+C[7]+4249261313&4294967295,b=R+(w<<22&4294967295|w>>>10),w=y+(I^b&(R^I))+C[8]+1770035416&4294967295,y=b+(w<<7&4294967295|w>>>25),w=I+(R^y&(b^R))+C[9]+2336552879&4294967295,I=y+(w<<12&4294967295|w>>>20),w=R+(b^I&(y^b))+C[10]+4294925233&4294967295,R=I+(w<<17&4294967295|w>>>15),w=b+(y^R&(I^y))+C[11]+2304563134&4294967295,b=R+(w<<22&4294967295|w>>>10),w=y+(I^b&(R^I))+C[12]+1804603682&4294967295,y=b+(w<<7&4294967295|w>>>25),w=I+(R^y&(b^R))+C[13]+4254626195&4294967295,I=y+(w<<12&4294967295|w>>>20),w=R+(b^I&(y^b))+C[14]+2792965006&4294967295,R=I+(w<<17&4294967295|w>>>15),w=b+(y^R&(I^y))+C[15]+1236535329&4294967295,b=R+(w<<22&4294967295|w>>>10),w=y+(R^I&(b^R))+C[1]+4129170786&4294967295,y=b+(w<<5&4294967295|w>>>27),w=I+(b^R&(y^b))+C[6]+3225465664&4294967295,I=y+(w<<9&4294967295|w>>>23),w=R+(y^b&(I^y))+C[11]+643717713&4294967295,R=I+(w<<14&4294967295|w>>>18),w=b+(I^y&(R^I))+C[0]+3921069994&4294967295,b=R+(w<<20&4294967295|w>>>12),w=y+(R^I&(b^R))+C[5]+3593408605&4294967295,y=b+(w<<5&4294967295|w>>>27),w=I+(b^R&(y^b))+C[10]+38016083&4294967295,I=y+(w<<9&4294967295|w>>>23),w=R+(y^b&(I^y))+C[15]+3634488961&4294967295,R=I+(w<<14&4294967295|w>>>18),w=b+(I^y&(R^I))+C[4]+3889429448&4294967295,b=R+(w<<20&4294967295|w>>>12),w=y+(R^I&(b^R))+C[9]+568446438&4294967295,y=b+(w<<5&4294967295|w>>>27),w=I+(b^R&(y^b))+C[14]+3275163606&4294967295,I=y+(w<<9&4294967295|w>>>23),w=R+(y^b&(I^y))+C[3]+4107603335&4294967295,R=I+(w<<14&4294967295|w>>>18),w=b+(I^y&(R^I))+C[8]+1163531501&4294967295,b=R+(w<<20&4294967295|w>>>12),w=y+(R^I&(b^R))+C[13]+2850285829&4294967295,y=b+(w<<5&4294967295|w>>>27),w=I+(b^R&(y^b))+C[2]+4243563512&4294967295,I=y+(w<<9&4294967295|w>>>23),w=R+(y^b&(I^y))+C[7]+1735328473&4294967295,R=I+(w<<14&4294967295|w>>>18),w=b+(I^y&(R^I))+C[12]+2368359562&4294967295,b=R+(w<<20&4294967295|w>>>12),w=y+(b^R^I)+C[5]+4294588738&4294967295,y=b+(w<<4&4294967295|w>>>28),w=I+(y^b^R)+C[8]+2272392833&4294967295,I=y+(w<<11&4294967295|w>>>21),w=R+(I^y^b)+C[11]+1839030562&4294967295,R=I+(w<<16&4294967295|w>>>16),w=b+(R^I^y)+C[14]+4259657740&4294967295,b=R+(w<<23&4294967295|w>>>9),w=y+(b^R^I)+C[1]+2763975236&4294967295,y=b+(w<<4&4294967295|w>>>28),w=I+(y^b^R)+C[4]+1272893353&4294967295,I=y+(w<<11&4294967295|w>>>21),w=R+(I^y^b)+C[7]+4139469664&4294967295,R=I+(w<<16&4294967295|w>>>16),w=b+(R^I^y)+C[10]+3200236656&4294967295,b=R+(w<<23&4294967295|w>>>9),w=y+(b^R^I)+C[13]+681279174&4294967295,y=b+(w<<4&4294967295|w>>>28),w=I+(y^b^R)+C[0]+3936430074&4294967295,I=y+(w<<11&4294967295|w>>>21),w=R+(I^y^b)+C[3]+3572445317&4294967295,R=I+(w<<16&4294967295|w>>>16),w=b+(R^I^y)+C[6]+76029189&4294967295,b=R+(w<<23&4294967295|w>>>9),w=y+(b^R^I)+C[9]+3654602809&4294967295,y=b+(w<<4&4294967295|w>>>28),w=I+(y^b^R)+C[12]+3873151461&4294967295,I=y+(w<<11&4294967295|w>>>21),w=R+(I^y^b)+C[15]+530742520&4294967295,R=I+(w<<16&4294967295|w>>>16),w=b+(R^I^y)+C[2]+3299628645&4294967295,b=R+(w<<23&4294967295|w>>>9),w=y+(R^(b|~I))+C[0]+4096336452&4294967295,y=b+(w<<6&4294967295|w>>>26),w=I+(b^(y|~R))+C[7]+1126891415&4294967295,I=y+(w<<10&4294967295|w>>>22),w=R+(y^(I|~b))+C[14]+2878612391&4294967295,R=I+(w<<15&4294967295|w>>>17),w=b+(I^(R|~y))+C[5]+4237533241&4294967295,b=R+(w<<21&4294967295|w>>>11),w=y+(R^(b|~I))+C[12]+1700485571&4294967295,y=b+(w<<6&4294967295|w>>>26),w=I+(b^(y|~R))+C[3]+2399980690&4294967295,I=y+(w<<10&4294967295|w>>>22),w=R+(y^(I|~b))+C[10]+4293915773&4294967295,R=I+(w<<15&4294967295|w>>>17),w=b+(I^(R|~y))+C[1]+2240044497&4294967295,b=R+(w<<21&4294967295|w>>>11),w=y+(R^(b|~I))+C[8]+1873313359&4294967295,y=b+(w<<6&4294967295|w>>>26),w=I+(b^(y|~R))+C[15]+4264355552&4294967295,I=y+(w<<10&4294967295|w>>>22),w=R+(y^(I|~b))+C[6]+2734768916&4294967295,R=I+(w<<15&4294967295|w>>>17),w=b+(I^(R|~y))+C[13]+1309151649&4294967295,b=R+(w<<21&4294967295|w>>>11),w=y+(R^(b|~I))+C[4]+4149444226&4294967295,y=b+(w<<6&4294967295|w>>>26),w=I+(b^(y|~R))+C[11]+3174756917&4294967295,I=y+(w<<10&4294967295|w>>>22),w=R+(y^(I|~b))+C[2]+718787259&4294967295,R=I+(w<<15&4294967295|w>>>17),w=b+(I^(R|~y))+C[9]+3951481745&4294967295,A.g[0]=A.g[0]+y&4294967295,A.g[1]=A.g[1]+(R+(w<<21&4294967295|w>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+I&4294967295}r.prototype.u=function(A,y){y===void 0&&(y=A.length);for(var b=y-this.blockSize,C=this.B,R=this.h,I=0;I<y;){if(R==0)for(;I<=b;)s(this,A,I),I+=this.blockSize;if(typeof A=="string"){for(;I<y;)if(C[R++]=A.charCodeAt(I++),R==this.blockSize){s(this,C),R=0;break}}else for(;I<y;)if(C[R++]=A[I++],R==this.blockSize){s(this,C),R=0;break}}this.h=R,this.o+=y},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var y=1;y<A.length-8;++y)A[y]=0;var b=8*this.o;for(y=A.length-8;y<A.length;++y)A[y]=b&255,b/=256;for(this.u(A),A=Array(16),y=b=0;4>y;++y)for(var C=0;32>C;C+=8)A[b++]=this.g[y]>>>C&255;return A};function i(A,y){var b=a;return Object.prototype.hasOwnProperty.call(b,A)?b[A]:b[A]=y(A)}function o(A,y){this.h=y;for(var b=[],C=!0,R=A.length-1;0<=R;R--){var I=A[R]|0;C&&I==y||(b[R]=I,C=!1)}this.g=b}var a={};function u(A){return-128<=A&&128>A?i(A,function(y){return new o([y|0],0>y?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return T(c(-A));for(var y=[],b=1,C=0;A>=b;C++)y[C]=A/b|0,b*=4294967296;return new o(y,0)}function d(A,y){if(A.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(A.charAt(0)=="-")return T(d(A.substring(1),y));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(y,8)),C=f,R=0;R<A.length;R+=8){var I=Math.min(8,A.length-R),w=parseInt(A.substring(R,R+I),y);8>I?(I=c(Math.pow(y,I)),C=C.j(I).add(c(w))):(C=C.j(b),C=C.add(c(w)))}return C}var f=u(0),g=u(1),m=u(16777216);e=o.prototype,e.m=function(){if(_(this))return-T(this).m();for(var A=0,y=1,b=0;b<this.g.length;b++){var C=this.i(b);A+=(0<=C?C:4294967296+C)*y,y*=4294967296}return A},e.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(p(this))return"0";if(_(this))return"-"+T(this).toString(A);for(var y=c(Math.pow(A,6)),b=this,C="";;){var R=M(b,y).g;b=x(b,R.j(y));var I=((0<b.g.length?b.g[0]:b.h)>>>0).toString(A);if(b=R,p(b))return I+C;for(;6>I.length;)I="0"+I;C=I+C}},e.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function p(A){if(A.h!=0)return!1;for(var y=0;y<A.g.length;y++)if(A.g[y]!=0)return!1;return!0}function _(A){return A.h==-1}e.l=function(A){return A=x(this,A),_(A)?-1:p(A)?0:1};function T(A){for(var y=A.g.length,b=[],C=0;C<y;C++)b[C]=~A.g[C];return new o(b,~A.h).add(g)}e.abs=function(){return _(this)?T(this):this},e.add=function(A){for(var y=Math.max(this.g.length,A.g.length),b=[],C=0,R=0;R<=y;R++){var I=C+(this.i(R)&65535)+(A.i(R)&65535),w=(I>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);C=w>>>16,I&=65535,w&=65535,b[R]=w<<16|I}return new o(b,b[b.length-1]&-2147483648?-1:0)};function x(A,y){return A.add(T(y))}e.j=function(A){if(p(this)||p(A))return f;if(_(this))return _(A)?T(this).j(T(A)):T(T(this).j(A));if(_(A))return T(this.j(T(A)));if(0>this.l(m)&&0>A.l(m))return c(this.m()*A.m());for(var y=this.g.length+A.g.length,b=[],C=0;C<2*y;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(var R=0;R<A.g.length;R++){var I=this.i(C)>>>16,w=this.i(C)&65535,z=A.i(R)>>>16,ce=A.i(R)&65535;b[2*C+2*R]+=w*ce,O(b,2*C+2*R),b[2*C+2*R+1]+=I*ce,O(b,2*C+2*R+1),b[2*C+2*R+1]+=w*z,O(b,2*C+2*R+1),b[2*C+2*R+2]+=I*z,O(b,2*C+2*R+2)}for(C=0;C<y;C++)b[C]=b[2*C+1]<<16|b[2*C];for(C=y;C<2*y;C++)b[C]=0;return new o(b,0)};function O(A,y){for(;(A[y]&65535)!=A[y];)A[y+1]+=A[y]>>>16,A[y]&=65535,y++}function N(A,y){this.g=A,this.h=y}function M(A,y){if(p(y))throw Error("division by zero");if(p(A))return new N(f,f);if(_(A))return y=M(T(A),y),new N(T(y.g),T(y.h));if(_(y))return y=M(A,T(y)),new N(T(y.g),y.h);if(30<A.g.length){if(_(A)||_(y))throw Error("slowDivide_ only works with positive integers.");for(var b=g,C=y;0>=C.l(A);)b=L(b),C=L(C);var R=D(b,1),I=D(C,1);for(C=D(C,2),b=D(b,2);!p(C);){var w=I.add(C);0>=w.l(A)&&(R=R.add(b),I=w),C=D(C,1),b=D(b,1)}return y=x(A,R.j(y)),new N(R,y)}for(R=f;0<=A.l(y);){for(b=Math.max(1,Math.floor(A.m()/y.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),I=c(b),w=I.j(y);_(w)||0<w.l(A);)b-=C,I=c(b),w=I.j(y);p(I)&&(I=g),R=R.add(I),A=x(A,w)}return new N(R,A)}e.A=function(A){return M(this,A).h},e.and=function(A){for(var y=Math.max(this.g.length,A.g.length),b=[],C=0;C<y;C++)b[C]=this.i(C)&A.i(C);return new o(b,this.h&A.h)},e.or=function(A){for(var y=Math.max(this.g.length,A.g.length),b=[],C=0;C<y;C++)b[C]=this.i(C)|A.i(C);return new o(b,this.h|A.h)},e.xor=function(A){for(var y=Math.max(this.g.length,A.g.length),b=[],C=0;C<y;C++)b[C]=this.i(C)^A.i(C);return new o(b,this.h^A.h)};function L(A){for(var y=A.g.length+1,b=[],C=0;C<y;C++)b[C]=A.i(C)<<1|A.i(C-1)>>>31;return new o(b,A.h)}function D(A,y){var b=y>>5;y%=32;for(var C=A.g.length-b,R=[],I=0;I<C;I++)R[I]=0<y?A.i(I+b)>>>y|A.i(I+b+1)<<32-y:A.i(I+b);return new o(R,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Zb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Vs=o}).apply(typeof Iv<"u"?Iv:typeof self<"u"?self:typeof window<"u"?window:{});var el=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eE,tE,yo,nE,fl,bd,rE,sE,iE;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,v){return l==Array.prototype||l==Object.prototype||(l[h]=v.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof el=="object"&&el];for(var h=0;h<l.length;++h){var v=l[h];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var v=r;l=l.split(".");for(var S=0;S<l.length-1;S++){var F=l[S];if(!(F in v))break e;v=v[F]}l=l[l.length-1],S=v[l],h=h(S),h!=S&&h!=null&&t(v,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var v=0,S=!1,F={next:function(){if(!S&&v<l.length){var $=v++;return{value:h($,l[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(l){return l||function(){return i(this,function(h,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,v){return l.call.apply(l.bind,arguments)}function f(l,h,v){if(!l)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),l.apply(h,F)}}return function(){return l.apply(h,arguments)}}function g(l,h,v){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function m(l,h){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),l.apply(this,S)}}function p(l,h){function v(){}v.prototype=h.prototype,l.aa=h.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(S,F,$){for(var te=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)te[nt-2]=arguments[nt];return h.prototype[F].apply(S,te)}}function _(l){const h=l.length;if(0<h){const v=Array(h);for(let S=0;S<h;S++)v[S]=l[S];return v}return[]}function T(l,h){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(u(S)){const F=l.length||0,$=S.length||0;l.length=F+$;for(let te=0;te<$;te++)l[F+te]=S[te]}else l.push(S)}}class x{constructor(h,v){this.i=h,this.j=v,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function O(l){return/^[\s\xa0]*$/.test(l)}function N(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function M(l){return M[" "](l),l}M[" "]=function(){};var L=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function D(l,h,v){for(const S in l)h.call(v,l[S],S,l)}function A(l,h){for(const v in l)h.call(void 0,l[v],v,l)}function y(l){const h={};for(const v in l)h[v]=l[v];return h}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,h){let v,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(v in S)l[v]=S[v];for(let $=0;$<b.length;$++)v=b[$],Object.prototype.hasOwnProperty.call(S,v)&&(l[v]=S[v])}}function R(l){var h=1;l=l.split(":");const v=[];for(;0<h&&l.length;)v.push(l.shift()),h--;return l.length&&v.push(l.join(":")),v}function I(l){a.setTimeout(()=>{throw l},0)}function w(){var l=Be;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class z{constructor(){this.h=this.g=null}add(h,v){const S=ce.get();S.set(h,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ce=new x(()=>new de,l=>l.reset());class de{constructor(){this.next=this.g=this.h=null}set(h,v){this.h=h,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let se,oe=!1,Be=new z,ae=()=>{const l=a.Promise.resolve(void 0);se=()=>{l.then(G)}};var G=()=>{for(var l;l=w();){try{l.h.call(l.g)}catch(v){I(v)}var h=ce;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}oe=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};a.addEventListener("test",v,h),a.removeEventListener("test",v,h)}catch{}return l}();function ct(l,h){if(Le.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,S=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(L){e:{try{M(h.nodeName);var F=!0;break e}catch{}F=!1}F||(h=null)}}else v=="mouseover"?h=l.fromElement:v=="mouseout"&&(h=l.toElement);this.relatedTarget=h,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Pe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ct.aa.h.call(this)}}p(ct,Le);var Pe={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),X=0;function Y(l,h,v,S,F){this.listener=l,this.proxy=null,this.src=h,this.type=v,this.capture=!!S,this.ha=F,this.key=++X,this.da=this.fa=!1}function he(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function He(l){this.src=l,this.g={},this.h=0}He.prototype.add=function(l,h,v,S,F){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var te=P(l,h,S,F);return-1<te?(h=l[te],v||(h.fa=!1)):(h=new Y(h,this.src,$,!!S,F),h.fa=v,l.push(h)),h};function tt(l,h){var v=h.type;if(v in l.g){var S=l.g[v],F=Array.prototype.indexOf.call(S,h,void 0),$;($=0<=F)&&Array.prototype.splice.call(S,F,1),$&&(he(h),l.g[v].length==0&&(delete l.g[v],l.h--))}}function P(l,h,v,S){for(var F=0;F<l.length;++F){var $=l[F];if(!$.da&&$.listener==h&&$.capture==!!v&&$.ha==S)return F}return-1}var V="closure_lm_"+(1e6*Math.random()|0),B={};function q(l,h,v,S,F){if(Array.isArray(h)){for(var $=0;$<h.length;$++)q(l,h[$],v,S,F);return null}return v=pe(v),l&&l[U]?l.K(h,v,c(S)?!!S.capture:!!S,F):j(l,h,v,!1,S,F)}function j(l,h,v,S,F,$){if(!h)throw Error("Invalid event type");var te=c(F)?!!F.capture:!!F,nt=ue(l);if(nt||(l[V]=nt=new He(l)),v=nt.add(h,v,S,te,$),v.proxy)return v;if(S=Q(),v.proxy=S,S.src=l,S.listener=v,l.addEventListener)ht||(F=te),F===void 0&&(F=!1),l.addEventListener(h.toString(),S,F);else if(l.attachEvent)l.attachEvent(ne(h.toString()),S);else if(l.addListener&&l.removeListener)l.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Q(){function l(v){return h.call(l.src,l.listener,v)}const h=K;return l}function ie(l,h,v,S,F){if(Array.isArray(h))for(var $=0;$<h.length;$++)ie(l,h[$],v,S,F);else S=c(S)?!!S.capture:!!S,v=pe(v),l&&l[U]?(l=l.i,h=String(h).toString(),h in l.g&&($=l.g[h],v=P($,v,S,F),-1<v&&(he($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete l.g[h],l.h--)))):l&&(l=ue(l))&&(h=l.g[h.toString()],l=-1,h&&(l=P(h,v,S,F)),(v=-1<l?h[l]:null)&&ee(v))}function ee(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[U])tt(h.i,l);else{var v=l.type,S=l.proxy;h.removeEventListener?h.removeEventListener(v,S,l.capture):h.detachEvent?h.detachEvent(ne(v),S):h.addListener&&h.removeListener&&h.removeListener(S),(v=ue(h))?(tt(v,l),v.h==0&&(v.src=null,h[V]=null)):he(l)}}}function ne(l){return l in B?B[l]:B[l]="on"+l}function K(l,h){if(l.da)l=!0;else{h=new ct(h,this);var v=l.listener,S=l.ha||l.src;l.fa&&ee(l),l=v.call(S,h)}return l}function ue(l){return l=l[V],l instanceof He?l:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(l){return typeof l=="function"?l:(l[ye]||(l[ye]=function(h){return l.handleEvent(h)}),l[ye])}function ve(){fe.call(this),this.i=new He(this),this.M=this,this.F=null}p(ve,fe),ve.prototype[U]=!0,ve.prototype.removeEventListener=function(l,h,v,S){ie(this,l,h,v,S)};function we(l,h){var v,S=l.F;if(S)for(v=[];S;S=S.F)v.push(S);if(l=l.M,S=h.type||h,typeof h=="string")h=new Le(h,l);else if(h instanceof Le)h.target=h.target||l;else{var F=h;h=new Le(S,l),C(h,F)}if(F=!0,v)for(var $=v.length-1;0<=$;$--){var te=h.g=v[$];F=Je(te,S,!0,h)&&F}if(te=h.g=l,F=Je(te,S,!0,h)&&F,F=Je(te,S,!1,h)&&F,v)for($=0;$<v.length;$++)te=h.g=v[$],F=Je(te,S,!1,h)&&F}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var v=l.g[h],S=0;S<v.length;S++)he(v[S]);delete l.g[h],l.h--}}this.F=null},ve.prototype.K=function(l,h,v,S){return this.i.add(String(l),h,!1,v,S)},ve.prototype.L=function(l,h,v,S){return this.i.add(String(l),h,!0,v,S)};function Je(l,h,v,S){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var F=!0,$=0;$<h.length;++$){var te=h[$];if(te&&!te.da&&te.capture==v){var nt=te.listener,Mt=te.ha||te.src;te.fa&&tt(l.i,te),F=nt.call(Mt,S)!==!1&&F}}return F&&!S.defaultPrevented}function We(l,h,v){if(typeof l=="function")v&&(l=g(l,v));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function pt(l){l.g=We(()=>{l.g=null,l.i&&(l.i=!1,pt(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class an extends fe{constructor(h,v){super(),this.m=h,this.l=v,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vn(l){fe.call(this),this.h=l,this.g={}}p(vn,fe);var Gi=[];function Tr(l){D(l.g,function(h,v){this.g.hasOwnProperty(v)&&ee(h)},l),l.g={}}vn.prototype.N=function(){vn.aa.N.call(this),Tr(this)},vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qs=a.JSON.stringify,Jt=a.JSON.parse,pn=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Xs(){}Xs.prototype.h=null;function jh(l){return l.h||(l.h=l.i())}function Hh(){}var Yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gu(){Le.call(this,"d")}p(Gu,Le);function Yu(){Le.call(this,"c")}p(Yu,Le);var ds={},zh=null;function Pa(){return zh=zh||new ve}ds.La="serverreachability";function qh(l){Le.call(this,ds.La,l)}p(qh,Le);function Qi(l){const h=Pa();we(h,new qh(h))}ds.STAT_EVENT="statevent";function Wh(l,h){Le.call(this,ds.STAT_EVENT,l),this.stat=h}p(Wh,Le);function Zt(l){const h=Pa();we(h,new Wh(h,l))}ds.Ma="timingevent";function Kh(l,h){Le.call(this,ds.Ma,l),this.size=h}p(Kh,Le);function Xi(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Ji(){this.g=!0}Ji.prototype.xa=function(){this.g=!1};function Z0(l,h,v,S,F,$){l.info(function(){if(l.g)if($)for(var te="",nt=$.split("&"),Mt=0;Mt<nt.length;Mt++){var Ye=nt[Mt].split("=");if(1<Ye.length){var zt=Ye[0];Ye=Ye[1];var qt=zt.split("_");te=2<=qt.length&&qt[1]=="type"?te+(zt+"="+Ye+"&"):te+(zt+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+h+`
`+v+`
`+te})}function eI(l,h,v,S,F,$,te){l.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+h+`
`+v+`
`+$+" "+te})}function Js(l,h,v,S){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+nI(l,v)+(S?" "+S:"")})}function tI(l,h){l.info(function(){return"TIMEOUT: "+h})}Ji.prototype.info=function(){};function nI(l,h){if(!l.g)return h;if(!h)return null;try{var v=JSON.parse(h);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var S=v[l];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<F.length;te++)F[te]=""}}}}return Qs(v)}catch{return h}}var ka={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qu;function xa(){}p(xa,Xs),xa.prototype.g=function(){return new XMLHttpRequest},xa.prototype.i=function(){return{}},Qu=new xa;function Sr(l,h,v,S){this.j=l,this.i=h,this.l=v,this.R=S||1,this.U=new vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yh}function Yh(){this.i=null,this.g="",this.h=!1}var Qh={},Xu={};function Ju(l,h,v){l.L=1,l.v=Na(Jn(h)),l.m=v,l.P=!0,Xh(l,null)}function Xh(l,h){l.F=Date.now(),Va(l),l.A=Jn(l.v);var v=l.A,S=l.R;Array.isArray(S)||(S=[String(S)]),dm(v.i,"t",S),l.C=0,v=l.j.J,l.h=new Yh,l.g=Pm(l.j,v?h:null,!l.m),0<l.O&&(l.M=new an(g(l.Y,l,l.g),l.O)),h=l.U,v=l.g,S=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(Gi[0]=F.toString()),F=Gi);for(var $=0;$<F.length;$++){var te=q(v,F[$],S||h.handleEvent,!1,h.h||h);if(!te)break;h.g[te.key]=te}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Qi(),Z0(l.i,l.u,l.A,l.l,l.R,l.m)}Sr.prototype.ca=function(l){l=l.target;const h=this.M;h&&Zn(l)==3?h.j():this.Y(l)},Sr.prototype.Y=function(l){try{if(l==this.g)e:{const qt=Zn(this.g);var h=this.g.Ba();const ti=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||ym(this.g)))){this.J||qt!=4||h==7||(h==8||0>=ti?Qi(3):Qi(2)),Zu(this);var v=this.g.Z();this.X=v;t:if(Jh(this)){var S=ym(this.g);l="";var F=S.length,$=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),Zi(this);var te="";break t}this.h.i=new a.TextDecoder}for(h=0;h<F;h++)this.h.h=!0,l+=this.h.i.decode(S[h],{stream:!($&&h==F-1)});S.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,eI(this.i,this.u,this.A,this.l,this.R,qt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Mt=this.g;if((nt=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(nt)){var Ye=nt;break t}}Ye=null}if(v=Ye)Js(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ec(this,v);else{this.o=!1,this.s=3,Zt(12),fs(this),Zi(this);break e}}if(this.P){v=!0;let Pn;for(;!this.J&&this.C<te.length;)if(Pn=rI(this,te),Pn==Xu){qt==4&&(this.s=4,Zt(14),v=!1),Js(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Qh){this.s=4,Zt(15),Js(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else Js(this.i,this.l,Pn,null),ec(this,Pn);if(Jh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||te.length!=0||this.h.h||(this.s=1,Zt(16),v=!1),this.o=this.o&&v,!v)Js(this.i,this.l,te,"[Invalid Chunked Response]"),fs(this),Zi(this);else if(0<te.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),oc(zt),zt.M=!0,Zt(11))}}else Js(this.i,this.l,te,null),ec(this,te);qt==4&&fs(this),this.o&&!this.J&&(qt==4?Sm(this.j,this):(this.o=!1,Va(this)))}else bI(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),fs(this),Zi(this)}}}catch{}finally{}};function Jh(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function rI(l,h){var v=l.C,S=h.indexOf(`
`,v);return S==-1?Xu:(v=Number(h.substring(v,S)),isNaN(v)?Qh:(S+=1,S+v>h.length?Xu:(h=h.slice(S,S+v),l.C=S+v,h)))}Sr.prototype.cancel=function(){this.J=!0,fs(this)};function Va(l){l.S=Date.now()+l.I,Zh(l,l.I)}function Zh(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Xi(g(l.ba,l),h)}function Zu(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Sr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(tI(this.i,this.A),this.L!=2&&(Qi(),Zt(17)),fs(this),this.s=2,Zi(this)):Zh(this,this.S-l)};function Zi(l){l.j.G==0||l.J||Sm(l.j,l)}function fs(l){Zu(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Tr(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function ec(l,h){try{var v=l.j;if(v.G!=0&&(v.g==l||tc(v.h,l))){if(!l.K&&tc(v.h,l)&&v.G==3){try{var S=v.Da.g.parse(h)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)Ua(v),Fa(v);else break e;ic(v),Zt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=Xi(g(v.Za,v),6e3));if(1>=nm(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ms(v,11)}else if((l.K||v.g==l)&&Ua(v),!O(h))for(F=v.Da.g.parse(h),h=0;h<F.length;h++){let Ye=F[h];if(v.T=Ye[0],Ye=Ye[1],v.G==2)if(Ye[0]=="c"){v.K=Ye[1],v.ia=Ye[2];const zt=Ye[3];zt!=null&&(v.la=zt,v.j.info("VER="+v.la));const qt=Ye[4];qt!=null&&(v.Aa=qt,v.j.info("SVER="+v.Aa));const ti=Ye[5];ti!=null&&typeof ti=="number"&&0<ti&&(S=1.5*ti,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Pn=l.g;if(Pn){const ja=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var $=S.h;$.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(nc($,$.h),$.h=null))}if(S.D){const ac=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;ac&&(S.ya=ac,at(S.I,S.D,ac))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var te=l;if(S.qa=Rm(S,S.J?S.ia:null,S.W),te.K){rm(S.h,te);var nt=te,Mt=S.L;Mt&&(nt.I=Mt),nt.B&&(Zu(nt),Va(nt)),S.g=te}else Im(S);0<v.i.length&&Ba(v)}else Ye[0]!="stop"&&Ye[0]!="close"||ms(v,7);else v.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ms(v,7):sc(v):Ye[0]!="noop"&&v.l&&v.l.ta(Ye),v.v=0)}}Qi(4)}catch{}}var sI=class{constructor(l,h){this.g=l,this.map=h}};function em(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tm(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function nm(l){return l.h?1:l.g?l.g.size:0}function tc(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function nc(l,h){l.g?l.g.add(h):l.h=h}function rm(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}em.prototype.cancel=function(){if(this.i=sm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function sm(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const v of l.g.values())h=h.concat(v.D);return h}return _(l.i)}function iI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],v=l.length,S=0;S<v;S++)h.push(l[S]);return h}h=[],v=0;for(S in l)h[v++]=l[S];return h}function oI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var v=0;v<l;v++)h.push(v);return h}h=[],v=0;for(const S in l)h[v++]=S;return h}}}function im(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var v=oI(l),S=iI(l),F=S.length,$=0;$<F;$++)h.call(void 0,S[$],v&&v[$],l)}var om=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aI(l,h){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var S=l[v].indexOf("="),F=null;if(0<=S){var $=l[v].substring(0,S);F=l[v].substring(S+1)}else $=l[v];h($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function hs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof hs){this.h=l.h,Oa(this,l.j),this.o=l.o,this.g=l.g,Da(this,l.s),this.l=l.l;var h=l.i,v=new no;v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),am(this,v),this.m=l.m}else l&&(h=String(l).match(om))?(this.h=!1,Oa(this,h[1]||"",!0),this.o=eo(h[2]||""),this.g=eo(h[3]||"",!0),Da(this,h[4]),this.l=eo(h[5]||"",!0),am(this,h[6]||"",!0),this.m=eo(h[7]||"")):(this.h=!1,this.i=new no(null,this.h))}hs.prototype.toString=function(){var l=[],h=this.j;h&&l.push(to(h,lm,!0),":");var v=this.g;return(v||h=="file")&&(l.push("//"),(h=this.o)&&l.push(to(h,lm,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(to(v,v.charAt(0)=="/"?cI:uI,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",to(v,fI)),l.join("")};function Jn(l){return new hs(l)}function Oa(l,h,v){l.j=v?eo(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Da(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function am(l,h,v){h instanceof no?(l.i=h,hI(l.i,l.h)):(v||(h=to(h,dI)),l.i=new no(h,l.h))}function at(l,h,v){l.i.set(h,v)}function Na(l){return at(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function eo(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function to(l,h,v){return typeof l=="string"?(l=encodeURI(l).replace(h,lI),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function lI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var lm=/[#\/\?@]/g,uI=/[#\?:]/g,cI=/[#\?]/g,dI=/[#\?@]/g,fI=/#/g;function no(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Ar(l){l.g||(l.g=new Map,l.h=0,l.i&&aI(l.i,function(h,v){l.add(decodeURIComponent(h.replace(/\+/g," ")),v)}))}e=no.prototype,e.add=function(l,h){Ar(this),this.i=null,l=Zs(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(h),this.h+=1,this};function um(l,h){Ar(l),h=Zs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function cm(l,h){return Ar(l),h=Zs(l,h),l.g.has(h)}e.forEach=function(l,h){Ar(this),this.g.forEach(function(v,S){v.forEach(function(F){l.call(h,F,S,this)},this)},this)},e.na=function(){Ar(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),v=[];for(let S=0;S<h.length;S++){const F=l[S];for(let $=0;$<F.length;$++)v.push(h[S])}return v},e.V=function(l){Ar(this);let h=[];if(typeof l=="string")cm(this,l)&&(h=h.concat(this.g.get(Zs(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)h=h.concat(l[v])}return h},e.set=function(l,h){return Ar(this),this.i=null,l=Zs(this,l),cm(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},e.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function dm(l,h,v){um(l,h),0<v.length&&(l.i=null,l.g.set(Zs(l,h),_(v)),l.h+=v.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var v=0;v<h.length;v++){var S=h[v];const $=encodeURIComponent(String(S)),te=this.V(S);for(S=0;S<te.length;S++){var F=$;te[S]!==""&&(F+="="+encodeURIComponent(String(te[S]))),l.push(F)}}return this.i=l.join("&")};function Zs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function hI(l,h){h&&!l.j&&(Ar(l),l.i=null,l.g.forEach(function(v,S){var F=S.toLowerCase();S!=F&&(um(this,S),dm(this,F,v))},l)),l.j=h}function mI(l,h){const v=new Ji;if(a.Image){const S=new Image;S.onload=m(Cr,v,"TestLoadImage: loaded",!0,h,S),S.onerror=m(Cr,v,"TestLoadImage: error",!1,h,S),S.onabort=m(Cr,v,"TestLoadImage: abort",!1,h,S),S.ontimeout=m(Cr,v,"TestLoadImage: timeout",!1,h,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=l}else h(!1)}function gI(l,h){const v=new Ji,S=new AbortController,F=setTimeout(()=>{S.abort(),Cr(v,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:S.signal}).then($=>{clearTimeout(F),$.ok?Cr(v,"TestPingServer: ok",!0,h):Cr(v,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(F),Cr(v,"TestPingServer: error",!1,h)})}function Cr(l,h,v,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(v)}catch{}}function vI(){this.g=new pn}function pI(l,h,v){const S=v||"";try{im(l,function(F,$){let te=F;c(F)&&(te=Qs(F)),h.push(S+$+"="+encodeURIComponent(te))})}catch(F){throw h.push(S+"type="+encodeURIComponent("_badmap")),F}}function ro(l){this.l=l.Ub||null,this.j=l.eb||!1}p(ro,Xs),ro.prototype.g=function(){return new La(this.l,this.j)},ro.prototype.i=function(l){return function(){return l}}({});function La(l,h){ve.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(La,ve),e=La.prototype,e.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,io(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,so(this)),this.readyState=0},e.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,io(this)),this.g&&(this.readyState=3,io(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fm(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function fm(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}e.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?so(this):io(this),this.readyState==3&&fm(this)}},e.Ra=function(l){this.g&&(this.response=this.responseText=l,so(this))},e.Qa=function(l){this.g&&(this.response=l,so(this))},e.ga=function(){this.g&&so(this)};function so(l){l.readyState=4,l.l=null,l.j=null,l.v=null,io(l)}e.setRequestHeader=function(l,h){this.u.append(l,h)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var v=h.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=h.next();return l.join(`\r
`)};function io(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(La.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function hm(l){let h="";return D(l,function(v,S){h+=S,h+=":",h+=v,h+=`\r
`}),h}function rc(l,h,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=hm(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):at(l,h,v))}function gt(l){ve.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(gt,ve);var yI=/^https?$/i,_I=["POST","PUT"];e=gt.prototype,e.Ha=function(l){this.J=l},e.ea=function(l,h,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qu.g(),this.v=this.o?jh(this.o):jh(Qu),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch($){mm(this,$);return}if(l=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)v.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),F=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_I,h,void 0))||S||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of v)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pm(this),this.u=!0,this.g.send(l),this.u=!1}catch($){mm(this,$)}};function mm(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,gm(l),Ma(l)}function gm(l){l.A||(l.A=!0,we(l,"complete"),we(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,we(this,"complete"),we(this,"abort"),Ma(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ma(this,!0)),gt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?vm(this):this.bb())},e.bb=function(){vm(this)};function vm(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Zn(l)!=4||l.Z()!=2)){if(l.u&&Zn(l)==4)We(l.Ea,0,l);else if(we(l,"readystatechange"),Zn(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var v;if(!(v=h)){var S;if(S=te===0){var F=String(l.D).match(om)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),S=!yI.test(F?F.toLowerCase():"")}v=S}if(v)we(l,"complete"),we(l,"success");else{l.m=6;try{var $=2<Zn(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",gm(l)}}finally{Ma(l)}}}}function Ma(l,h){if(l.g){pm(l);const v=l.g,S=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||we(l,"ready");try{v.onreadystatechange=S}catch{}}}function pm(l){l.I&&(a.clearTimeout(l.I),l.I=null)}e.isActive=function(){return!!this.g};function Zn(l){return l.g?l.g.readyState:0}e.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Jt(h)}};function ym(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function bI(l){const h={};l=(l.g&&2<=Zn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<l.length;S++){if(O(l[S]))continue;var v=R(l[S]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=h[F]||[];h[F]=$,$.push(v)}A(h,function(S){return S.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oo(l,h,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||h}function _m(l){this.Aa=0,this.i=[],this.j=new Ji,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oo("baseRetryDelayMs",5e3,l),this.cb=oo("retryDelaySeedMs",1e4,l),this.Wa=oo("forwardChannelMaxRetries",2,l),this.wa=oo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new em(l&&l.concurrentRequestLimit),this.Da=new vI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=_m.prototype,e.la=8,e.G=1,e.connect=function(l,h,v,S){Zt(0),this.W=l,this.H=h||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Rm(this,null,this.W),Ba(this)};function sc(l){if(bm(l),l.G==3){var h=l.U++,v=Jn(l.I);if(at(v,"SID",l.K),at(v,"RID",h),at(v,"TYPE","terminate"),ao(l,v),h=new Sr(l,l.j,h),h.L=2,h.v=Na(Jn(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=h.v,v=!0),v||(h.g=Pm(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Va(h)}Cm(l)}function Fa(l){l.g&&(oc(l),l.g.cancel(),l.g=null)}function bm(l){Fa(l),l.u&&(a.clearTimeout(l.u),l.u=null),Ua(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ba(l){if(!tm(l.h)&&!l.s){l.s=!0;var h=l.Ga;se||ae(),oe||(se(),oe=!0),Be.add(h,l),l.B=0}}function EI(l,h){return nm(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Xi(g(l.Ga,l,h),Am(l,l.B)),l.B++,!0)}e.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new Sr(this,this.j,l);let $=this.o;if(this.S&&($?($=y($),C($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var h=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(h+=S,4096<h){h=v;break e}if(h===4096||v===this.i.length-1){h=v+1;break e}}h=1e3}else h=1e3;h=wm(this,F,h),v=Jn(this.I),at(v,"RID",l),at(v,"CVER",22),this.D&&at(v,"X-HTTP-Session-Id",this.D),ao(this,v),$&&(this.O?h="headers="+encodeURIComponent(String(hm($)))+"&"+h:this.m&&rc(v,this.m,$)),nc(this.h,F),this.Ua&&at(v,"TYPE","init"),this.P?(at(v,"$req",h),at(v,"SID","null"),F.T=!0,Ju(F,v,null)):Ju(F,v,h),this.G=2}}else this.G==3&&(l?Em(this,l):this.i.length==0||tm(this.h)||Em(this))};function Em(l,h){var v;h?v=h.l:v=l.U++;const S=Jn(l.I);at(S,"SID",l.K),at(S,"RID",v),at(S,"AID",l.T),ao(l,S),l.m&&l.o&&rc(S,l.m,l.o),v=new Sr(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),h&&(l.i=h.D.concat(l.i)),h=wm(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),nc(l.h,v),Ju(v,S,h)}function ao(l,h){l.H&&D(l.H,function(v,S){at(h,S,v)}),l.l&&im({},function(v,S){at(h,S,v)})}function wm(l,h,v){v=Math.min(l.i.length,v);var S=l.l?g(l.l.Na,l.l,l):null;e:{var F=l.i;let $=-1;for(;;){const te=["count="+v];$==-1?0<v?($=F[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let nt=!0;for(let Mt=0;Mt<v;Mt++){let Ye=F[Mt].g;const zt=F[Mt].map;if(Ye-=$,0>Ye)$=Math.max(0,F[Mt].g-100),nt=!1;else try{pI(zt,te,"req"+Ye+"_")}catch{S&&S(zt)}}if(nt){S=te.join("&");break e}}}return l=l.i.splice(0,v),h.D=l,S}function Im(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;se||ae(),oe||(se(),oe=!0),Be.add(h,l),l.v=0}}function ic(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Xi(g(l.Fa,l),Am(l,l.v)),l.v++,!0)}e.Fa=function(){if(this.u=null,Tm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Xi(g(this.ab,this),l)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Fa(this),Tm(this))};function oc(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Tm(l){l.g=new Sr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Jn(l.qa);at(h,"RID","rpc"),at(h,"SID",l.K),at(h,"AID",l.T),at(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&at(h,"TO",l.ja),at(h,"TYPE","xmlhttp"),ao(l,h),l.m&&l.o&&rc(h,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=Na(Jn(h)),v.m=null,v.P=!0,Xh(v,l)}e.Za=function(){this.C!=null&&(this.C=null,Fa(this),ic(this),Zt(19))};function Ua(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Sm(l,h){var v=null;if(l.g==h){Ua(l),oc(l),l.g=null;var S=2}else if(tc(l.h,h))v=h.D,rm(l.h,h),S=1;else return;if(l.G!=0){if(h.o)if(S==1){v=h.m?h.m.length:0,h=Date.now()-h.F;var F=l.B;S=Pa(),we(S,new Kh(S,v)),Ba(l)}else Im(l);else if(F=h.s,F==3||F==0&&0<h.X||!(S==1&&EI(l,h)||S==2&&ic(l)))switch(v&&0<v.length&&(h=l.h,h.i=h.i.concat(v)),F){case 1:ms(l,5);break;case 4:ms(l,10);break;case 3:ms(l,6);break;default:ms(l,2)}}}function Am(l,h){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*h}function ms(l,h){if(l.j.info("Error code "+h),h==2){var v=g(l.fb,l),S=l.Xa;const F=!S;S=new hs(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Oa(S,"https"),Na(S),F?mI(S.toString(),v):gI(S.toString(),v)}else Zt(2);l.G=0,l.l&&l.l.sa(h),Cm(l),bm(l)}e.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function Cm(l){if(l.G=0,l.ka=[],l.l){const h=sm(l.h);(h.length!=0||l.i.length!=0)&&(T(l.ka,h),T(l.ka,l.i),l.h.i.length=0,_(l.i),l.i.length=0),l.l.ra()}}function Rm(l,h,v){var S=v instanceof hs?Jn(v):new hs(v);if(S.g!="")h&&(S.g=h+"."+S.g),Da(S,S.s);else{var F=a.location;S=F.protocol,h=h?h+"."+F.hostname:F.hostname,F=+F.port;var $=new hs(null);S&&Oa($,S),h&&($.g=h),F&&Da($,F),v&&($.l=v),S=$}return v=l.D,h=l.ya,v&&h&&at(S,v,h),at(S,"VER",l.la),ao(l,S),S}function Pm(l,h,v){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new gt(new ro({eb:v})):new gt(l.pa),h.Ha(l.J),h}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function km(){}e=km.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function $a(){}$a.prototype.g=function(l,h){return new ln(l,h)};function ln(l,h){ve.call(this),this.g=new _m(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!O(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!O(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ei(this)}p(ln,ve),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){sc(this.g)},ln.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=Qs(l),l=v);h.i.push(new sI(h.Ya++,l)),h.G==3&&Ba(h)},ln.prototype.N=function(){this.g.l=null,delete this.j,sc(this.g),delete this.g,ln.aa.N.call(this)};function xm(l){Gu.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const v in h){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}p(xm,Gu);function Vm(){Yu.call(this),this.status=1}p(Vm,Yu);function ei(l){this.g=l}p(ei,km),ei.prototype.ua=function(){we(this.g,"a")},ei.prototype.ta=function(l){we(this.g,new xm(l))},ei.prototype.sa=function(l){we(this.g,new Vm)},ei.prototype.ra=function(){we(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,iE=function(){return new $a},sE=function(){return Pa()},rE=ds,bd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,fl=ka,Gh.COMPLETE="complete",nE=Gh,Hh.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",ve.prototype.listen=ve.prototype.K,yo=Hh,tE=ro,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,eE=gt}).apply(typeof el<"u"?el:typeof self<"u"?self:typeof window<"u"?window:{});const Tv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ji="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new qf("@firebase/firestore");function ho(){return Ms.logLevel}function ge(e,...t){if(Ms.logLevel<=je.DEBUG){const n=t.map(Gf);Ms.debug(`Firestore (${ji}): ${e}`,...n)}}function gr(e,...t){if(Ms.logLevel<=je.ERROR){const n=t.map(Gf);Ms.error(`Firestore (${ji}): ${e}`,...n)}}function Ci(e,...t){if(Ms.logLevel<=je.WARN){const n=t.map(Gf);Ms.warn(`Firestore (${ji}): ${e}`,...n)}}function Gf(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(e="Unexpected state"){const t=`FIRESTORE (${ji}) INTERNAL ASSERTION FAILED: `+e;throw gr(t),new Error(t)}function st(e,t){e||xe()}function Ne(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends wr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Z1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class ek{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tk{constructor(t){this.t=t,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new lr,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new lr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string"),new oE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return st(t===null||typeof t=="string"),new Kt(t)}}class nk{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rk{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new nk(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sk{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ik{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=i=>{i.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(st(typeof n.token=="string"),this.R=n.token,new sk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=ok(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function Qe(e,t){return e<t?-1:e>t?1:0}function Ri(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new me(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new me(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new me(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ct.fromMillis(Date.now())}static fromDate(t){return Ct.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qe(this.nanoseconds,t.nanoseconds):Qe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.timestamp=t}static fromTimestamp(t){return new De(t)}static min(){return new De(new Ct(0,0))}static max(){return new De(new Ct(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t,n,r){n===void 0?n=0:n>t.length&&xe(),r===void 0?r=t.length-n:r>t.length-n&&xe(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Xo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Xo?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class lt extends Xo{construct(t,n,r){return new lt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new me(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const ak=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Xo{construct(t,n,r){return new Ut(t,n,r)}static isValidIdentifier(t){return ak.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new me(H.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new me(H.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new me(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new me(H.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.path=t}static fromPath(t){return new Ee(lt.fromString(t))}static fromName(t){return new Ee(lt.fromString(t).popFirst(5))}static empty(){return new Ee(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&lt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return lt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ee(new lt(t.slice()))}}function lk(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new es(s,Ee.empty(),t)}function uk(e){return new es(e.readTime,e.key,-1)}class es{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new es(De.min(),Ee.empty(),-1)}static max(){return new es(De.max(),Ee.empty(),-1)}}function ck(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ee.comparator(e.documentKey,t.documentKey),n!==0?n:Qe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(e){if(e.code!==H.FAILED_PRECONDITION||e.message!==dk)throw e;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):W.reject(n)}static resolve(t){return new W((n,r)=>{n(t)})}static reject(t){return new W((n,r)=>{r(t)})}static waitFor(t){return new W((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(t){let n=W.resolve(!1);for(const r of t)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new W((r,s)=>{const i=t.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(t[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(t,n){return new W((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}function hk(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pa(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Yf.oe=-1;function Cu(e){return e==null}function jl(e){return e===0&&1/e==-1/0}function mk(e){return typeof e=="number"&&Number.isInteger(e)&&!jl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function lE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t,n){this.comparator=t,this.root=n||Ft.EMPTY}insert(t,n){return new mt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(t){return new mt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tl(this.root,t,this.comparator,!1)}getReverseIterator(){return new tl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tl(this.root,t,this.comparator,!0)}}class tl{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ft{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Ft.RED,this.left=s??Ft.EMPTY,this.right=i??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Ft(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const t=this.left.check();if(t!==this.right.check())throw xe();return t+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(t,n,r,s,i){return this}insert(t,n,r){return new Ft(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.comparator=t,this.data=new mt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(t){return new Av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof $t)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new $t(this.comparator);return n.data=t,n}}class Av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(Ut.comparator)}static empty(){return new kn([])}unionWith(t){let n=new $t(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ri(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new uE("Invalid base64 string: "+i):i}}(t);return new Ht(n)}static fromUint8Array(t){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(t);return new Ht(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const gk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(e){if(st(!!e),typeof e=="string"){let t=0;const n=gk.exec(e);if(st(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:yt(e.seconds),nanos:yt(e.nanos)}}function yt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Fs(e){return typeof e=="string"?Ht.fromBase64String(e):Ht.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xf(e){const t=e.mapValue.fields.__previous_value__;return Qf(t)?Xf(t):t}function Jo(e){const t=ts(e.mapValue.fields.__local_write_time__.timestampValue);return new Ct(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(t,n,r,s,i,o,a,u,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Zo{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Zo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Zo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qf(e)?4:yk(e)?9007199254740991:pk(e)?10:11:xe()}function Wn(e,t){if(e===t)return!0;const n=Bs(e);if(n!==Bs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Jo(e).isEqual(Jo(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ts(s.timestampValue),a=ts(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return Fs(s.bytesValue).isEqual(Fs(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return yt(s.geoPointValue.latitude)===yt(i.geoPointValue.latitude)&&yt(s.geoPointValue.longitude)===yt(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return yt(s.integerValue)===yt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=yt(s.doubleValue),a=yt(i.doubleValue);return o===a?jl(o)===jl(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Ri(e.arrayValue.values||[],t.arrayValue.values||[],Wn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Sv(o)!==Sv(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Wn(o[u],a[u])))return!1;return!0}(e,t);default:return xe()}}function ea(e,t){return(e.values||[]).find(n=>Wn(n,t))!==void 0}function Pi(e,t){if(e===t)return 0;const n=Bs(e),r=Bs(t);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(e.booleanValue,t.booleanValue);case 2:return function(i,o){const a=yt(i.integerValue||i.doubleValue),u=yt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return Cv(e.timestampValue,t.timestampValue);case 4:return Cv(Jo(e),Jo(t));case 5:return Qe(e.stringValue,t.stringValue);case 6:return function(i,o){const a=Fs(i),u=Fs(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=Qe(a[c],u[c]);if(d!==0)return d}return Qe(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const a=Qe(yt(i.latitude),yt(o.latitude));return a!==0?a:Qe(yt(i.longitude),yt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Rv(e.arrayValue,t.arrayValue);case 10:return function(i,o){var a,u,c,d;const f=i.fields||{},g=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,p=(u=g.value)===null||u===void 0?void 0:u.arrayValue,_=Qe(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=p==null?void 0:p.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:Rv(m,p)}(e.mapValue,t.mapValue);case 11:return function(i,o){if(i===nl.mapValue&&o===nl.mapValue)return 0;if(i===nl.mapValue)return 1;if(o===nl.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const g=Qe(u[f],d[f]);if(g!==0)return g;const m=Pi(a[u[f]],c[d[f]]);if(m!==0)return m}return Qe(u.length,d.length)}(e.mapValue,t.mapValue);default:throw xe()}}function Cv(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Qe(e,t);const n=ts(e),r=ts(t),s=Qe(n.seconds,r.seconds);return s!==0?s:Qe(n.nanos,r.nanos)}function Rv(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Pi(n[s],r[s]);if(i)return i}return Qe(n.length,r.length)}function ki(e){return Ed(e)}function Ed(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ts(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Fs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Ee.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ed(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ed(n.fields[o])}`;return s+"}"}(e.mapValue):xe()}function Pv(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function wd(e){return!!e&&"integerValue"in e}function Jf(e){return!!e&&"arrayValue"in e}function kv(e){return!!e&&"nullValue"in e}function xv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hl(e){return!!e&&"mapValue"in e}function pk(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ro(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Hi(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ro(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ro(e.arrayValue.values[n]);return t}return Object.assign({},e)}function yk(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!hl(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ro(n)}setAll(t){let n=Ut.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ro(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());hl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Wn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];hl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Hi(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new _n(Ro(this.value))}}function cE(e){const t=[];return Hi(e.fields,(n,r)=>{const s=new Ut([n]);if(hl(r)){const i=cE(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n,r,s,i,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Gt(t,0,De.min(),De.min(),De.min(),_n.empty(),0)}static newFoundDocument(t,n,r,s){return new Gt(t,1,n,De.min(),r,s,0)}static newNoDocument(t,n){return new Gt(t,2,n,De.min(),De.min(),_n.empty(),0)}static newUnknownDocument(t,n){return new Gt(t,3,n,De.min(),De.min(),_n.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Gt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,n){this.position=t,this.inclusive=n}}function Vv(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=Ee.comparator(Ee.fromName(o.referenceValue),n.key):r=Pi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ov(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Wn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,n="asc"){this.field=t,this.dir=n}}function _k(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{}class Et extends dE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Ek(t,n,r):n==="array-contains"?new Tk(t,r):n==="in"?new Sk(t,r):n==="not-in"?new Ak(t,r):n==="array-contains-any"?new Ck(t,r):new Et(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new wk(t,r):new Ik(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Pi(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(Pi(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends dE{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new On(t,n)}matches(t){return fE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fE(e){return e.op==="and"}function hE(e){return bk(e)&&fE(e)}function bk(e){for(const t of e.filters)if(t instanceof On)return!1;return!0}function Id(e){if(e instanceof Et)return e.field.canonicalString()+e.op.toString()+ki(e.value);if(hE(e))return e.filters.map(t=>Id(t)).join(",");{const t=e.filters.map(n=>Id(n)).join(",");return`${e.op}(${t})`}}function mE(e,t){return e instanceof Et?function(r,s){return s instanceof Et&&r.op===s.op&&r.field.isEqual(s.field)&&Wn(r.value,s.value)}(e,t):e instanceof On?function(r,s){return s instanceof On&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&mE(o,s.filters[a]),!0):!1}(e,t):void xe()}function gE(e){return e instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${ki(n.value)}`}(e):e instanceof On?function(n){return n.op.toString()+" {"+n.getFilters().map(gE).join(" ,")+"}"}(e):"Filter"}class Ek extends Et{constructor(t,n,r){super(t,n,r),this.key=Ee.fromName(r.referenceValue)}matches(t){const n=Ee.comparator(t.key,this.key);return this.matchesComparison(n)}}class wk extends Et{constructor(t,n){super(t,"in",n),this.keys=vE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Ik extends Et{constructor(t,n){super(t,"not-in",n),this.keys=vE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function vE(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class Tk extends Et{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Jf(n)&&ea(n.arrayValue,this.value)}}class Sk extends Et{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ea(this.value.arrayValue,n)}}class Ak extends Et{constructor(t,n){super(t,"not-in",n)}matches(t){if(ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ea(this.value.arrayValue,n)}}class Ck extends Et{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Jf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ea(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Dv(e,t=null,n=[],r=[],s=null,i=null,o=null){return new Rk(e,t,n,r,s,i,o)}function Zf(e){const t=Ne(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Id(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Cu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ki(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ki(r)).join(",")),t.ue=n}return t.ue}function eh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!_k(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mE(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ov(e.startAt,t.startAt)&&Ov(e.endAt,t.endAt)}function Td(e){return Ee.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Pk(e,t,n,r,s,i,o,a){return new ya(e,t,n,r,s,i,o,a)}function th(e){return new ya(e)}function Nv(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function pE(e){return e.collectionGroup!==null}function Po(e){const t=Ne(e);if(t.ce===null){t.ce=[];const n=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $t(Ut.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.ce.push(new zl(i,r))}),n.has(Ut.keyField().canonicalString())||t.ce.push(new zl(Ut.keyField(),r))}return t.ce}function jn(e){const t=Ne(e);return t.le||(t.le=kk(t,Po(e))),t.le}function kk(e,t){if(e.limitType==="F")return Dv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new zl(s.field,i)});const n=e.endAt?new Hl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hl(e.startAt.position,e.startAt.inclusive):null;return Dv(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Sd(e,t){const n=e.filters.concat([t]);return new ya(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ad(e,t,n){return new ya(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ru(e,t){return eh(jn(e),jn(t))&&e.limitType===t.limitType}function yE(e){return`${Zf(jn(e))}|lt:${e.limitType}`}function oi(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>gE(s)).join(", ")}]`),Cu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ki(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ki(s)).join(",")),`Target(${r})`}(jn(e))}; limitType=${e.limitType})`}function Pu(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of Po(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=Vv(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Po(r),s)||r.endAt&&!function(o,a,u){const c=Vv(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Po(r),s))}(e,t)}function xk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _E(e){return(t,n)=>{let r=!1;for(const s of Po(e)){const i=Vk(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Vk(e,t,n){const r=e.field.isKeyField()?Ee.comparator(t.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Pi(u,c):xe()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Hi(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new mt(Ee.comparator);function vr(){return Ok}const bE=new mt(Ee.comparator);function _o(...e){let t=bE;for(const n of e)t=t.insert(n.key,n);return t}function EE(e){let t=bE;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Is(){return ko()}function wE(){return ko()}function ko(){return new zi(e=>e.toString(),(e,t)=>e.isEqual(t))}const Dk=new mt(Ee.comparator),Nk=new $t(Ee.comparator);function $e(...e){let t=Nk;for(const n of e)t=t.add(n);return t}const Lk=new $t(Qe);function Mk(){return Lk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jl(t)?"-0":t}}function IE(e){return{integerValue:""+e}}function Fk(e,t){return mk(t)?IE(t):nh(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this._=void 0}}function Bk(e,t,n){return e instanceof ql?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Qf(i)&&(i=Xf(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof ta?SE(e,t):e instanceof na?AE(e,t):function(s,i){const o=TE(s,i),a=Lv(o)+Lv(s.Pe);return wd(o)&&wd(s.Pe)?IE(a):nh(s.serializer,a)}(e,t)}function Uk(e,t,n){return e instanceof ta?SE(e,t):e instanceof na?AE(e,t):n}function TE(e,t){return e instanceof Wl?function(r){return wd(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class ql extends ku{}class ta extends ku{constructor(t){super(),this.elements=t}}function SE(e,t){const n=CE(t);for(const r of e.elements)n.some(s=>Wn(s,r))||n.push(r);return{arrayValue:{values:n}}}class na extends ku{constructor(t){super(),this.elements=t}}function AE(e,t){let n=CE(t);for(const r of e.elements)n=n.filter(s=>!Wn(s,r));return{arrayValue:{values:n}}}class Wl extends ku{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function Lv(e){return yt(e.integerValue||e.doubleValue)}function CE(e){return Jf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function $k(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof ta&&s instanceof ta||r instanceof na&&s instanceof na?Ri(r.elements,s.elements,Wn):r instanceof Wl&&s instanceof Wl?Wn(r.Pe,s.Pe):r instanceof ql&&s instanceof ql}(e.transform,t.transform)}class jk{constructor(t,n){this.version=t,this.transformResults=n}}class ur{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ur}static exists(t){return new ur(void 0,t)}static updateTime(t){return new ur(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ml(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class xu{}function RE(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new kE(e.key,ur.none()):new _a(e.key,e.data,ur.none());{const n=e.data,r=_n.empty();let s=new $t(Ut.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ws(e.key,r,new kn(s.toArray()),ur.none())}}function Hk(e,t,n){e instanceof _a?function(s,i,o){const a=s.value.clone(),u=Fv(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ws?function(s,i,o){if(!ml(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Fv(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(PE(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function xo(e,t,n,r){return e instanceof _a?function(i,o,a,u){if(!ml(i.precondition,o))return a;const c=i.value.clone(),d=Bv(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ws?function(i,o,a,u){if(!ml(i.precondition,o))return a;const c=Bv(i.fieldTransforms,u,o),d=o.data;return d.setAll(PE(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(i,o,a){return ml(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function zk(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=TE(r.transform,s||null);i!=null&&(n===null&&(n=_n.empty()),n.set(r.field,i))}return n||null}function Mv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ri(r,s,(i,o)=>$k(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class _a extends xu{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ws extends xu{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function PE(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Fv(e,t,n){const r=new Map;st(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,Uk(o,a,n[s]))}return r}function Bv(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Bk(i,o,t))}return r}class kE extends xu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qk extends xu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&Hk(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=xo(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=xo(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=wE();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=RE(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),$e())}isEqual(t){return this.batchId===t.batchId&&Ri(this.mutations,t.mutations,(n,r)=>Mv(n,r))&&Ri(this.baseMutations,t.baseMutations,(n,r)=>Mv(n,r))}}class rh{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){st(t.mutations.length===r.length);let s=function(){return Dk}();const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new rh(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,ze;function Yk(e){switch(e){default:return xe();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function xE(e){if(e===void 0)return gr("GRPC error has no .code"),H.UNKNOWN;switch(e){case bt.OK:return H.OK;case bt.CANCELLED:return H.CANCELLED;case bt.UNKNOWN:return H.UNKNOWN;case bt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case bt.INTERNAL:return H.INTERNAL;case bt.UNAVAILABLE:return H.UNAVAILABLE;case bt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case bt.NOT_FOUND:return H.NOT_FOUND;case bt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case bt.ABORTED:return H.ABORTED;case bt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case bt.DATA_LOSS:return H.DATA_LOSS;default:return xe()}}(ze=bt||(bt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new Vs([4294967295,4294967295],0);function Uv(e){const t=Qk().encode(e),n=new Zb;return n.update(t),new Uint8Array(n.digest())}function $v(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Vs([n,r],0),new Vs([s,i],0)]}class sh{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(r<0)throw new bo(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Vs.fromNumber(this.Ie)}Ee(t,n,r){let s=t.add(n.multiply(Vs.fromNumber(r)));return s.compare(Xk)===1&&(s=new Vs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=Uv(t),[r,s]=$v(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new sh(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Ie===0)return;const n=Uv(t),[r,s]=$v(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,ba.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Vu(De.min(),s,new mt(Qe),vr(),$e())}}class ba{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ba(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t,n,r,s){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=s}}class VE{constructor(t,n){this.targetId=t,this.me=n}}class OE{constructor(t,n,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class jv{constructor(){this.fe=0,this.ge=zv(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=$e(),n=$e(),r=$e();return this.ge.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:xe()}}),new ba(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=zv()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,st(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Jk{constructor(t){this.Le=t,this.Be=new Map,this.ke=vr(),this.qe=Hv(),this.Qe=new mt(Qe)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:xe()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(t){const n=t.targetId,r=t.me.count,s=this.Je(n);if(s){const i=s.target;if(Td(i))if(r===0){const o=new Ee(i.path);this.Ue(n,o,Gt.newNoDocument(o,De.min()))}else st(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(t),u=a?this.Xe(a,t,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Fs(r).toUint8Array()}catch(u){if(u instanceof uE)return Ci("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new sh(o,s,i)}catch(u){return Ci(u instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(t){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Td(a.target)){const u=new Ee(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Gt.newNoDocument(u,t))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=$e();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(t));const s=new Vu(t,n,this.Qe,this.ke,r);return this.ke=vr(),this.qe=Hv(),this.Qe=new mt(Qe),s}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const s=this.Ge(t);this.it(t,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new jv,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new $t(Qe),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new jv),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Hv(){return new mt(Ee.comparator)}function zv(){return new mt(Ee.comparator)}const Zk={asc:"ASCENDING",desc:"DESCENDING"},ex={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tx={and:"AND",or:"OR"};class nx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Cd(e,t){return e.useProto3Json||Cu(t)?t:{value:t}}function Kl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function rx(e,t){return Kl(e,t.toTimestamp())}function Hn(e){return st(!!e),De.fromTimestamp(function(n){const r=ts(n);return new Ct(r.seconds,r.nanos)}(e))}function ih(e,t){return Rd(e,t).canonicalString()}function Rd(e,t){const n=function(s){return new lt(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function NE(e){const t=lt.fromString(e);return st(UE(t)),t}function Pd(e,t){return ih(e.databaseId,t.path)}function Dc(e,t){const n=NE(t);if(n.get(1)!==e.databaseId.projectId)throw new me(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new me(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ee(ME(n))}function LE(e,t){return ih(e.databaseId,t)}function sx(e){const t=NE(e);return t.length===4?lt.emptyPath():ME(t)}function kd(e){return new lt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ME(e){return st(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function qv(e,t,n){return{name:Pd(e,t),fields:n.value.mapValue.fields}}function ix(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:xe()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(st(d===void 0||typeof d=="string"),Ht.fromBase64String(d||"")):(st(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ht.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const d=c.code===void 0?H.UNKNOWN:xE(c.code);return new me(d,c.message||"")}(o);n=new OE(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Dc(e,r.document.name),i=Hn(r.document.updateTime),o=r.document.createTime?Hn(r.document.createTime):De.min(),a=new _n({mapValue:{fields:r.document.fields}}),u=Gt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new gl(c,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Dc(e,r.document),i=r.readTime?Hn(r.readTime):De.min(),o=Gt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new gl([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Dc(e,r.document),i=r.removedTargetIds||[];n=new gl([],i,s,null)}else{if(!("filter"in t))return xe();{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Gk(s,i),a=r.targetId;n=new VE(a,o)}}return n}function ox(e,t){let n;if(t instanceof _a)n={update:qv(e,t.key,t.value)};else if(t instanceof kE)n={delete:Pd(e,t.key)};else if(t instanceof Ws)n={update:qv(e,t.key,t.data),updateMask:gx(t.fieldMask)};else{if(!(t instanceof qk))return xe();n={verify:Pd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ql)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ta)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof na)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wl)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw xe()}(0,r))),t.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:rx(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:xe()}(e,t.precondition)),n}function ax(e,t){return e&&e.length>0?(st(t!==void 0),e.map(n=>function(s,i){let o=s.updateTime?Hn(s.updateTime):Hn(i);return o.isEqual(De.min())&&(o=Hn(i)),new jk(o,s.transformResults||[])}(n,t))):[]}function lx(e,t){return{documents:[LE(e,t.path)]}}function ux(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LE(e,s);const i=function(c){if(c.length!==0)return BE(On.create(c,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:ai(g.field),direction:fx(g.dir)}}(d))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Cd(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:n,parent:s}}function cx(e){let t=sx(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){st(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:t=t.child(d.collectionId)}let i=[];n.where&&(i=function(f){const g=FE(f);return g instanceof On&&hE(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(p){return new zl(li(p.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Cu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(f){const g=!!f.before,m=f.values||[];return new Hl(m,g)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const g=!f.before,m=f.values||[];return new Hl(m,g)}(n.endAt)),Pk(t,s,o,i,a,"F",u,c)}function dx(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function FE(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=li(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=li(n.unaryFilter.field);return Et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=li(n.unaryFilter.field);return Et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=li(n.unaryFilter.field);return Et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(e):e.fieldFilter!==void 0?function(n){return Et.create(li(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return On.create(n.compositeFilter.filters.map(r=>FE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(e):xe()}function fx(e){return Zk[e]}function hx(e){return ex[e]}function mx(e){return tx[e]}function ai(e){return{fieldPath:e.canonicalString()}}function li(e){return Ut.fromServerFormat(e.fieldPath)}function BE(e){return e instanceof Et?function(n){if(n.op==="=="){if(xv(n.value))return{unaryFilter:{field:ai(n.field),op:"IS_NAN"}};if(kv(n.value))return{unaryFilter:{field:ai(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xv(n.value))return{unaryFilter:{field:ai(n.field),op:"IS_NOT_NAN"}};if(kv(n.value))return{unaryFilter:{field:ai(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ai(n.field),op:hx(n.op),value:n.value}}}(e):e instanceof On?function(n){const r=n.getFilters().map(s=>BE(s));return r.length===1?r[0]:{compositeFilter:{op:mx(n.op),filters:r}}}(e):xe()}function gx(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function UE(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,n,r,s,i=De.min(),o=De.min(),a=Ht.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t){this.ct=t}}function px(e){const t=cx({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ad(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.un=new _x}addToCollectionParentIndex(t,n){return this.un.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(es.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(es.min())}updateCollectionGroup(t,n,r){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class _x{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new $t(lt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new $t(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new xi(0)}static kn(){return new xi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.changes=new zi(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Gt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&xo(r.mutation,s,kn.empty(),Ct.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,$e()).next(()=>r))}getLocalViewOfDocuments(t,n,r=$e()){const s=Is();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let o=_o();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Is();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,$e()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,s){let i=vr();const o=ko(),a=function(){return ko()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Ws)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),xo(d.mutation,c,d.mutation.getFieldMask(),Ct.now())):o.set(c.key,kn.empty())}),this.recalculateAndSaveOverlays(t,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new Ex(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=ko();let s=new mt((o,a)=>o-a),i=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||kn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(s.get(a.batchId)||$e()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=wE();d.forEach(g=>{if(!i.has(g)){const m=RE(n.get(g),r.get(g));m!==null&&f.set(g,m),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,f))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return function(o){return Ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):pE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):W.resolve(Is());let a=-1,u=i;return o.next(c=>W.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?W.resolve():this.remoteDocumentCache.getEntry(t,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,u,c,$e())).next(d=>({batchId:a,changes:EE(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ee(n)).next(r=>{let s=_o();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let o=_o();return this.indexManager.getCollectionParents(t,i).next(a=>W.forEach(a,u=>{const c=function(f,g){return new ya(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,r,s).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Gt.newInvalidDocument(d)))});let a=_o();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&xo(d.mutation,c,kn.empty(),Ct.now()),Pu(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return W.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Hn(s.createTime)}}(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:px(s.bundledQuery),readTime:Hn(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.overlays=new mt(Ee.comparator),this.Ir=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Is();return W.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.ht(t,n,i)}),W.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),W.resolve()}getOverlaysForCollection(t,n,r){const s=Is(),i=n.length+1,o=new Ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return W.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new mt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Is(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Is(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return W.resolve(a)}ht(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Kk(n,r));let i=this.Ir.get(n);i===void 0&&(i=$e(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this.Tr=new $t(xt.Er),this.dr=new $t(xt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const r=new xt(t,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Vr(new xt(t,n))}mr(t,n){t.forEach(r=>this.removeReference(r,n))}gr(t){const n=new Ee(new lt([])),r=new xt(n,t),s=new xt(n,t+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new Ee(new lt([])),r=new xt(n,t),s=new xt(n,t+1);let i=$e();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new xt(t,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class xt{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return Ee.comparator(t.key,n.key)||Qe(t.wr,n.wr)}static Ar(t,n){return Qe(t.wr,n.wr)||Ee.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new $t(xt.Er)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Wk(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new xt(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(t,n){return W.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new xt(n,0),s=new xt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new $t(Qe);return n.forEach(s=>{const i=new xt(s,0),o=new xt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),W.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;Ee.isDocumentKey(i)||(i=i.child(""));const o=new xt(new Ee(i),0);let a=new $t(Qe);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.wr)),!0)},o),W.resolve(this.Cr(a))}Cr(t){const n=[];return t.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){st(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return W.forEach(n.mutations,s=>{const i=new xt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,n){const r=new xt(n,0),s=this.br.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t){this.Mr=t,this.docs=function(){return new mt(Ee.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(t,n){let r=vr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Gt.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=vr();const o=n.path,a=new Ee(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||ck(uk(d),r)<=0||(s.has(d.key)||Pu(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(t,n,r,s){xe()}Or(t,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Rx(this)}getSize(t){return W.resolve(this.size)}}class Rx extends bx{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(t,s)):this.cr.removeEntry(r)}),W.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t){this.persistence=t,this.Nr=new zi(n=>Zf(n),eh),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Lr=0,this.Br=new oh,this.targetCount=0,this.kr=xi.Bn()}forEachTarget(t,n){return this.Nr.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),W.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new xi(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Kn(n),W.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const r=this.Nr.get(n)||null;return W.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Rr(n,r),W.resolve()}removeMatchingKeys(t,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.yr(n);return W.resolve(r)}containsKey(t,n){return W.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t,n){this.qr={},this.overlays={},this.Qr=new Yf(0),this.Kr=!1,this.Kr=!0,this.$r=new Sx,this.referenceDelegate=t(this),this.Ur=new Px(this),this.indexManager=new yx,this.remoteDocumentCache=function(s){return new Cx(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new vx(n),this.Gr=new Ix(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Tx,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.qr[t.toKey()];return r||(r=new Ax(n,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,r){ge("MemoryPersistence","Starting transaction:",t);const s=new xx(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(t,n){return W.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,n)))}}class xx extends fk{constructor(t){super(),this.currentSequenceNumber=t}}class ah{constructor(t){this.persistence=t,this.Jr=new oh,this.Yr=null}static Zr(t){return new ah(t)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(t,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),W.resolve()}removeReference(t,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),W.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,r=>{const s=Ee.fromPath(r);return this.ei(t,s).next(i=>{i||n.removeEntry(s,De.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return W.or([()=>W.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(t,n){let r=$e(),s=$e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new lh(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return NP()?8:hk(Xt())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.Yi(t,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(t,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Vx;return this.Xi(t,n,o).next(a=>{if(i.result=a,this.zi)return this.es(t,n,o,a.size)})}).next(()=>i.result)}es(t,n,r,s){return r.documentReadCount<this.ji?(ho()<=je.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",oi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(ho()<=je.DEBUG&&ge("QueryEngine","Query:",oi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(ho()<=je.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",oi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,jn(n))):W.resolve())}Yi(t,n){if(Nv(n))return W.resolve(null);let r=jn(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ad(n,null,"F"),r=jn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const o=$e(...i);return this.Ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(t,Ad(n,null,"F")):this.rs(t,c,n,u)}))})))}Zi(t,n,r,s){return Nv(n)||s.isEqual(De.min())?W.resolve(null):this.Ji.getDocuments(t,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?W.resolve(null):(ho()<=je.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),oi(n)),this.rs(t,o,n,lk(s,-1)).next(a=>a))})}ts(t,n){let r=new $t(_E(t));return n.forEach((s,i)=>{Pu(t,i)&&(r=r.add(i))}),r}ns(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(t,n,r){return ho()<=je.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",oi(n)),this.Ji.getDocumentsMatchingQuery(t,n,es.min(),r)}rs(t,n,r,s){return this.Ji.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t,n,r,s){this.persistence=t,this.ss=n,this.serializer=s,this.os=new mt(Qe),this._s=new zi(i=>Zf(i),eh),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wx(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function Nx(e,t,n,r){return new Dx(e,t,n,r)}async function $E(e,t){const n=Ne(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=$e();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Lx(e,t){const n=Ne(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,g=f.keys();let m=W.resolve();return g.forEach(p=>{m=m.next(()=>d.getEntry(u,p)).next(_=>{const T=c.docVersions.get(p);st(T!==null),_.version.compareTo(T)<0&&(f.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=$e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,s))})}function jE(e){const t=Ne(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function Mx(e,t){const n=Ne(e),r=t.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];t.targetChanges.forEach((d,f)=>{const g=s.get(f);if(!g)return;a.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,f)));let m=g.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?m=m.withResumeToken(Ht.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(_,T,x){return _.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,m,d)&&a.push(n.Ur.updateTargetData(i,m))});let u=vr(),c=$e();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(Fx(i,o,t.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(De.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.os=s,i))}function Fx(e,t,n){let r=$e(),s=$e();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let o=vr();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(De.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):ge("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function Bx(e,t){const n=Ne(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Ux(e,t){const n=Ne(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,t).next(i=>i?(s=i,W.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new qr(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(t,r.targetId)),r})}async function xd(e,t,n){const r=Ne(e),s=r.os.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!pa(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.os=r.os.remove(t),r._s.delete(s.target)}function Wv(e,t,n){const r=Ne(e);let s=De.min(),i=$e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=Ne(u),g=f._s.get(d);return g!==void 0?W.resolve(f.os.get(g)):f.Ur.getTargetData(c,d)}(r,o,jn(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,t,n?s:De.min(),n?i:$e())).next(a=>($x(r,xk(t),a),{documents:a,Ts:i})))}function $x(e,t,n){let r=e.us.get(t)||De.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.us.set(t,r)}class Kv{constructor(){this.activeTargetIds=Mk()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jx{constructor(){this.so=new Kv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,r){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Kv,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl=null;function Nc(){return rl===null?rl=function(){return 268435456+Math.round(2147483648*Math.random())}():rl++,"0x"+rl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class Wx extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Nc(),u=this.xo(n,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${n}' ${a}:`,u,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,u,c,s).then(d=>(ge("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ci("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",s),d})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ji}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=zx[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,r,s){const i=Nc();return new Promise((o,a)=>{const u=new eE;u.setWithCredentials(!0),u.listenOnce(nE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case fl.NO_ERROR:const d=u.getResponseJson();ge(Wt,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(d)),o(d);break;case fl.TIMEOUT:ge(Wt,`RPC '${t}' ${i} timed out`),a(new me(H.DEADLINE_EXCEEDED,"Request time out"));break;case fl.HTTP_ERROR:const f=u.getStatus();if(ge(Wt,`RPC '${t}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const m=g==null?void 0:g.error;if(m&&m.status&&m.message){const p=function(T){const x=T.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(x)>=0?x:H.UNKNOWN}(m.status);a(new me(p,m.message))}else a(new me(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new me(H.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{ge(Wt,`RPC '${t}' ${i} completed.`)}});const c=JSON.stringify(s);ge(Wt,`RPC '${t}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}Bo(t,n,r){const s=Nc(),i=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=iE(),a=sE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new tE({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");ge(Wt,`Creating RPC '${t}' stream ${s}: ${d}`,u);const f=o.createWebChannel(d,u);let g=!1,m=!1;const p=new qx({Io:T=>{m?ge(Wt,`Not sending because RPC '${t}' stream ${s} is closed:`,T):(g||(ge(Wt,`Opening RPC '${t}' stream ${s} transport.`),f.open(),g=!0),ge(Wt,`RPC '${t}' stream ${s} sending:`,T),f.send(T))},To:()=>f.close()}),_=(T,x,O)=>{T.listen(x,N=>{try{O(N)}catch(M){setTimeout(()=>{throw M},0)}})};return _(f,yo.EventType.OPEN,()=>{m||(ge(Wt,`RPC '${t}' stream ${s} transport opened.`),p.yo())}),_(f,yo.EventType.CLOSE,()=>{m||(m=!0,ge(Wt,`RPC '${t}' stream ${s} transport closed`),p.So())}),_(f,yo.EventType.ERROR,T=>{m||(m=!0,Ci(Wt,`RPC '${t}' stream ${s} transport errored:`,T),p.So(new me(H.UNAVAILABLE,"The operation could not be completed")))}),_(f,yo.EventType.MESSAGE,T=>{var x;if(!m){const O=T.data[0];st(!!O);const N=O,M=N.error||((x=N[0])===null||x===void 0?void 0:x.error);if(M){ge(Wt,`RPC '${t}' stream ${s} received error:`,M);const L=M.status;let D=function(b){const C=bt[b];if(C!==void 0)return xE(C)}(L),A=M.message;D===void 0&&(D=H.INTERNAL,A="Unknown error status: "+L+" with message "+M.message),m=!0,p.So(new me(D,A)),f.close()}else ge(Wt,`RPC '${t}' stream ${s} received:`,O),p.bo(O)}}),_(a,rE.STAT_EVENT,T=>{T.stat===bd.PROXY?ge(Wt,`RPC '${t}' stream ${s} detected buffering proxy`):T.stat===bd.NOPROXY&&ge(Wt,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.wo()},0),p}}function Lc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(e){return new nx(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,n,r=1e3,s=1.5,i=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,n,r,s,i,o,a,u){this.ui=t,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new HE(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{t(()=>{const s=new me(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(t,n){const r=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return ge("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kx extends zE{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=ix(this.serializer,t),r=function(i){if(!("targetChange"in i))return De.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?Hn(o.readTime):De.min()}(t);return this.listener.d_(n,r)}A_(t){const n={};n.database=kd(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Td(u)?{documents:lx(i,u)}:{query:ux(i,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=DE(i,o.resumeToken);const c=Cd(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(De.min())>0){a.readTime=Kl(i,o.snapshotVersion.toTimestamp());const c=Cd(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=dx(this.serializer,t);r&&(n.labels=r),this.a_(n)}R_(t){const n={};n.database=kd(this.serializer),n.removeTarget=t,this.a_(n)}}class Gx extends zE{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return st(!!t.streamToken),this.lastStreamToken=t.streamToken,st(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){st(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=ax(t.writeResults,t.commitTime),r=Hn(t.commitTime);return this.listener.g_(r,n)}p_(){const t={};t.database=kd(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>ox(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new me(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(t,Rd(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new me(H.UNKNOWN,i.toString())})}Lo(t,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(t,Rd(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(H.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Qx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gr(n),this.D_=!1):ge("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ks(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Ne(u);c.L_.add(4),await Ea(c),c.q_.set("Unknown"),c.L_.delete(4),await Du(c)}(this))})}),this.q_=new Qx(r,s)}}async function Du(e){if(Ks(e))for(const t of e.B_)await t(!0)}async function Ea(e){for(const t of e.B_)await t(!1)}function qE(e,t){const n=Ne(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),fh(n)?dh(n):qi(n).r_()&&ch(n,t))}function uh(e,t){const n=Ne(e),r=qi(n);n.N_.delete(t),r.r_()&&WE(n,t),n.N_.size===0&&(r.r_()?r.o_():Ks(n)&&n.q_.set("Unknown"))}function ch(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(De.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}qi(e).A_(t)}function WE(e,t){e.Q_.xe(t),qi(e).R_(t)}function dh(e){e.Q_=new Jk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),qi(e).start(),e.q_.v_()}function fh(e){return Ks(e)&&!qi(e).n_()&&e.N_.size>0}function Ks(e){return Ne(e).L_.size===0}function KE(e){e.Q_=void 0}async function Jx(e){e.q_.set("Online")}async function Zx(e){e.N_.forEach((t,n)=>{ch(e,t)})}async function eV(e,t){KE(e),fh(e)?(e.q_.M_(t),dh(e)):e.q_.set("Unknown")}async function tV(e,t,n){if(e.q_.set("Online"),t instanceof OE&&t.state===2&&t.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(e,t)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Gl(e,r)}else if(t instanceof gl?e.Q_.Ke(t):t instanceof VE?e.Q_.He(t):e.Q_.We(t),!n.isEqual(De.min()))try{const r=await jE(e.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.N_.get(c);d&&i.N_.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i.N_.get(u);if(!d)return;i.N_.set(u,d.withResumeToken(Ht.EMPTY_BYTE_STRING,d.snapshotVersion)),WE(i,u);const f=new qr(d.target,u,c,d.sequenceNumber);ch(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await Gl(e,r)}}async function Gl(e,t,n){if(!pa(t))throw t;e.L_.add(1),await Ea(e),e.q_.set("Offline"),n||(n=()=>jE(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Du(e)})}function GE(e,t){return t().catch(n=>Gl(e,n,t))}async function Nu(e){const t=Ne(e),n=ns(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;nV(t);)try{const s=await Bx(t.localStore,r);if(s===null){t.O_.length===0&&n.o_();break}r=s.batchId,rV(t,s)}catch(s){await Gl(t,s)}YE(t)&&QE(t)}function nV(e){return Ks(e)&&e.O_.length<10}function rV(e,t){e.O_.push(t);const n=ns(e);n.r_()&&n.V_&&n.m_(t.mutations)}function YE(e){return Ks(e)&&!ns(e).n_()&&e.O_.length>0}function QE(e){ns(e).start()}async function sV(e){ns(e).p_()}async function iV(e){const t=ns(e);for(const n of e.O_)t.m_(n.mutations)}async function oV(e,t,n){const r=e.O_.shift(),s=rh.from(r,t,n);await GE(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Nu(e)}async function aV(e,t){t&&ns(e).V_&&await async function(r,s){if(function(o){return Yk(o)&&o!==H.ABORTED}(s.code)){const i=r.O_.shift();ns(r).s_(),await GE(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Nu(r)}}(e,t),YE(e)&&QE(e)}async function Yv(e,t){const n=Ne(e);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=Ks(n);n.L_.add(3),await Ea(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Du(n)}async function lV(e,t){const n=Ne(e);t?(n.L_.delete(2),await Du(n)):t||(n.L_.add(2),await Ea(n),n.q_.set("Unknown"))}function qi(e){return e.K_||(e.K_=function(n,r,s){const i=Ne(n);return i.w_(),new Kx(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{Eo:Jx.bind(null,e),Ro:Zx.bind(null,e),mo:eV.bind(null,e),d_:tV.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),fh(e)?dh(e):e.q_.set("Unknown")):(await e.K_.stop(),KE(e))})),e.K_}function ns(e){return e.U_||(e.U_=function(n,r,s){const i=Ne(n);return i.w_(),new Gx(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sV.bind(null,e),mo:aV.bind(null,e),f_:iV.bind(null,e),g_:oV.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Nu(e)):(await e.U_.stop(),e.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new hh(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(H.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mh(e,t){if(gr("AsyncQueue",`${t}: ${e}`),pa(e))return new me(H.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=_o(),this.sortedSet=new mt(this.comparator)}static emptySet(t){return new vi(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof vi)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new vi;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.W_=new mt(Ee.comparator)}track(t){const n=t.doc.key,r=this.W_.get(n);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(n,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(n):t.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):xe():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Vi{constructor(t,n,r,s,i,o,a,u,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vi(t,n,vi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ru(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class cV{constructor(){this.queries=Xv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ne(n),i=s.queries;s.queries=Xv(),i.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new me(H.ABORTED,"Firestore shutting down"))}}function Xv(){return new zi(e=>yE(e),Ru)}async function XE(e,t){const n=Ne(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.H_()&&t.J_()&&(r=2):(i=new uV,r=t.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=mh(o,`Initialization of query '${oi(t.query)}' failed`);return void t.onError(a)}n.queries.set(s,i),i.j_.push(t),t.Z_(n.onlineState),i.z_&&t.X_(i.z_)&&gh(n)}async function JE(e,t){const n=Ne(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(t);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=t.J_()?0:1:!i.H_()&&t.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dV(e,t){const n=Ne(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&gh(n)}function fV(e,t,n){const r=Ne(e),s=r.queries.get(t);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(t)}function gh(e){e.Y_.forEach(t=>{t.next()})}var Vd,Jv;(Jv=Vd||(Vd={})).ea="default",Jv.Cache="cache";class ZE{constructor(t,n,r){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Vi(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=Vi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Vd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t){this.key=t}}class tw{constructor(t){this.key=t}}class hV{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=$e(),this.mutatedKeys=$e(),this.Aa=_E(t),this.Ra=new vi(this.Aa)}get Va(){return this.Ta}ma(t,n){const r=n?n.fa:new Qv,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((d,f)=>{const g=s.get(d),m=Pu(this.query,f)?f:null,p=!!g&&this.mutatedKeys.has(g.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;g&&m?g.data.isEqual(m.data)?p!==_&&(r.track({type:3,doc:m}),T=!0):this.ga(g,m)||(r.track({type:2,doc:m}),T=!0,(u&&this.Aa(m,u)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),T=!0):g&&!m&&(r.track({type:1,doc:g}),T=!0,(u||c)&&(a=!0)),T&&(m?(o=o.add(m),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((d,f)=>function(m,p){const _=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return _(m)-_(p)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Vi(this.query,t.Ra,i,o,t.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Qv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=$e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return t.forEach(r=>{this.da.has(r)||n.push(new tw(r))}),this.da.forEach(r=>{t.has(r)||n.push(new ew(r))}),n}ba(t){this.Ta=t.Ts,this.da=$e();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return Vi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class mV{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class gV{constructor(t){this.key=t,this.va=!1}}class vV{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new zi(a=>yE(a),Ru),this.Ma=new Map,this.xa=new Set,this.Oa=new mt(Ee.comparator),this.Na=new Map,this.La=new oh,this.Ba={},this.ka=new Map,this.qa=xi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function pV(e,t,n=!0){const r=aw(e);let s;const i=r.Fa.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await nw(r,t,n,!0),s}async function yV(e,t){const n=aw(e);await nw(n,t,!0,!1)}async function nw(e,t,n,r){const s=await Ux(e.localStore,jn(t)),i=s.targetId,o=n?e.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await _V(e,t,i,o==="current",s.resumeToken)),e.isPrimaryClient&&n&&qE(e.remoteStore,s),a}async function _V(e,t,n,r,s){e.Ka=(f,g,m)=>async function(_,T,x,O){let N=T.view.ma(x);N.ns&&(N=await Wv(_.localStore,T.query,!1).then(({documents:A})=>T.view.ma(A,N)));const M=O&&O.targetChanges.get(T.targetId),L=O&&O.targetMismatches.get(T.targetId)!=null,D=T.view.applyChanges(N,_.isPrimaryClient,M,L);return ep(_,T.targetId,D.wa),D.snapshot}(e,f,g,m);const i=await Wv(e.localStore,t,!0),o=new hV(t,i.Ts),a=o.ma(i.documents),u=ba.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),c=o.applyChanges(a,e.isPrimaryClient,u);ep(e,n,c.wa);const d=new mV(t,n,o);return e.Fa.set(t,d),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function bV(e,t,n){const r=Ne(e),s=r.Fa.get(t),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Ru(o,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await xd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&uh(r.remoteStore,s.targetId),Od(r,s.targetId)}).catch(va)):(Od(r,s.targetId),await xd(r.localStore,s.targetId,!0))}async function EV(e,t){const n=Ne(e),r=n.Fa.get(t),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uh(n.remoteStore,r.targetId))}async function wV(e,t,n){const r=PV(e);try{const s=await function(o,a){const u=Ne(o),c=Ct.now(),d=a.reduce((m,p)=>m.add(p.key),$e());let f,g;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let p=vr(),_=$e();return u.cs.getEntries(m,d).next(T=>{p=T,p.forEach((x,O)=>{O.isValidDocument()||(_=_.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,p)).next(T=>{f=T;const x=[];for(const O of a){const N=zk(O,f.get(O.key).overlayedDocument);N!=null&&x.push(new Ws(O.key,N,cE(N.value.mapValue),ur.exists(!0)))}return u.mutationQueue.addMutationBatch(m,c,x,a)}).next(T=>{g=T;const x=T.applyToLocalDocumentSet(f,_);return u.documentOverlayCache.saveOverlays(m,T.batchId,x)})}).then(()=>({batchId:g.batchId,changes:EE(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new mt(Qe)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await wa(r,s.changes),await Nu(r.remoteStore)}catch(s){const i=mh(s,"Failed to persist write");n.reject(i)}}async function rw(e,t){const n=Ne(e);try{const r=await Mx(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(st(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?st(o.va):s.removedDocuments.size>0&&(st(o.va),o.va=!1))}),await wa(n,r,t)}catch(r){await va(r)}}function Zv(e,t,n){const r=Ne(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=Ne(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const g of f.j_)g.Z_(a)&&(c=!0)}),c&&gh(u)}(r.eventManager,t),s.length&&r.Ca.d_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function IV(e,t,n){const r=Ne(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Na.get(t),i=s&&s.key;if(i){let o=new mt(Ee.comparator);o=o.insert(i,Gt.newNoDocument(i,De.min()));const a=$e().add(i),u=new Vu(De.min(),new Map,new mt(Qe),o,a);await rw(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(t),vh(r)}else await xd(r.localStore,t,!1).then(()=>Od(r,t,n)).catch(va)}async function TV(e,t){const n=Ne(e),r=t.batch.batchId;try{const s=await Lx(n.localStore,t);iw(n,r,null),sw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wa(n,s)}catch(s){await va(s)}}async function SV(e,t,n){const r=Ne(e);try{const s=await function(o,a){const u=Ne(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(st(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,t);iw(r,t,n),sw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await wa(r,s)}catch(s){await va(s)}}function sw(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function iw(e,t,n){const r=Ne(e);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.Ba[r.currentUser.toKey()]=s}}function Od(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(r=>{e.La.containsKey(r)||ow(e,r)})}function ow(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(uh(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),vh(e))}function ep(e,t,n){for(const r of n)r instanceof ew?(e.La.addReference(r.key,t),AV(e,r)):r instanceof tw?(ge("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||ow(e,r.key)):xe()}function AV(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(ge("SyncEngine","New document in limbo: "+n),e.xa.add(r),vh(e))}function vh(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Ee(lt.fromString(t)),r=e.qa.next();e.Na.set(r,new gV(n)),e.Oa=e.Oa.insert(n,r),qE(e.remoteStore,new qr(jn(th(n.path)),r,"TargetPurposeLimboResolution",Yf.oe))}}async function wa(e,t,n){const r=Ne(e),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,t,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=lh.Wi(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,c){const d=Ne(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(c,g=>W.forEach(g.$i,m=>d.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>W.forEach(g.Ui,m=>d.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!pa(f))throw f;ge("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const g=f.targetId;if(!f.fromCache){const m=d.os.get(g),p=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(p);d.os=d.os.insert(g,_)}}}(r.localStore,i))}async function CV(e,t){const n=Ne(e);if(!n.currentUser.isEqual(t)){ge("SyncEngine","User change. New user:",t.toKey());const r=await $E(n.localStore,t);n.currentUser=t,function(i,o){i.ka.forEach(a=>{a.forEach(u=>{u.reject(new me(H.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await wa(n,r.hs)}}function RV(e,t){const n=Ne(e),r=n.Na.get(t);if(r&&r.va)return $e().add(r.key);{let s=$e();const i=n.Ma.get(t);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function aw(e){const t=Ne(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IV.bind(null,t),t.Ca.d_=dV.bind(null,t.eventManager),t.Ca.$a=fV.bind(null,t.eventManager),t}function PV(e){const t=Ne(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SV.bind(null,t),t}class tp{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Ou(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Nx(this.persistence,new Ox,t.initialUser,this.serializer)}createPersistence(t){return new kx(ah.Zr,this.serializer)}createSharedClientState(t){return new jx}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kV{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CV.bind(null,this.syncEngine),await lV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new cV}()}createDatastore(t){const n=Ou(t.databaseInfo.databaseId),r=function(i){return new Wx(i)}(t.databaseInfo);return function(i,o,a,u){return new Yx(i,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,o,a){return new Xx(r,s,i,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Zv(this.syncEngine,n,0),function(){return Gv.D()?new Gv:new Hx}())}createSyncEngine(t,n){return function(s,i,o,a,u,c,d){const f=new vV(s,i,o,a,u,c);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const i=Ne(s);ge("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Ea(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ga(this.observer.next,t)}error(t){this.observer.error?this.Ga(this.observer.error,t):gr("Uncaught Error in snapshot listener:",t.toString())}za(){this.muted=!0}Ga(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Kt.UNAUTHENTICATED,this.clientId=aE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ge("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ge("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=mh(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Mc(e,t){e.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $E(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function np(e,t){e.asyncQueue.verifyOperationInProgress();const n=await OV(e);ge("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Yv(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>Yv(t.remoteStore,s)),e._onlineComponents=t}function VV(e){return e.name==="FirebaseError"?e.code===H.FAILED_PRECONDITION||e.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function OV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!VV(n))throw n;Ci("Error using user provided cache. Falling back to memory cache: "+n),await Mc(e,new tp)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Mc(e,new tp);return e._offlineComponents}async function uw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await np(e,e._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await np(e,new kV))),e._onlineComponents}function DV(e){return uw(e).then(t=>t.syncEngine)}async function cw(e){const t=await uw(e),n=t.eventManager;return n.onListen=pV.bind(null,t.syncEngine),n.onUnlisten=bV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=yV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=EV.bind(null,t.syncEngine),n}function NV(e,t,n={}){const r=new lr;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new lw({next:g=>{o.enqueueAndForget(()=>JE(i,f));const m=g.docs.has(a);!m&&g.fromCache?c.reject(new me(H.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&u&&u.source==="server"?c.reject(new me(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new ZE(th(a.path),d,{includeMetadataChanges:!0,_a:!0});return XE(i,f)}(await cw(e),e.asyncQueue,t,n,r)),r.promise}function LV(e,t,n={}){const r=new lr;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new lw({next:g=>{o.enqueueAndForget(()=>JE(i,f)),g.fromCache&&u.source==="server"?c.reject(new me(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new ZE(a,d,{includeMetadataChanges:!0,_a:!0});return XE(i,f)}(await cw(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(e,t,n){if(!n)throw new me(H.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function MV(e,t,n,r){if(t===!0&&r===!0)throw new me(H.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function sp(e){if(!Ee.isDocumentKey(e))throw new me(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ip(e){if(Ee.isDocumentKey(e))throw new me(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Lu(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":xe()}function Us(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new me(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lu(e);throw new me(H.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new me(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new me(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}MV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dw((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mu{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new op({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new me(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new me(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new op(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Z1;switch(r.type){case"firstParty":return new rk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rp.get(n);r&&(ge("ComponentProvider","Removing Datastore"),rp.delete(n),r.terminate())}(this),Promise.resolve()}}function FV(e,t,n,r={}){var s;const i=(e=Us(e,Mu))._getSettings(),o=`${t}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ci("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Kt.MOCK_USER;else{a=PP(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new me(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Kt(c)}e._authCredentials=new ek(new oE(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Wi(this.firestore,t,this._query)}}class rn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new rn(this.firestore,t,this._key)}}class Xr extends Wi{constructor(t,n,r){super(t,n,th(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new rn(this.firestore,null,new Ee(t))}withConverter(t){return new Xr(this.firestore,t,this._path)}}function Dd(e,t,...n){if(e=jt(e),fw("collection","path",t),e instanceof Mu){const r=lt.fromString(t,...n);return ip(r),new Xr(e,null,r)}{if(!(e instanceof rn||e instanceof Xr))throw new me(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(lt.fromString(t,...n));return ip(r),new Xr(e.firestore,null,r)}}function hw(e,t,...n){if(e=jt(e),arguments.length===1&&(t=aE.newId()),fw("doc","path",t),e instanceof Mu){const r=lt.fromString(t,...n);return sp(r),new rn(e,null,new Ee(r))}{if(!(e instanceof rn||e instanceof Xr))throw new me(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(lt.fromString(t,...n));return sp(r),new rn(e.firestore,e instanceof Xr?e.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new HE(this,"async_queue_retry"),this.Eu=()=>{const n=Lc();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const t=Lc();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.du(),this.Au(t)}enterRestrictedMode(t){if(!this.cu){this.cu=!0,this.Iu=t||!1;const n=Lc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(t){if(this.du(),this.cu)return new Promise(()=>{});const n=new lr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.uu.push(t),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(t){if(!pa(t))throw t;ge("AsyncQueue","Operation failed with retryable error: "+t)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(t){const n=this.au.then(()=>(this.Pu=!0,t().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw gr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(t,n,r){this.du(),this.Tu.indexOf(t)>-1&&(n=0);const s=hh.createAndSchedule(this,t,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&xe()}verifyOperationInProgress(){}async mu(){let t;do t=this.au,await t;while(t!==this.au)}fu(t){for(const n of this.lu)if(n.timerId===t)return!0;return!1}gu(t){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.mu()})}pu(t){this.Tu.push(t)}Vu(t){const n=this.lu.indexOf(t);this.lu.splice(n,1)}}class Fu extends Mu{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=function(){return new BV}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mw(this),this._firestoreClient.terminate()}}function UV(e,t){const n=typeof e=="object"?e:Qb(),r=typeof e=="string"?e:"(default)",s=Kf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=CP("firestore");i&&FV(s,...i)}return s}function ph(e){return e._firestoreClient||mw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function mw(e){var t,n,r;const s=e._freezeSettings(),i=function(a,u,c,d){return new vk(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,dw(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new xV(e._authCredentials,e._appCheckCredentials,e._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Oi(Ht.fromBase64String(t))}catch(n){throw new me(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Oi(Ht.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new me(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new me(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new me(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qe(this._lat,t._lat)||Qe(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=/^__.*__$/;class jV{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ws(t,this.data,this.fieldMask,n,this.fieldTransforms):new _a(t,this.data,n,this.fieldTransforms)}}function vw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class Eh{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(t){return new Eh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Su({path:r,Du:!1});return s.vu(t),s}Cu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(t){return this.Su({path:void 0,Du:!0})}Mu(t){return Yl(t,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let t=0;t<this.path.length;t++)this.vu(this.path.get(t))}vu(t){if(t.length===0)throw this.Mu("Document fields must not be empty");if(vw(this.wu)&&$V.test(t))throw this.Mu('Document fields cannot begin and end with "__"')}}class HV{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ou(t)}Nu(t,n,r,s=!1){return new Eh({wu:t,methodName:n,Ou:r,path:Ut.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pw(e){const t=e._freezeSettings(),n=Ou(e._databaseId);return new HV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zV(e,t,n,r,s,i={}){const o=e.Nu(i.merge||i.mergeFields?2:0,t,n,s);bw("Data must be an object, but it was:",o,r);const a=yw(r,o);let u,c;if(i.merge)u=new kn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const g=WV(t,f,n);if(!o.contains(g))throw new me(H.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);GV(d,g)||d.push(g)}u=new kn(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new jV(new _n(a),u,c)}function qV(e,t,n,r=!1){return wh(n,e.Nu(r?4:3,t))}function wh(e,t){if(_w(e=jt(e)))return bw("Unsupported field value:",t,e),yw(e,t);if(e instanceof gw)return function(r,s){if(!vw(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Du&&t.wu!==4)throw t.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=wh(a,s.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(e,t)}return function(r,s){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Fk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ct.fromDate(r);return{timestampValue:Kl(s.serializer,i)}}if(r instanceof Ct){const i=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kl(s.serializer,i)}}if(r instanceof _h)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oi)return{bytesValue:DE(s.serializer,r._byteString)};if(r instanceof rn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ih(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof bh)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return nh(a.serializer,u)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${Lu(r)}`)}(e,t)}function yw(e,t){const n={};return lE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hi(e,(r,s)=>{const i=wh(s,t.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function _w(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ct||e instanceof _h||e instanceof Oi||e instanceof rn||e instanceof gw||e instanceof bh)}function bw(e,t,n){if(!_w(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Lu(n);throw r==="an object"?t.Mu(e+" a custom object"):t.Mu(e+" "+r)}}function WV(e,t,n){if((t=jt(t))instanceof yh)return t._internalPath;if(typeof t=="string")return Ew(e,t);throw Yl("Field path arguments must be of type string or ",e,!1,void 0,n)}const KV=new RegExp("[~\\*/\\[\\]]");function Ew(e,t,n){if(t.search(KV)>=0)throw Yl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yh(...t.split("."))._internalPath}catch{throw Yl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Yl(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new me(H.INVALID_ARGUMENT,a+e+u)}function GV(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Iw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YV extends ww{data(){return super.data()}}function Iw(e,t){return typeof t=="string"?Ew(e,t):t instanceof yh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new me(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ih{}class XV extends Ih{}function JV(e,t,...n){let r=[];t instanceof Ih&&r.push(t),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof Sh).length,a=i.filter(u=>u instanceof Th).length;if(o>1||o>0&&a>0)throw new me(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class Th extends XV{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Th(t,n,r)}_apply(t){const n=this._parse(t);return Tw(t._query,n),new Wi(t.firestore,t.converter,Sd(t._query,n))}_parse(t){const n=pw(t.firestore);return function(i,o,a,u,c,d,f){let g;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new me(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){lp(f,d);const m=[];for(const p of f)m.push(ap(u,i,p));g={arrayValue:{values:m}}}else g=ap(u,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||lp(f,d),g=qV(a,o,f,d==="in"||d==="not-in");return Et.create(c,d,g)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Sh extends Ih{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Sh(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:On.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)Tw(o,u),o=Sd(o,u)}(t._query,n),new Wi(t.firestore,t.converter,Sd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ap(e,t,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new me(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pE(t)&&n.indexOf("/")!==-1)throw new me(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(lt.fromString(n));if(!Ee.isDocumentKey(r))throw new me(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pv(e,new Ee(r))}if(n instanceof rn)return Pv(e,n._key);throw new me(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lu(n)}.`)}function lp(e,t){if(!Array.isArray(e)||e.length===0)throw new me(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Tw(e,t){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new me(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new me(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ZV{convertValue(t,n="none"){switch(Bs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw xe()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Hi(t,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(t){var n,r,s;const i=(s=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>yt(o.doubleValue));return new bh(i)}convertGeoPoint(t){return new _h(yt(t.latitude),yt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Xf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jo(t));default:return null}}convertTimestamp(t){const n=ts(t);return new Ct(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=lt.fromString(t);st(UE(r));const s=new Zo(r.get(1),r.get(3)),i=new Ee(r.popFirst(5));return s.isEqual(n)||gr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Sw extends ww{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Iw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vl extends Sw{data(t={}){return super.data(t)}}class tO{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Eo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new vl(this._firestore,this._userDataWriter,r.key,r,new Eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new vl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Eo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new vl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Eo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:nO(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(e){e=Us(e,rn);const t=Us(e.firestore,Fu);return NV(ph(t),e._key).then(n=>aO(t,e,n))}class Aw extends ZV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Oi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function sO(e){e=Us(e,Wi);const t=Us(e.firestore,Fu),n=ph(t),r=new Aw(t);return QV(e._query),LV(n,e._query).then(s=>new tO(t,r,e,s))}function iO(e,t,n){e=Us(e,rn);const r=Us(e.firestore,Fu),s=eO(e.converter,t);return oO(r,[zV(pw(r),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,ur.none())])}function oO(e,t){return function(r,s){const i=new lr;return r.asyncQueue.enqueueAndForget(async()=>wV(await DV(r),s,i)),i.promise}(ph(e),t)}function aO(e,t,n){const r=n.docs.get(t._key),s=new Aw(e);return new Sw(e,s,t._key,r,new Eo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){ji=s})($i),Ai(new Ls("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Fu(new tk(r.getProvider("auth-internal")),new ik(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new me(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Qr(Tv,"4.7.1",t),Qr(Tv,"4.7.1","esm2017")})();function Ah(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Cw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lO=Cw,Rw=new ma("auth","Firebase",Cw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new qf("@firebase/auth");function uO(e,...t){Ql.logLevel<=je.WARN&&Ql.warn(`Auth (${$i}): ${e}`,...t)}function pl(e,...t){Ql.logLevel<=je.ERROR&&Ql.error(`Auth (${$i}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(e,...t){throw Ch(e,...t)}function zn(e,...t){return Ch(e,...t)}function Pw(e,t,n){const r=Object.assign(Object.assign({},lO()),{[t]:n});return new ma("auth","Firebase",r).create(t,{appName:e.name})}function cr(e){return Pw(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ch(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Rw.create(e,...t)}function Ae(e,t,...n){if(!e)throw Ch(t,...n)}function sr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw pl(t),new Error(t)}function pr(e,t){e||sr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function cO(){return up()==="http:"||up()==="https:"}function up(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cO()||VP()||"connection"in navigator)?navigator.onLine:!0}function fO(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,n){this.shortDelay=t,this.longDelay=n,pr(n>t,"Short delay should be less than long delay!"),this.isMobile=kP()||OP()}get(){return dO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(e,t){pr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new Ia(3e4,6e4);function cs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ir(e,t,n,r,s={}){return xw(e,s,async()=>{let i={},o={};r&&(t==="GET"?o=r:i={body:JSON.stringify(r)});const a=ga(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),kw.fetch()(Vw(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},i))})}async function xw(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},hO),t);try{const s=new vO(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw sl(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw sl(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw sl(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw sl(e,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Pw(e,d,c);Dn(e,d)}}catch(s){if(s instanceof wr)throw s;Dn(e,"network-request-failed",{message:String(s)})}}async function Ta(e,t,n,r,s={}){const i=await Ir(e,t,n,r,s);return"mfaPendingCredential"in i&&Dn(e,"multi-factor-auth-required",{_serverResponse:i}),i}function Vw(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?Rh(e.config,s):`${e.config.apiScheme}://${s}`}function gO(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vO{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),mO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sl(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=zn(e,t,r);return s.customData._tokenResponse=n,s}function cp(e){return e!==void 0&&e.enterprise!==void 0}class pO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return gO(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function yO(e,t){return Ir(e,"GET","/v2/recaptchaConfig",cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(e,t){return Ir(e,"POST","/v1/accounts:delete",t)}async function Ow(e,t){return Ir(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function bO(e,t=!1){const n=jt(e),r=await n.getIdToken(t),s=Ph(r);Ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Vo(Fc(s.auth_time)),issuedAtTime:Vo(Fc(s.iat)),expirationTime:Vo(Fc(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Fc(e){return Number(e)*1e3}function Ph(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return pl("JWT malformed, contained fewer than 3 sections"),null;try{const s=Hb(n);return s?JSON.parse(s):(pl("Failed to decode base64 JWT payload"),null)}catch(s){return pl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function dp(e){const t=Ph(e);return Ae(t,"internal-error"),Ae(typeof t.exp<"u","internal-error"),Ae(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Di(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof wr&&EO(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function EO({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vo(this.lastLoginAt),this.creationTime=Vo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(e){var t;const n=e.auth,r=await e.getIdToken(),s=await Di(e,Ow(n,{idToken:r}));Ae(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const o=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?Dw(i.providerUserInfo):[],a=TO(e.providerData,o),u=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ld(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,f)}async function IO(e){const t=jt(e);await Xl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function TO(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function Dw(e){return e.map(t=>{var{providerId:n}=t,r=Ah(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(e,t){const n=await xw(e,{},async()=>{const r=ga({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,o=Vw(e,s,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kw.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AO(e,t){return Ir(e,"POST","/v2/accounts:revokeToken",cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ae(t.idToken,"internal-error"),Ae(typeof t.idToken<"u","internal-error"),Ae(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dp(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ae(t.length!==0,"internal-error");const n=dp(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await SO(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new pi;return r&&(Ae(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(Ae(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new pi,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(e,t){Ae(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ir{constructor(t){var{uid:n,auth:r,stsTokenManager:s}=t,i=Ah(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ld(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Di(this,this.stsTokenManager.getToken(this.auth,t));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return bO(this,t)}reload(){return IO(this)}_assign(t){this!==t&&(Ae(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ir(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Xl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(cr(this.auth));const t=await this.getIdToken();return await Di(this,_O(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,s,i,o,a,u,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,O=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:M,isAnonymous:L,providerData:D,stsTokenManager:A}=n;Ae(N&&A,t,"internal-error");const y=pi.fromJSON(this.name,A);Ae(typeof N=="string",t,"internal-error"),kr(f,t.name),kr(g,t.name),Ae(typeof M=="boolean",t,"internal-error"),Ae(typeof L=="boolean",t,"internal-error"),kr(m,t.name),kr(p,t.name),kr(_,t.name),kr(T,t.name),kr(x,t.name),kr(O,t.name);const b=new ir({uid:N,auth:t,email:g,emailVerified:M,displayName:f,isAnonymous:L,photoURL:p,phoneNumber:m,tenantId:_,stsTokenManager:y,createdAt:x,lastLoginAt:O});return D&&Array.isArray(D)&&(b.providerData=D.map(C=>Object.assign({},C))),T&&(b._redirectEventId=T),b}static async _fromIdTokenResponse(t,n,r=!1){const s=new pi;s.updateFromServerResponse(n);const i=new ir({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await Xl(i),i}static async _fromGetAccountInfoResponse(t,n,r){const s=n.users[0];Ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Dw(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new pi;a.updateFromIdToken(r);const u=new ir({uid:s.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ld(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=new Map;function or(e){pr(e instanceof Function,"Expected a class definition");let t=fp.get(e);return t?(pr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fp.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Nw.type="NONE";const hp=Nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(e,t,n){return`firebase:${e}:${t}:${n}`}class yi{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=yl(this.userKey,s.apiKey,i),this.fullPersistenceKey=yl("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ir._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new yi(or(hp),t,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||or(hp);const o=yl(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=ir._fromJSON(t,d);c!==i&&(a=f),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new yi(i,t,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new yi(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Bw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Lw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($w(t))return"Blackberry";if(jw(t))return"Webos";if(Mw(t))return"Safari";if((t.includes("chrome/")||Fw(t))&&!t.includes("edge/"))return"Chrome";if(Uw(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Lw(e=Xt()){return/firefox\//i.test(e)}function Mw(e=Xt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Fw(e=Xt()){return/crios\//i.test(e)}function Bw(e=Xt()){return/iemobile/i.test(e)}function Uw(e=Xt()){return/android/i.test(e)}function $w(e=Xt()){return/blackberry/i.test(e)}function jw(e=Xt()){return/webos/i.test(e)}function kh(e=Xt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function CO(e=Xt()){var t;return kh(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function RO(){return DP()&&document.documentMode===10}function Hw(e=Xt()){return kh(e)||Uw(e)||jw(e)||$w(e)||/windows phone/i.test(e)||Bw(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(e,t=[]){let n;switch(e){case"Browser":n=mp(Xt());break;case"Worker":n=`${mp(Xt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$i}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((o,a)=>{try{const u=t(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(e,t={}){return Ir(e,"GET","/v2/passwordPolicy",cs(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=6;class VO{constructor(t){var n,r,s,i;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:xO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=t.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,s,i,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<t.length;s++)r=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,n,r,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gp(this),this.idTokenSubscription=new gp(this),this.beforeStateQueue=new PO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await yi.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Ow(this,{idToken:t}),r=await ir._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if($n(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Xl(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(cr(this));const n=t?jt(t):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ae(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await kO(this),n=new VO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ma("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AO(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&or(t)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await yi.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=zw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&uO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gs(e){return jt(e)}class gp{constructor(t){this.auth=t,this.observer=null,this.addObserver=jP(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DO(e){Bu=e}function qw(e){return Bu.loadJS(e)}function NO(){return Bu.recaptchaEnterpriseScript}function LO(){return Bu.gapiScript}function MO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const FO="recaptcha-enterprise",BO="NO_RECAPTCHA";class UO{constructor(t){this.type=FO,this.auth=Gs(t)}async verify(t="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{yO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new pO(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;cp(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:t}).then(c=>{o(c)}).catch(()=>{o(BO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&cp(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=NO();u.length!==0&&(u+=a),qw(u).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function vp(e,t,n,r=!1){const s=new UO(e);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Md(e,t,n,r){var s;if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await vp(e,t,n,n==="getOobCode");return r(e,i)}else return r(e,t).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await vp(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(e,t){const n=Kf(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ul(i,t??{}))return s;Dn(s,"already-initialized")}return n.initialize({options:t})}function jO(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(or);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function HO(e,t,n){const r=Gs(e);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!1,i=Ww(t),{host:o,port:a}=zO(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),qO()}function Ww(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zO(e){const t=Ww(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:pp(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:pp(o)}}}function pp(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function qO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(t){return sr("not implemented")}_linkToIdToken(t,n){return sr("not implemented")}_getReauthenticationResolver(t){return sr("not implemented")}}async function WO(e,t){return Ir(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(e,t){return Ta(e,"POST","/v1/accounts:signInWithPassword",cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(e,t){return Ta(e,"POST","/v1/accounts:signInWithEmailLink",cs(e,t))}async function YO(e,t){return Ta(e,"POST","/v1/accounts:signInWithEmailLink",cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends xh{constructor(t,n,r,s=null){super("password",r),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new ra(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new ra(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Md(t,n,"signInWithPassword",KO);case"emailLink":return GO(t,{email:this._email,oobCode:this._password});default:Dn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Md(t,r,"signUpPassword",WO);case"emailLink":return YO(t,{idToken:n,email:this._email,oobCode:this._password});default:Dn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _i(e,t){return Ta(e,"POST","/v1/accounts:signInWithIdp",cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="http://localhost";class $s extends xh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new $s(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=n,i=Ah(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new $s(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return _i(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,_i(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,_i(t,n)}buildRequest(){const t={requestUri:QO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ga(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JO(e){const t=vo(po(e)).link,n=t?vo(po(t)).deep_link_id:null,r=vo(po(e)).deep_link_id;return(r?vo(po(r)).link:null)||r||n||t||e}class Vh{constructor(t){var n,r,s,i,o,a;const u=vo(po(t)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,f=XO((s=u.mode)!==null&&s!==void 0?s:null);Ae(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=JO(t);try{return new Vh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.providerId=Ki.PROVIDER_ID}static credential(t,n){return ra._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Vh.parseLink(n);return Ae(r,"argument-error"),ra._fromEmailAndCode(t,r.code,r.tenantId)}}Ki.PROVIDER_ID="password";Ki.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ki.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Kw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Sa{constructor(){super("facebook.com")}static credential(t){return $s._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Sa{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return $s._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Sa{constructor(){super("github.com")}static credential(t){return $s._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $r.credential(t.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Sa{constructor(){super("twitter.com")}static credential(t,n){return $s._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(e,t){return Ta(e,"POST","/v1/accounts:signUp",cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await ir._fromIdTokenResponse(t,r,s),o=yp(r);return new js({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=yp(r);return new js({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function yp(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends wr{constructor(t,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Jl.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new Jl(t,n,r,s)}}function Gw(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Jl._fromErrorAndOperation(e,i,t,r):i})}async function eD(e,t,n=!1){const r=await Di(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return js._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(e,t,n=!1){const{auth:r}=e;if($n(r.app))return Promise.reject(cr(r));const s="reauthenticate";try{const i=await Di(e,Gw(r,s,t,e),n);Ae(i.idToken,r,"internal-error");const o=Ph(i.idToken);Ae(o,r,"internal-error");const{sub:a}=o;return Ae(e.uid===a,r,"user-mismatch"),js._forOperation(e,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Dn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(e,t,n=!1){if($n(e.app))return Promise.reject(cr(e));const r="signIn",s=await Gw(e,r,t),i=await js._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function nD(e,t){return Yw(Gs(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(e){const t=Gs(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rD(e,t,n){if($n(e.app))return Promise.reject(cr(e));const r=Gs(e),o=await Md(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZO).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Qw(e),u}),a=await js._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function sD(e,t,n){return $n(e.app)?Promise.reject(cr(e)):nD(jt(e),Ki.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Qw(e),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(e,t){return Ir(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=jt(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await Di(r,iD(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function aD(e,t,n,r){return jt(e).onIdTokenChanged(t,n,r)}function lD(e,t,n){return jt(e).beforeAuthStateChanged(t,n)}function uD(e,t,n,r){return jt(e).onAuthStateChanged(t,n,r)}function cD(e){return jt(e).signOut()}async function dD(e){return jt(e).delete()}const Zl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zl,"1"),this.storage.removeItem(Zl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=1e3,hD=10;class Jw extends Xw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);RO()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,hD):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},fD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Jw.type="LOCAL";const mD=Jw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Xw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Zw.type="SESSION";const e0=Zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new Uu(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await gD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=Oh("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const g=f;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return window}function pD(e){qn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(){return typeof qn().WorkerGlobalScope<"u"&&typeof qn().importScripts=="function"}async function yD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _D(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function bD(){return t0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="firebaseLocalStorageDb",ED=1,eu="firebaseLocalStorage",r0="fbase_key";class Aa{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $u(e,t){return e.transaction([eu],t?"readwrite":"readonly").objectStore(eu)}function wD(){const e=indexedDB.deleteDatabase(n0);return new Aa(e).toPromise()}function Fd(){const e=indexedDB.open(n0,ED);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(eu,{keyPath:r0})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(eu)?t(r):(r.close(),await wD(),t(await Fd()))})})}async function _p(e,t,n){const r=$u(e,!0).put({[r0]:t,value:n});return new Aa(r).toPromise()}async function ID(e,t){const n=$u(e,!1).get(t),r=await new Aa(n).toPromise();return r===void 0?null:r.value}function bp(e,t){const n=$u(e,!0).delete(t);return new Aa(n).toPromise()}const TD=800,SD=3;class s0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>SD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uu._getInstance(bD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await yD(),!this.activeServiceWorker)return;this.sender=new vD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_D()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fd();return await _p(t,Zl,"1"),await bp(t,Zl),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_p(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>ID(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>bp(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=$u(s,!1).getAll();return new Aa(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s0.type="LOCAL";const AD=s0;new Ia(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(e,t){return t?or(t):(Ae(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends xh{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return _i(t,this._buildIdpRequest())}_linkToIdToken(t,n){return _i(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return _i(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function RD(e){return Yw(e.auth,new Dh(e),e.bypassAuthState)}function PD(e){const{auth:t,user:n}=e;return Ae(n,t,"internal-error"),tD(n,new Dh(e),e.bypassAuthState)}async function kD(e){const{auth:t,user:n}=e;return Ae(n,t,"internal-error"),eD(n,new Dh(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return RD;case"linkViaPopup":case"linkViaRedirect":return kD;case"reauthViaPopup":case"reauthViaRedirect":return PD;default:Dn(this.auth,"internal-error")}}resolve(t){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new Ia(2e3,1e4);class fi extends i0{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,fi.currentPopupAction&&fi.currentPopupAction.cancel(),fi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ae(t,this.auth,"internal-error"),t}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const t=Oh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xD.get())};t()}}fi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="pendingRedirect",_l=new Map;class OD extends i0{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=_l.get(this.auth._key());if(!t){try{const r=await DD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}_l.set(this.auth._key(),t)}return this.bypassAuthState||_l.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DD(e,t){const n=MD(t),r=LD(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function ND(e,t){_l.set(e._key(),t)}function LD(e){return or(e._redirectPersistence)}function MD(e){return yl(VD,e.config.apiKey,e.name)}async function FD(e,t,n=!1){if($n(e.app))return Promise.reject(cr(e));const r=Gs(e),s=CD(r,t),o=await new OD(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=10*60*1e3;class UD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$D(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!o0(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=BD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ep(t))}saveEventToCache(t){this.cachedEventUids.add(Ep(t)),this.lastProcessedEventTime=Date.now()}}function Ep(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function o0({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function $D(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o0(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(e,t={}){return Ir(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zD=/^https?/;async function qD(e){if(e.config.emulator)return;const{authorizedDomains:t}=await jD(e);for(const n of t)try{if(WD(n))return}catch{}Dn(e,"unauthorized-domain")}function WD(e){const t=Nd(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zD.test(n))return!1;if(HD.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new Ia(3e4,6e4);function wp(){const e=qn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function GD(e){return new Promise((t,n)=>{var r,s,i;function o(){wp(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wp(),n(zn(e,"network-request-failed"))},timeout:KD.get()})}if(!((s=(r=qn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=qn().gapi)===null||i===void 0)&&i.load)o();else{const a=MO("iframefcb");return qn()[a]=()=>{gapi.load?o():n(zn(e,"network-request-failed"))},qw(`${LO()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw bl=null,t})}let bl=null;function YD(e){return bl=bl||GD(e),bl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new Ia(5e3,15e3),XD="__/auth/iframe",JD="emulator/auth/iframe",ZD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tN(e){const t=e.config;Ae(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Rh(t,JD):`https://${e.config.authDomain}/${XD}`,r={apiKey:t.apiKey,appName:e.name,v:$i},s=eN.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ga(r).slice(1)}`}async function nN(e){const t=await YD(e),n=qn().gapi;return Ae(n,e,"internal-error"),t.open({where:document.body,url:tN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZD,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=zn(e,"network-request-failed"),a=qn().setTimeout(()=>{i(o)},QD.get());function u(){qn().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sN=500,iN=600,oN="_blank",aN="http://localhost";class Ip{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lN(e,t,n,r=sN,s=iN){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},rN),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Xt().toLowerCase();n&&(a=Fw(c)?oN:n),Lw(c)&&(t=t||aN,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[m,p])=>`${g}${m}=${p},`,"");if(CO(c)&&a!=="_self")return uN(t||"",a),new Ip(null);const f=window.open(t||"",a,d);Ae(f,e,"popup-blocked");try{f.focus()}catch{}return new Ip(f)}function uN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="__/auth/handler",dN="emulator/auth/handler",fN=encodeURIComponent("fac");async function Tp(e,t,n,r,s,i){Ae(e.config.authDomain,e,"auth-domain-config-required"),Ae(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$i,eventId:s};if(t instanceof Kw){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",$P(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(t instanceof Sa){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await e._getAppCheckToken(),c=u?`#${fN}=${encodeURIComponent(u)}`:"";return`${hN(e)}?${ga(a).slice(1)}${c}`}function hN({config:e}){return e.emulator?Rh(e,dN):`https://${e.authDomain}/${cN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc="webStorageSupport";class mN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e0,this._completeRedirectFn=FD,this._overrideRedirectResult=ND}async _openPopup(t,n,r,s){var i;pr((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Tp(t,n,r,Nd(),s);return lN(t,o,Oh())}async _openRedirect(t,n,r,s){await this._originValidation(t);const i=await Tp(t,n,r,Nd(),s);return pD(i),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(pr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await nN(t),r=new UD(t);return n.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Bc,{type:Bc},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Bc];o!==void 0&&n(!!o),Dn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hw()||Mw()||kh()}}const gN=mN;var Sp="@firebase/auth",Ap="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yN(e){Ai(new Ls("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zw(e)},c=new OO(r,s,i,u);return jO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ai(new Ls("auth-internal",t=>{const n=Gs(t.getProvider("auth").getImmediate());return(r=>new vN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(Sp,Ap,pN(e)),Qr(Sp,Ap,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=5*60,bN=Wb("authIdTokenMaxAge")||_N;let Cp=null;const EN=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bN)return;const s=n==null?void 0:n.token;Cp!==s&&(Cp=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function wN(e=Qb()){const t=Kf(e,"auth");if(t.isInitialized())return t.getImmediate();const n=$O(e,{popupRedirectResolver:gN,persistence:[AD,mD,e0]}),r=Wb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=EN(i.toString());lD(n,o,()=>o(n.currentUser)),aD(n,a=>o(a))}}const s=zb("auth");return s&&HO(n,`http://${s}`),n}function IN(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}DO({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=zn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",IN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yN("Browser");const TN=JSON.parse('{"apiKey":"AIzaSyArPEsoj-IkOVQk986KXNAsPvoJnt7UWO4","authDomain":"sportseventsapp-44028.firebaseapp.com","projectId":"sportseventsapp-44028","storageBucket":"sportseventsapp-44028.appspot.com","messagingSenderId":"37940906405","appId":"1:37940906405:web:c3017670e54fb6d33dc04c"}'),a0=Yb(TN),si=wN(a0),sa=UV(a0);Dd(sa,"users"),Dd(sa,"basketballEvents");async function l0(e,t){try{const n=hw(sa,e,t),r=await rO(n);return r.exists()?r.data():(console.log("Документ не найден!"),null)}catch(n){throw console.error("Ошибка при получении данных по ID. ",n),n}}async function Bd(e,t,n){try{const r=hw(sa,e,t);await iO(r,n)}catch(r){throw console.error("Ошибка при сохранении данных. ",r),r}}var SN=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let u0;const ju=e=>u0=e,c0=Symbol();function Ud(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Oo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Oo||(Oo={}));function AN(){const e=ua(!0),t=e.run(()=>Z({}));let n=[],r=[];const s=iu({install(i){ju(s),s._a=i,i.provide(c0,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!SN?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const d0=()=>{};function Rp(e,t,n,r=d0){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&cy()&&Tn(s),s}function ii(e,...t){e.slice().forEach(n=>{n(...t)})}const CN=e=>e(),Pp=Symbol(),Uc=Symbol();function $d(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];Ud(s)&&Ud(r)&&e.hasOwnProperty(n)&&!Xe(r)&&!As(r)?e[n]=$d(s,r):e[n]=r}return e}const RN=Symbol();function PN(e){return!Ud(e)||!e.hasOwnProperty(RN)}const{assign:Or}=Object;function kN(e){return!!(Xe(e)&&e.effect)}function xN(e,t,n,r){const{state:s,actions:i,getters:o}=t,a=n.state.value[e];let u;function c(){a||(n.state.value[e]=s?s():{});const d=ou(n.state.value[e]);return Or(d,i,Object.keys(o||{}).reduce((f,g)=>(f[g]=iu(k(()=>{ju(n);const m=n._s.get(e);return o[g].call(m,m)})),f),{}))}return u=f0(e,c,t,n,r,!0),u}function f0(e,t,n={},r,s,i){let o;const a=Or({actions:{}},n),u={deep:!0};let c,d,f=[],g=[],m;const p=r.state.value[e];!i&&!p&&(r.state.value[e]={}),Z({});let _;function T(y){let b;c=d=!1,typeof y=="function"?(y(r.state.value[e]),b={type:Oo.patchFunction,storeId:e,events:m}):($d(r.state.value[e],y),b={type:Oo.patchObject,payload:y,storeId:e,events:m});const C=_=Symbol();Nt().then(()=>{_===C&&(c=!0)}),d=!0,ii(f,b,r.state.value[e])}const x=i?function(){const{state:b}=n,C=b?b():{};this.$patch(R=>{Or(R,C)})}:d0;function O(){o.stop(),f=[],g=[],r._s.delete(e)}const N=(y,b="")=>{if(Pp in y)return y[Uc]=b,y;const C=function(){ju(r);const R=Array.from(arguments),I=[],w=[];function z(se){I.push(se)}function ce(se){w.push(se)}ii(g,{args:R,name:C[Uc],store:L,after:z,onError:ce});let de;try{de=y.apply(this&&this.$id===e?this:L,R)}catch(se){throw ii(w,se),se}return de instanceof Promise?de.then(se=>(ii(I,se),se)).catch(se=>(ii(w,se),Promise.reject(se))):(ii(I,de),de)};return C[Pp]=!0,C[Uc]=b,C},M={_p:r,$id:e,$onAction:Rp.bind(null,g),$patch:T,$reset:x,$subscribe(y,b={}){const C=Rp(f,y,b.detached,()=>R()),R=o.run(()=>Te(()=>r.state.value[e],I=>{(b.flush==="sync"?d:c)&&y({storeId:e,type:Oo.direct,events:m},I)},Or({},u,b)));return C},$dispose:O},L=Bt(M);r._s.set(e,L);const A=(r._a&&r._a.runWithContext||CN)(()=>r._e.run(()=>(o=ua()).run(()=>t({action:N}))));for(const y in A){const b=A[y];if(Xe(b)&&!kN(b)||As(b))i||(p&&PN(b)&&(Xe(b)?b.value=p[y]:$d(b,p[y])),r.state.value[e][y]=b);else if(typeof b=="function"){const C=N(b,y);A[y]=C,a.actions[y]=b}}return Or(L,A),Or(_e(L),A),Object.defineProperty(L,"$state",{get:()=>r.state.value[e],set:y=>{T(b=>{Or(b,y)})}}),r._p.forEach(y=>{Or(L,o.run(()=>y({store:L,app:r._a,pinia:r,options:a})))}),p&&i&&n.hydrate&&n.hydrate(L.$state,p),c=!0,d=!0,L}function h0(e,t,n){let r,s;const i=typeof t=="function";typeof e=="string"?(r=e,s=i?n:t):(s=e,r=e.id);function o(a,u){const c=kT();return a=a||(c?qe(c0,null):null),a&&ju(a),a=u0,a._s.has(r)||(i?f0(r,t,s,a):xN(r,s,a)),a._s.get(r)}return o.$id=r,o}/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ui=typeof document<"u";function VN(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const et=Object.assign;function $c(e,t){const n={};for(const r in t){const s=t[r];n[r]=Nn(s)?s.map(e):e(s)}return n}const Do=()=>{},Nn=Array.isArray,m0=/#/g,ON=/&/g,DN=/\//g,NN=/=/g,LN=/\?/g,g0=/\+/g,MN=/%5B/g,FN=/%5D/g,v0=/%5E/g,BN=/%60/g,p0=/%7B/g,UN=/%7C/g,y0=/%7D/g,$N=/%20/g;function Nh(e){return encodeURI(""+e).replace(UN,"|").replace(MN,"[").replace(FN,"]")}function jN(e){return Nh(e).replace(p0,"{").replace(y0,"}").replace(v0,"^")}function jd(e){return Nh(e).replace(g0,"%2B").replace($N,"+").replace(m0,"%23").replace(ON,"%26").replace(BN,"`").replace(p0,"{").replace(y0,"}").replace(v0,"^")}function HN(e){return jd(e).replace(NN,"%3D")}function zN(e){return Nh(e).replace(m0,"%23").replace(LN,"%3F")}function qN(e){return e==null?"":zN(e).replace(DN,"%2F")}function ia(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const WN=/\/$/,KN=e=>e.replace(WN,"");function jc(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let u=t.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(r=t.slice(0,u),i=t.slice(u+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=XN(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:ia(o)}}function GN(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function kp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function YN(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Ni(t.matched[r],n.matched[s])&&_0(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ni(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function _0(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!QN(e[n],t[n]))return!1;return!0}function QN(e,t){return Nn(e)?xp(e,t):Nn(t)?xp(t,e):e===t}function xp(e,t){return Nn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function XN(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const xr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var oa;(function(e){e.pop="pop",e.push="push"})(oa||(oa={}));var No;(function(e){e.back="back",e.forward="forward",e.unknown=""})(No||(No={}));function JN(e){if(!e)if(ui){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),KN(e)}const ZN=/^[^#]+#/;function eL(e,t){return e.replace(ZN,"#")+t}function tL(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Hu=()=>({left:window.scrollX,top:window.scrollY});function nL(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=tL(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Vp(e,t){return(history.state?history.state.position-t:-1)+e}const Hd=new Map;function rL(e,t){Hd.set(e,t)}function sL(e){const t=Hd.get(e);return Hd.delete(e),t}let iL=()=>location.protocol+"//"+location.host;function b0(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,u=s.slice(a);return u[0]!=="/"&&(u="/"+u),kp(u,"")}return kp(n,e)+r+s}function oL(e,t,n,r){let s=[],i=[],o=null;const a=({state:g})=>{const m=b0(e,location),p=n.value,_=t.value;let T=0;if(g){if(n.value=m,t.value=g,o&&o===p){o=null;return}T=_?g.position-_.position:0}else r(m);s.forEach(x=>{x(n.value,p,{delta:T,type:oa.pop,direction:T?T>0?No.forward:No.back:No.unknown})})};function u(){o=n.value}function c(g){s.push(g);const m=()=>{const p=s.indexOf(g);p>-1&&s.splice(p,1)};return i.push(m),m}function d(){const{history:g}=window;g.state&&g.replaceState(et({},g.state,{scroll:Hu()}),"")}function f(){for(const g of i)g();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:c,destroy:f}}function Op(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Hu():null}}function aL(e){const{history:t,location:n}=window,r={value:b0(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,c,d){const f=e.indexOf("#"),g=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+u:iL()+e+u;try{t[d?"replaceState":"pushState"](c,"",g),s.value=c}catch(m){console.error(m),n[d?"replace":"assign"](g)}}function o(u,c){const d=et({},t.state,Op(s.value.back,u,s.value.forward,!0),c,{position:s.value.position});i(u,d,!0),r.value=u}function a(u,c){const d=et({},s.value,t.state,{forward:u,scroll:Hu()});i(d.current,d,!0);const f=et({},Op(r.value,u,null),{position:d.position+1},c);i(u,f,!1),r.value=u}return{location:r,state:s,push:a,replace:o}}function lL(e){e=JN(e);const t=aL(e),n=oL(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=et({location:"",base:e,go:r,createHref:eL.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function uL(e){return typeof e=="string"||e&&typeof e=="object"}function E0(e){return typeof e=="string"||typeof e=="symbol"}const w0=Symbol("");var Dp;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Dp||(Dp={}));function Li(e,t){return et(new Error,{type:e,[w0]:!0},t)}function er(e,t){return e instanceof Error&&w0 in e&&(t==null||!!(e.type&t))}const Np="[^/]+?",cL={sensitive:!1,strict:!1,start:!0,end:!0},dL=/[.+*?^${}()[\]/\\]/g;function fL(e,t){const n=et({},cL,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const d=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let f=0;f<c.length;f++){const g=c[f];let m=40+(n.sensitive?.25:0);if(g.type===0)f||(s+="/"),s+=g.value.replace(dL,"\\$&"),m+=40;else if(g.type===1){const{value:p,repeatable:_,optional:T,regexp:x}=g;i.push({name:p,repeatable:_,optional:T});const O=x||Np;if(O!==Np){m+=10;try{new RegExp(`(${O})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${p}" (${O}): `+M.message)}}let N=_?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;f||(N=T&&c.length<2?`(?:/${N})`:"/"+N),T&&(N+="?"),s+=N,m+=20,T&&(m+=-8),_&&(m+=-20),O===".*"&&(m+=-50)}d.push(m)}r.push(d)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const d=c.match(o),f={};if(!d)return null;for(let g=1;g<d.length;g++){const m=d[g]||"",p=i[g-1];f[p.name]=m&&p.repeatable?m.split("/"):m}return f}function u(c){let d="",f=!1;for(const g of e){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const m of g)if(m.type===0)d+=m.value;else if(m.type===1){const{value:p,repeatable:_,optional:T}=m,x=p in c?c[p]:"";if(Nn(x)&&!_)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const O=Nn(x)?x.join("/"):x;if(!O)if(T)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);d+=O}}return d||"/"}return{re:o,score:r,keys:i,parse:a,stringify:u}}function hL(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function I0(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=hL(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Lp(r))return 1;if(Lp(s))return-1}return s.length-r.length}function Lp(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const mL={type:0,value:""},gL=/[a-zA-Z0-9_]/;function vL(e){if(!e)return[[]];if(e==="/")return[[mL]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,u,c="",d="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),c="")}function g(){c+=u}for(;a<e.length;){if(u=e[a++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(c&&f(),o()):u===":"?(f(),n=1):g();break;case 4:g(),n=r;break;case 1:u==="("?n=2:gL.test(u)?g():(f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),s}function pL(e,t,n){const r=fL(vL(e.path),n),s=et(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function yL(e,t){const n=[],r=new Map;t=Bp({strict:!1,end:!0,sensitive:!1},t);function s(f){return r.get(f)}function i(f,g,m){const p=!m,_=_L(f);_.aliasOf=m&&m.record;const T=Bp(t,f),x=[_];if("alias"in f){const M=typeof f.alias=="string"?[f.alias]:f.alias;for(const L of M)x.push(et({},_,{components:m?m.record.components:_.components,path:L,aliasOf:m?m.record:_}))}let O,N;for(const M of x){const{path:L}=M;if(g&&L[0]!=="/"){const D=g.record.path,A=D[D.length-1]==="/"?"":"/";M.path=g.record.path+(L&&A+L)}if(O=pL(M,g,T),m?m.alias.push(O):(N=N||O,N!==O&&N.alias.push(O),p&&f.name&&!Fp(O)&&o(f.name)),T0(O)&&u(O),_.children){const D=_.children;for(let A=0;A<D.length;A++)i(D[A],O,m&&m.children[A])}m=m||O}return N?()=>{o(N)}:Do}function o(f){if(E0(f)){const g=r.get(f);g&&(r.delete(f),n.splice(n.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=n.indexOf(f);g>-1&&(n.splice(g,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function u(f){const g=wL(f,n);n.splice(g,0,f),f.record.name&&!Fp(f)&&r.set(f.record.name,f)}function c(f,g){let m,p={},_,T;if("name"in f&&f.name){if(m=r.get(f.name),!m)throw Li(1,{location:f});T=m.record.name,p=et(Mp(g.params,m.keys.filter(N=>!N.optional).concat(m.parent?m.parent.keys.filter(N=>N.optional):[]).map(N=>N.name)),f.params&&Mp(f.params,m.keys.map(N=>N.name))),_=m.stringify(p)}else if(f.path!=null)_=f.path,m=n.find(N=>N.re.test(_)),m&&(p=m.parse(_),T=m.record.name);else{if(m=g.name?r.get(g.name):n.find(N=>N.re.test(g.path)),!m)throw Li(1,{location:f,currentLocation:g});T=m.record.name,p=et({},g.params,f.params),_=m.stringify(p)}const x=[];let O=m;for(;O;)x.unshift(O.record),O=O.parent;return{name:T,path:_,params:p,matched:x,meta:EL(x)}}e.forEach(f=>i(f));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:s}}function Mp(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function _L(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:bL(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function bL(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Fp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function EL(e){return e.reduce((t,n)=>et(t,n.meta),{})}function Bp(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function wL(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;I0(e,t[i])<0?r=i:n=i+1}const s=IL(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function IL(e){let t=e;for(;t=t.parent;)if(T0(t)&&I0(e,t)===0)return t}function T0({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function TL(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(g0," "),o=i.indexOf("="),a=ia(o<0?i:i.slice(0,o)),u=o<0?null:ia(i.slice(o+1));if(a in t){let c=t[a];Nn(c)||(c=t[a]=[c]),c.push(u)}else t[a]=u}return t}function Up(e){let t="";for(let n in e){const r=e[n];if(n=HN(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Nn(r)?r.map(i=>i&&jd(i)):[r&&jd(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function SL(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Nn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const AL=Symbol(""),$p=Symbol(""),zu=Symbol(""),Lh=Symbol(""),zd=Symbol("");function mo(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Mr(e,t,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,u)=>{const c=g=>{g===!1?u(Li(4,{from:n,to:t})):g instanceof Error?u(g):uL(g)?u(Li(2,{from:t,to:g})):(o&&r.enterCallbacks[s]===o&&typeof g=="function"&&o.push(g),a())},d=i(()=>e.call(r&&r.instances[s],t,n,c));let f=Promise.resolve(d);e.length<3&&(f=f.then(c)),f.catch(g=>u(g))})}function Hc(e,t,n,r,s=i=>i()){const i=[];for(const o of e)for(const a in o.components){let u=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(CL(u)){const d=(u.__vccOpts||u)[t];d&&i.push(Mr(d,n,r,o,a,s))}else{let c=u();i.push(()=>c.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const f=VN(d)?d.default:d;o.components[a]=f;const m=(f.__vccOpts||f)[t];return m&&Mr(m,n,r,o,a,s)()}))}}return i}function CL(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function jp(e){const t=qe(zu),n=qe(Lh),r=k(()=>{const u=le(e.to);return t.resolve(u)}),s=k(()=>{const{matched:u}=r.value,{length:c}=u,d=u[c-1],f=n.matched;if(!d||!f.length)return-1;const g=f.findIndex(Ni.bind(null,d));if(g>-1)return g;const m=Hp(u[c-2]);return c>1&&Hp(d)===m&&f[f.length-1].path!==m?f.findIndex(Ni.bind(null,u[c-2])):g}),i=k(()=>s.value>-1&&xL(n.params,r.value.params)),o=k(()=>s.value>-1&&s.value===n.matched.length-1&&_0(n.params,r.value.params));function a(u={}){return kL(u)?t[le(e.replace)?"replace":"push"](le(e.to)).catch(Do):Promise.resolve()}return{route:r,href:k(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const RL=cf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:jp,setup(e,{slots:t}){const n=Bt(jp(e)),{options:r}=qe(zu),s=k(()=>({[zp(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[zp(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Gn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),PL=RL;function kL(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function xL(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Nn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Hp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const zp=(e,t,n)=>e??t??n,VL=cf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=qe(zd),s=k(()=>e.route||r.value),i=qe($p,0),o=k(()=>{let c=le(i);const{matched:d}=s.value;let f;for(;(f=d[c])&&!f.components;)c++;return c}),a=k(()=>s.value.matched[o.value]);wt($p,k(()=>o.value+1)),wt(AL,a),wt(zd,s);const u=Z();return Te(()=>[u.value,a.value,e.name],([c,d,f],[g,m,p])=>{d&&(d.instances[f]=c,m&&m!==d&&c&&c===g&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),c&&d&&(!m||!Ni(d,m)||!g)&&(d.enterCallbacks[f]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=s.value,d=e.name,f=a.value,g=f&&f.components[d];if(!g)return qp(n.default,{Component:g,route:c});const m=f.props[d],p=m?m===!0?c.params:typeof m=="function"?m(c):m:null,T=Gn(g,et({},p,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(f.instances[d]=null)},ref:u}));return qp(n.default,{Component:T,route:c})||T}}});function qp(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const OL=VL;function DL(e){const t=yL(e.routes,e),n=e.parseQuery||TL,r=e.stringifyQuery||Up,s=e.history,i=mo(),o=mo(),a=mo(),u=Ce(xr);let c=xr;ui&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=$c.bind(null,U=>""+U),f=$c.bind(null,qN),g=$c.bind(null,ia);function m(U,X){let Y,he;return E0(U)?(Y=t.getRecordMatcher(U),he=X):he=U,t.addRoute(he,Y)}function p(U){const X=t.getRecordMatcher(U);X&&t.removeRoute(X)}function _(){return t.getRoutes().map(U=>U.record)}function T(U){return!!t.getRecordMatcher(U)}function x(U,X){if(X=et({},X||u.value),typeof U=="string"){const V=jc(n,U,X.path),B=t.resolve({path:V.path},X),q=s.createHref(V.fullPath);return et(V,B,{params:g(B.params),hash:ia(V.hash),redirectedFrom:void 0,href:q})}let Y;if(U.path!=null)Y=et({},U,{path:jc(n,U.path,X.path).path});else{const V=et({},U.params);for(const B in V)V[B]==null&&delete V[B];Y=et({},U,{params:f(V)}),X.params=f(X.params)}const he=t.resolve(Y,X),He=U.hash||"";he.params=d(g(he.params));const tt=GN(r,et({},U,{hash:jN(He),path:he.path})),P=s.createHref(tt);return et({fullPath:tt,hash:He,query:r===Up?SL(U.query):U.query||{}},he,{redirectedFrom:void 0,href:P})}function O(U){return typeof U=="string"?jc(n,U,u.value.path):et({},U)}function N(U,X){if(c!==U)return Li(8,{from:X,to:U})}function M(U){return A(U)}function L(U){return M(et(O(U),{replace:!0}))}function D(U){const X=U.matched[U.matched.length-1];if(X&&X.redirect){const{redirect:Y}=X;let he=typeof Y=="function"?Y(U):Y;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=O(he):{path:he},he.params={}),et({query:U.query,hash:U.hash,params:he.path!=null?{}:U.params},he)}}function A(U,X){const Y=c=x(U),he=u.value,He=U.state,tt=U.force,P=U.replace===!0,V=D(Y);if(V)return A(et(O(V),{state:typeof V=="object"?et({},He,V.state):He,force:tt,replace:P}),X||Y);const B=Y;B.redirectedFrom=X;let q;return!tt&&YN(r,he,Y)&&(q=Li(16,{to:B,from:he}),G(he,he,!0,!1)),(q?Promise.resolve(q):C(B,he)).catch(j=>er(j)?er(j,2)?j:ae(j):oe(j,B,he)).then(j=>{if(j){if(er(j,2))return A(et({replace:P},O(j.to),{state:typeof j.to=="object"?et({},He,j.to.state):He,force:tt}),X||B)}else j=I(B,he,!0,P,He);return R(B,he,j),j})}function y(U,X){const Y=N(U,X);return Y?Promise.reject(Y):Promise.resolve()}function b(U){const X=ht.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(U):U()}function C(U,X){let Y;const[he,He,tt]=NL(U,X);Y=Hc(he.reverse(),"beforeRouteLeave",U,X);for(const V of he)V.leaveGuards.forEach(B=>{Y.push(Mr(B,U,X))});const P=y.bind(null,U,X);return Y.push(P),Pe(Y).then(()=>{Y=[];for(const V of i.list())Y.push(Mr(V,U,X));return Y.push(P),Pe(Y)}).then(()=>{Y=Hc(He,"beforeRouteUpdate",U,X);for(const V of He)V.updateGuards.forEach(B=>{Y.push(Mr(B,U,X))});return Y.push(P),Pe(Y)}).then(()=>{Y=[];for(const V of tt)if(V.beforeEnter)if(Nn(V.beforeEnter))for(const B of V.beforeEnter)Y.push(Mr(B,U,X));else Y.push(Mr(V.beforeEnter,U,X));return Y.push(P),Pe(Y)}).then(()=>(U.matched.forEach(V=>V.enterCallbacks={}),Y=Hc(tt,"beforeRouteEnter",U,X,b),Y.push(P),Pe(Y))).then(()=>{Y=[];for(const V of o.list())Y.push(Mr(V,U,X));return Y.push(P),Pe(Y)}).catch(V=>er(V,8)?V:Promise.reject(V))}function R(U,X,Y){a.list().forEach(he=>b(()=>he(U,X,Y)))}function I(U,X,Y,he,He){const tt=N(U,X);if(tt)return tt;const P=X===xr,V=ui?history.state:{};Y&&(he||P?s.replace(U.fullPath,et({scroll:P&&V&&V.scroll},He)):s.push(U.fullPath,He)),u.value=U,G(U,X,Y,P),ae()}let w;function z(){w||(w=s.listen((U,X,Y)=>{if(!ct.listening)return;const he=x(U),He=D(he);if(He){A(et(He,{replace:!0}),he).catch(Do);return}c=he;const tt=u.value;ui&&rL(Vp(tt.fullPath,Y.delta),Hu()),C(he,tt).catch(P=>er(P,12)?P:er(P,2)?(A(P.to,he).then(V=>{er(V,20)&&!Y.delta&&Y.type===oa.pop&&s.go(-1,!1)}).catch(Do),Promise.reject()):(Y.delta&&s.go(-Y.delta,!1),oe(P,he,tt))).then(P=>{P=P||I(he,tt,!1),P&&(Y.delta&&!er(P,8)?s.go(-Y.delta,!1):Y.type===oa.pop&&er(P,20)&&s.go(-1,!1)),R(he,tt,P)}).catch(Do)}))}let ce=mo(),de=mo(),se;function oe(U,X,Y){ae(U);const he=de.list();return he.length?he.forEach(He=>He(U,X,Y)):console.error(U),Promise.reject(U)}function Be(){return se&&u.value!==xr?Promise.resolve():new Promise((U,X)=>{ce.add([U,X])})}function ae(U){return se||(se=!U,z(),ce.list().forEach(([X,Y])=>U?Y(U):X()),ce.reset()),U}function G(U,X,Y,he){const{scrollBehavior:He}=e;if(!ui||!He)return Promise.resolve();const tt=!Y&&sL(Vp(U.fullPath,0))||(he||!Y)&&history.state&&history.state.scroll||null;return Nt().then(()=>He(U,X,tt)).then(P=>P&&nL(P)).catch(P=>oe(P,U,X))}const fe=U=>s.go(U);let Le;const ht=new Set,ct={currentRoute:u,listening:!0,addRoute:m,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:T,getRoutes:_,resolve:x,options:e,push:M,replace:L,go:fe,back:()=>fe(-1),forward:()=>fe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:de.add,isReady:Be,install(U){const X=this;U.component("RouterLink",PL),U.component("RouterView",OL),U.config.globalProperties.$router=X,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>le(u)}),ui&&!Le&&u.value===xr&&(Le=!0,M(s.location).catch(He=>{}));const Y={};for(const He in xr)Object.defineProperty(Y,He,{get:()=>u.value[He],enumerable:!0});U.provide(zu,X),U.provide(Lh,wy(Y)),U.provide(zd,u);const he=U.unmount;ht.add(U),U.unmount=function(){ht.delete(U),ht.size<1&&(c=xr,w&&w(),w=null,u.value=xr,Le=!1,se=!1),he()}}};function Pe(U){return U.reduce((X,Y)=>X.then(()=>b(Y)),Promise.resolve())}return ct}function NL(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>Ni(c,a))?r.push(a):n.push(a));const u=e.matched[o];u&&(t.matched.find(c=>Ni(c,u))||s.push(u))}return[n,r,s]}function Ca(){return qe(zu)}function qu(e){return qe(Lh)}const Ys=h0("userStore",()=>{const e=Z(null),t=Z(""),n=Z(!1),r=Z(!1),s=Ca();uD(si,async m=>{if(m){r.value=!0;const p=si.currentUser.uid;e.value=await c(p)}else r.value=!1,e.value=null;n.value=!0});async function i(m,p){try{await sD(si,m,p),t.value="You Logged In!"}catch(_){_.code==="auth/invalid-credential"?t.value="Invalid Credentials.":t.value="Login Error"}}async function o(m,p,_="NoName"){try{const{user:T}=await rD(si,m,p);if(t.value="You have successfully registered !",T){const x={name:_,email:T.email,uid:T.uid,favoriteEvents:[],bookedEvents:[]};u(x),oD(T,{displayName:_})}}catch(T){T.code==="auth/email-already-in-use"?t.value="This Email Is Already In Use.":t.value="An unexpected error. Please try again later."}}const a=async()=>{try{await cD(si),e.value=null,t.value=""}catch{t.value="LogOut Error - try later"}},u=async m=>{try{await Bd("users",m.uid,m),e.value=m}catch{dD(si.currentUser),t.value="Error writing to database. Try again later."}};async function c(m){return await l0("users",m)}const d=m=>t.value=m;function f(m){if(!r.value)return;const p=e.value.favoriteEvents.indexOf(m);p===-1?e.value.favoriteEvents.push(m):e.value.favoriteEvents.splice(p,1)}function g(m,p){var T;const _=(T=e==null?void 0:e.value.bookedEvents)==null?void 0:T.findIndex(x=>x.eventID===m);p.bookedSeats.length===0?_!==-1&&e.value.bookedEvents.splice(_,1):_!==-1?e.value.bookedEvents[_]=p:e.value.bookedEvents.push(p)}return Te(e,(m,p)=>{p!==null&&m&&r.value&&Bd("users",m.uid,m)},{deep:!0}),Te(r,m=>{m||s.currentRoute.value.meta.requiresAuth&&s.push({name:"home"})}),{currentUser:e,authResultMessage:t,isAuthReady:n,isLoggedIn:r,login:i,signup:o,logout:a,setAuthResult:d,toggleFavorite:f,setUserBookedEvent:g}}),Mh=Symbol.for("vuetify:v-tabs"),LL=J({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Mi(db({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),S0=be()({name:"VTab",props:LL(),setup(e,t){let{slots:n,attrs:r}=t;const{textColorClasses:s,textColorStyles:i}=hr(e,"sliderColor"),o=Z(),a=Z(),u=k(()=>e.direction==="horizontal"),c=k(()=>{var f,g;return((g=(f=o.value)==null?void 0:f.group)==null?void 0:g.isSelected.value)??!1});function d(f){var m,p;let{value:g}=f;if(g){const _=(p=(m=o.value)==null?void 0:m.$el.parentElement)==null?void 0:p.querySelector(".v-tab--selected .v-tab__slider"),T=a.value;if(!_||!T)return;const x=getComputedStyle(_).color,O=_.getBoundingClientRect(),N=T.getBoundingClientRect(),M=u.value?"x":"y",L=u.value?"X":"Y",D=u.value?"right":"bottom",A=u.value?"width":"height",y=O[M],b=N[M],C=y>b?O[D]-N[D]:O[M]-N[M],R=Math.sign(C)>0?u.value?"right":"bottom":Math.sign(C)<0?u.value?"left":"top":"center",w=(Math.abs(C)+(Math.sign(C)<0?O[A]:N[A]))/Math.max(O[A],N[A])||0,z=O[A]/N[A]||0,ce=1.5;ws(T,{backgroundColor:[x,"currentcolor"],transform:[`translate${L}(${C}px) scale${L}(${z})`,`translate${L}(${C/ce}px) scale${L}(${(w-1)/ce+1})`,"none"],transformOrigin:Array(3).fill(R)},{duration:225,easing:qo})}}return Re(()=>{const f=ft.filterProps(e);return E(ft,Me({symbol:Mh,ref:o,class:["v-tab",e.class],style:e.style,tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1},f,r,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":d}),{...n,default:()=>{var g;return E(Ue,null,[((g=n.default)==null?void 0:g.call(n))??e.text,!e.hideSlider&&E("div",{ref:a,class:["v-tab__slider",s.value],style:i.value},null)])}})}),Ui({},o)}}),ML=e=>{const{touchstartX:t,touchendX:n,touchstartY:r,touchendY:s}=e,i=.5,o=16;e.offsetX=n-t,e.offsetY=s-r,Math.abs(e.offsetY)<i*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<i*Math.abs(e.offsetY)&&(e.up&&s<r-o&&e.up(e),e.down&&s>r+o&&e.down(e))};function FL(e,t){var r;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(r=t.start)==null||r.call(t,{originalEvent:e,...t})}function BL(e,t){var r;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(r=t.end)==null||r.call(t,{originalEvent:e,...t}),ML(t)}function UL(e,t){var r;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(r=t.move)==null||r.call(t,{originalEvent:e,...t})}function $L(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>FL(n,t),touchend:n=>BL(n,t),touchmove:n=>UL(n,t)}}function jL(e,t){var a;const n=t.value,r=n!=null&&n.parent?e.parentElement:e,s=(n==null?void 0:n.options)??{passive:!0},i=(a=t.instance)==null?void 0:a.$.uid;if(!r||!i)return;const o=$L(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[i]=o,E_(o).forEach(u=>{r.addEventListener(u,o[u],s)})}function HL(e,t){var i,o;const n=(i=t.value)!=null&&i.parent?e.parentElement:e,r=(o=t.instance)==null?void 0:o.$.uid;if(!(n!=null&&n._touchHandlers)||!r)return;const s=n._touchHandlers[r];E_(s).forEach(a=>{n.removeEventListener(a,s[a])}),delete n._touchHandlers[r]}const A0={mounted:jL,unmounted:HL},zL=A0,C0=Symbol.for("vuetify:v-window"),R0=Symbol.for("vuetify:v-window-group"),P0=J({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Fe(),...ut(),...kt()},"VWindow"),Wp=be()({name:"VWindow",directives:{Touch:A0},props:P0(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=Lt(e),{isRtl:s}=Sn(),{t:i}=xf(),o=Df(e,R0),a=Z(),u=k(()=>s.value?!e.reverse:e.reverse),c=Ce(!1),d=k(()=>{const M=e.direction==="vertical"?"y":"x",D=(u.value?!c.value:c.value)?"-reverse":"";return`v-window-${M}${D}-transition`}),f=Ce(0),g=Z(void 0),m=k(()=>o.items.value.findIndex(M=>o.selected.value.includes(M.id)));Te(m,(M,L)=>{const D=o.items.value.length,A=D-1;D<=2?c.value=M<L:M===A&&L===0?c.value=!0:M===0&&L===A?c.value=!1:c.value=M<L}),wt(C0,{transition:d,isReversed:c,transitionCount:f,transitionHeight:g,rootRef:a});const p=k(()=>e.continuous||m.value!==0),_=k(()=>e.continuous||m.value!==o.items.value.length-1);function T(){p.value&&o.prev()}function x(){_.value&&o.next()}const O=k(()=>{const M=[],L={icon:s.value?e.nextIcon:e.prevIcon,class:`v-window__${u.value?"right":"left"}`,onClick:o.prev,"aria-label":i("$vuetify.carousel.prev")};M.push(p.value?n.prev?n.prev({props:L}):E(ft,L,null):E("div",null,null));const D={icon:s.value?e.prevIcon:e.nextIcon,class:`v-window__${u.value?"left":"right"}`,onClick:o.next,"aria-label":i("$vuetify.carousel.next")};return M.push(_.value?n.next?n.next({props:D}):E(ft,D,null):E("div",null,null)),M}),N=k(()=>e.touch===!1?e.touch:{...{left:()=>{u.value?T():x()},right:()=>{u.value?x():T()},start:L=>{let{originalEvent:D}=L;D.stopPropagation()}},...e.touch===!0?{}:e.touch});return Re(()=>Pt(E(e.tag,{ref:a,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},r.value,e.class],style:e.style},{default:()=>{var M,L;return[E("div",{class:"v-window__container",style:{height:g.value}},[(M=n.default)==null?void 0:M.call(n,{group:o}),e.showArrows!==!1&&E("div",{class:"v-window__controls"},[O.value])]),(L=n.additional)==null?void 0:L.call(n,{group:o})]}}),[[Kn("touch"),N.value]])),{group:o}}}),qL=J({...Mi(P0(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),WL=be()({name:"VTabsWindow",props:qL(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=qe(Mh,null),s=Ot(e,"modelValue"),i=k({get(){var o;return s.value!=null||!r?s.value:(o=r.items.value.find(a=>r.selected.value.includes(a.id)))==null?void 0:o.value},set(o){s.value=o}});return Re(()=>{const o=Wp.filterProps(e);return E(Wp,Me({_as:"VTabsWindow"},o,{modelValue:i.value,"onUpdate:modelValue":a=>i.value=a,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}});function Wu(){const e=Ce(!1);return mn(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:k(()=>e.value?void 0:{transition:"none !important"}),isBooted:ca(e)}}const k0=J({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Fe(),...Q_(),...Sb()},"VWindowItem"),Kp=be()({name:"VWindowItem",directives:{Touch:zL},props:k0(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=qe(C0),s=X_(e,R0),{isBooted:i}=Wu();if(!r||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=Ce(!1),a=k(()=>i.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function u(){!o.value||!r||(o.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function c(){var p;o.value||!r||(o.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=ke((p=r.rootRef.value)==null?void 0:p.clientHeight)),r.transitionCount.value+=1)}function d(){u()}function f(p){o.value&&Nt(()=>{!a.value||!o.value||!r||(r.transitionHeight.value=ke(p.clientHeight))})}const g=k(()=>{const p=r.isReversed.value?e.reverseTransition:e.transition;return a.value?{name:typeof p!="string"?r.transition.value:p,onBeforeEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:c,onAfterLeave:u,onLeaveCancelled:d,onEnter:f}:!1}),{hasContent:m}=Ab(e,s.isSelected);return Re(()=>E(rr,{transition:g.value,disabled:!i.value},{default:()=>{var p;return[Pt(E("div",{class:["v-window-item",s.selectedClass.value,e.class],style:e.style},[m.value&&((p=n.default)==null?void 0:p.call(n))]),[[os,s.isSelected.value]])]}})),{groupItem:s}}}),KL=J({...k0()},"VTabsWindowItem"),GL=be()({name:"VTabsWindowItem",props:KL(),setup(e,t){let{slots:n}=t;return Re(()=>{const r=Kp.filterProps(e);return E(Kp,Me({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function YL(e){let{selectedElement:t,containerElement:n,isRtl:r,isHorizontal:s}=e;const i=aa(s,n),o=x0(s,r,n),a=aa(s,t),u=V0(s,t),c=a*.4;return o>u?u-c:o+i<u+a?u-i+a+c:o}function QL(e){let{selectedElement:t,containerElement:n,isHorizontal:r}=e;const s=aa(r,n),i=V0(r,t),o=aa(r,t);return i-s/2+o/2}function Gp(e,t){const n=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[n])||0}function XL(e,t){const n=e?"clientWidth":"clientHeight";return(t==null?void 0:t[n])||0}function x0(e,t,n){if(!n)return 0;const{scrollLeft:r,offsetWidth:s,scrollWidth:i}=n;return e?t?i-s+r:r:n.scrollTop}function aa(e,t){const n=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[n])||0}function V0(e,t){const n=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[n])||0}const JL=Symbol.for("vuetify:v-slide-group"),O0=J({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:JL},nextIcon:{type:rt,default:"$next"},prevIcon:{type:rt,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Fe(),...DC({mobile:null}),...ut(),...Y_({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Yp=be()({name:"VSlideGroup",props:O0(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:r}=Sn(),{displayClasses:s,mobile:i}=vu(e),o=Df(e,e.symbol),a=Ce(!1),u=Ce(0),c=Ce(0),d=Ce(0),f=k(()=>e.direction==="horizontal"),{resizeRef:g,contentRect:m}=Wo(),{resizeRef:p,contentRect:_}=Wo(),T=MC(),x=k(()=>({container:g.el,duration:200,easing:"easeOutQuart"})),O=k(()=>o.selected.value.length?o.items.value.findIndex(ae=>ae.id===o.selected.value[0]):-1),N=k(()=>o.selected.value.length?o.items.value.findIndex(ae=>ae.id===o.selected.value[o.selected.value.length-1]):-1);if(it){let ae=-1;Te(()=>[o.selected.value,m.value,_.value,f.value],()=>{cancelAnimationFrame(ae),ae=requestAnimationFrame(()=>{if(m.value&&_.value){const G=f.value?"width":"height";c.value=m.value[G],d.value=_.value[G],a.value=c.value+1<d.value}if(O.value>=0&&p.el){const G=p.el.children[N.value];L(G,e.centerActive)}})})}const M=Ce(!1);function L(ae,G){let fe=0;G?fe=QL({containerElement:g.el,isHorizontal:f.value,selectedElement:ae}):fe=YL({containerElement:g.el,isHorizontal:f.value,isRtl:r.value,selectedElement:ae}),D(fe)}function D(ae){if(!it||!g.el)return;const G=aa(f.value,g.el),fe=x0(f.value,r.value,g.el);if(!(Gp(f.value,g.el)<=G||Math.abs(ae-fe)<16)){if(f.value&&r.value&&g.el){const{scrollWidth:ht,offsetWidth:ct}=g.el;ae=ht-ct-ae}f.value?T.horizontal(ae,x.value):T(ae,x.value)}}function A(ae){const{scrollTop:G,scrollLeft:fe}=ae.target;u.value=f.value?fe:G}function y(ae){if(M.value=!0,!(!a.value||!p.el)){for(const G of ae.composedPath())for(const fe of p.el.children)if(fe===G){L(fe);return}}}function b(ae){M.value=!1}let C=!1;function R(ae){var G;!C&&!M.value&&!(ae.relatedTarget&&((G=p.el)!=null&&G.contains(ae.relatedTarget)))&&z(),C=!1}function I(){C=!0}function w(ae){if(!p.el)return;function G(fe){ae.preventDefault(),z(fe)}f.value?ae.key==="ArrowRight"?G(r.value?"prev":"next"):ae.key==="ArrowLeft"&&G(r.value?"next":"prev"):ae.key==="ArrowDown"?G("next"):ae.key==="ArrowUp"&&G("prev"),ae.key==="Home"?G("first"):ae.key==="End"&&G("last")}function z(ae){var fe,Le;if(!p.el)return;let G;if(!ae)G=Ho(p.el)[0];else if(ae==="next"){if(G=(fe=p.el.querySelector(":focus"))==null?void 0:fe.nextElementSibling,!G)return z("first")}else if(ae==="prev"){if(G=(Le=p.el.querySelector(":focus"))==null?void 0:Le.previousElementSibling,!G)return z("last")}else ae==="first"?G=p.el.firstElementChild:ae==="last"&&(G=p.el.lastElementChild);G&&G.focus({preventScroll:!0})}function ce(ae){const G=f.value&&r.value?-1:1,fe=(ae==="prev"?-G:G)*c.value;let Le=u.value+fe;if(f.value&&r.value&&g.el){const{scrollWidth:ht,offsetWidth:ct}=g.el;Le+=ht-ct}D(Le)}const de=k(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),se=k(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!i.value;case!0:return a.value||Math.abs(u.value)>0;case"mobile":return i.value||a.value||Math.abs(u.value)>0;default:return!i.value&&(a.value||Math.abs(u.value)>0)}}),oe=k(()=>Math.abs(u.value)>1),Be=k(()=>{if(!g.value)return!1;const ae=Gp(f.value,g.el),G=XL(f.value,g.el);return ae-G-Math.abs(u.value)>1});return Re(()=>E(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!f.value,"v-slide-group--has-affixes":se.value,"v-slide-group--is-overflowing":a.value},s.value,e.class],style:e.style,tabindex:M.value||o.selected.value.length?-1:0,onFocus:R},{default:()=>{var ae,G,fe;return[se.value&&E("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!oe.value}],onMousedown:I,onClick:()=>oe.value&&ce("prev")},[((ae=n.prev)==null?void 0:ae.call(n,de.value))??E(iv,null,{default:()=>[E(St,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),E("div",{key:"container",ref:g,class:"v-slide-group__container",onScroll:A},[E("div",{ref:p,class:"v-slide-group__content",onFocusin:y,onFocusout:b,onKeydown:w},[(G=n.default)==null?void 0:G.call(n,de.value)])]),se.value&&E("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Be.value}],onMousedown:I,onClick:()=>Be.value&&ce("next")},[((fe=n.next)==null?void 0:fe.call(n,de.value))??E(iv,null,{default:()=>[E(St,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:ce,scrollOffset:u,focus:z,hasPrev:oe,hasNext:Be}}});function ZL(e){return e?e.map(t=>Rl(t)?t:{text:t,value:t}):[]}const eM=J({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...O0({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Xn(),...ut()},"VTabs"),tM=be()({name:"VTabs",props:eM(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const s=Ot(e,"modelValue"),i=k(()=>ZL(e.items)),{densityClasses:o}=ls(e),{backgroundColorClasses:a,backgroundColorStyles:u}=Vn(Ie(e,"bgColor")),{scopeId:c}=ha();return Zr({VTab:{color:Ie(e,"color"),direction:Ie(e,"direction"),stacked:Ie(e,"stacked"),fixed:Ie(e,"fixedTabs"),sliderColor:Ie(e,"sliderColor"),hideSlider:Ie(e,"hideSlider")}}),Re(()=>{const d=Yp.filterProps(e),f=!!(r.window||e.items.length>0);return E(Ue,null,[E(Yp,Me(d,{modelValue:s.value,"onUpdate:modelValue":g=>s.value=g,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},o.value,a.value,e.class],style:[{"--v-tabs-height":ke(e.height)},u.value,e.style],role:"tablist",symbol:Mh},c,n),{default:()=>{var g;return[((g=r.default)==null?void 0:g.call(r))??i.value.map(m=>{var p;return((p=r.tab)==null?void 0:p.call(r,{item:m}))??E(S0,Me(m,{key:m.text,value:m.value}),{default:r[`tab.${m.value}`]?()=>{var _;return(_=r[`tab.${m.value}`])==null?void 0:_.call(r,{item:m})}:void 0})})]}}),f&&E(WL,Me({modelValue:s.value,"onUpdate:modelValue":g=>s.value=g,key:"tabs-window"},c),{default:()=>{var g;return[i.value.map(m=>{var p;return((p=r.item)==null?void 0:p.call(r,{item:m}))??E(GL,{value:m.value},{default:()=>{var _;return(_=r[`item.${m.value}`])==null?void 0:_.call(r,{item:m})}})}),(g=r.window)==null?void 0:g.call(r)]}})])}),{}}}),nM={__name:"NavBar",props:{tabs:{type:Array,required:!0}},setup(e){const t=e,n=Ca(),r=Z(null);return Te(()=>n.currentRoute.value.path,s=>{const i=t.tabs.find(o=>o.path===s);r.value=i?i.path:null},{immediate:!0}),(s,i)=>(Oe(),Ge(tM,{modelValue:le(r),"onUpdate:modelValue":i[0]||(i[0]=o=>Xe(r)?r.value=o:null)},{default:re(()=>[(Oe(!0),En(Ue,null,$o(e.tabs,o=>(Oe(),Ge(S0,{key:o.name,to:o.path},{default:re(()=>{var a;return[Ze(_t(((a=o.meta)==null?void 0:a.title)||o.name),1)]}),_:2},1032,["to"]))),128))]),_:1},8,["modelValue"]))}},qd=Symbol.for("vuetify:list");function D0(){const e=qe(qd,{hasPrepend:Ce(!1),updateHasPrepend:()=>null}),t={hasPrepend:Ce(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return wt(qd,t),e}function N0(){return qe(qd,null)}const Fh=e=>{const t={activate:n=>{let{id:r,value:s,activated:i}=n;return r=_e(r),e&&!s&&i.size===1&&i.has(r)||(s?i.add(r):i.delete(r)),i},in:(n,r,s)=>{let i=new Set;if(n!=null)for(const o of Rs(n))i=t.activate({id:o,value:!0,activated:new Set(i),children:r,parents:s});return i},out:n=>Array.from(n)};return t},L0=e=>{const t=Fh(e);return{activate:r=>{let{activated:s,id:i,...o}=r;i=_e(i);const a=s.has(i)?new Set([i]):new Set;return t.activate({...o,id:i,activated:a})},in:(r,s,i)=>{let o=new Set;if(r!=null){const a=Rs(r);a.length&&(o=t.in(a.slice(0,1),s,i))}return o},out:(r,s,i)=>t.out(r,s,i)}},rM=e=>{const t=Fh(e);return{activate:r=>{let{id:s,activated:i,children:o,...a}=r;return s=_e(s),o.has(s)?i:t.activate({id:s,activated:i,children:o,...a})},in:t.in,out:t.out}},sM=e=>{const t=L0(e);return{activate:r=>{let{id:s,activated:i,children:o,...a}=r;return s=_e(s),o.has(s)?i:t.activate({id:s,activated:i,children:o,...a})},in:t.in,out:t.out}},iM={open:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(n){const i=new Set;i.add(t);let o=s.get(t);for(;o!=null;)i.add(o),o=s.get(o);return i}else return r.delete(t),r},select:()=>null},M0={open:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(n){let i=_e(s.get(t));for(r.add(t);i!=null&&i!==t;)r.add(i),i=_e(s.get(i));return r}else r.delete(t);return r},select:()=>null},oM={open:M0.open,select:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(!n)return r;const i=[];let o=s.get(t);for(;o!=null;)i.push(o),o=s.get(o);return new Set(i)}},Bh=e=>{const t={select:n=>{let{id:r,value:s,selected:i}=n;if(r=_e(r),e&&!s){const o=Array.from(i.entries()).reduce((a,u)=>{let[c,d]=u;return d==="on"&&a.push(c),a},[]);if(o.length===1&&o[0]===r)return i}return i.set(r,s?"on":"off"),i},in:(n,r,s)=>{let i=new Map;for(const o of n||[])i=t.select({id:o,value:!0,selected:new Map(i),children:r,parents:s});return i},out:n=>{const r=[];for(const[s,i]of n.entries())i==="on"&&r.push(s);return r}};return t},F0=e=>{const t=Bh(e);return{select:r=>{let{selected:s,id:i,...o}=r;i=_e(i);const a=s.has(i)?new Map([[i,s.get(i)]]):new Map;return t.select({...o,id:i,selected:a})},in:(r,s,i)=>{let o=new Map;return r!=null&&r.length&&(o=t.in(r.slice(0,1),s,i)),o},out:(r,s,i)=>t.out(r,s,i)}},aM=e=>{const t=Bh(e);return{select:r=>{let{id:s,selected:i,children:o,...a}=r;return s=_e(s),o.has(s)?i:t.select({id:s,selected:i,children:o,...a})},in:t.in,out:t.out}},lM=e=>{const t=F0(e);return{select:r=>{let{id:s,selected:i,children:o,...a}=r;return s=_e(s),o.has(s)?i:t.select({id:s,selected:i,children:o,...a})},in:t.in,out:t.out}},uM=e=>{const t={select:n=>{let{id:r,value:s,selected:i,children:o,parents:a}=n;r=_e(r);const u=new Map(i),c=[r];for(;c.length;){const f=c.shift();i.set(_e(f),s?"on":"off"),o.has(f)&&c.push(...o.get(f))}let d=_e(a.get(r));for(;d;){const f=o.get(d),g=f.every(p=>i.get(_e(p))==="on"),m=f.every(p=>!i.has(_e(p))||i.get(_e(p))==="off");i.set(d,g?"on":m?"off":"indeterminate"),d=_e(a.get(d))}return e&&!s&&Array.from(i.entries()).reduce((g,m)=>{let[p,_]=m;return _==="on"&&g.push(p),g},[]).length===0?u:i},in:(n,r,s)=>{let i=new Map;for(const o of n||[])i=t.select({id:o,value:!0,selected:new Map(i),children:r,parents:s});return i},out:(n,r)=>{const s=[];for(const[i,o]of n.entries())o==="on"&&!r.has(i)&&s.push(i);return s}};return t},la=Symbol.for("vuetify:nested"),B0={id:Ce(),root:{register:()=>null,unregister:()=>null,parents:Z(new Map),children:Z(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Z(!1),selectable:Z(!1),opened:Z(new Set),activated:Z(new Set),selected:Z(new Map),selectedValues:Z([])}},cM=J({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),dM=e=>{let t=!1;const n=Z(new Map),r=Z(new Map),s=Ot(e,"opened",e.opened,m=>new Set(_e(m)),m=>[...m.values()]),i=k(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return rM(e.mandatory);case"single-leaf":return sM(e.mandatory);case"independent":return Fh(e.mandatory);case"single-independent":default:return L0(e.mandatory)}}),o=k(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return lM(e.mandatory);case"leaf":return aM(e.mandatory);case"independent":return Bh(e.mandatory);case"single-independent":return F0(e.mandatory);case"classic":default:return uM(e.mandatory)}}),a=k(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return oM;case"single":return iM;case"multiple":default:return M0}}),u=Ot(e,"activated",e.activated,m=>i.value.in(m,n.value,r.value),m=>i.value.out(m,n.value,r.value)),c=Ot(e,"selected",e.selected,m=>o.value.in(m,n.value,r.value),m=>o.value.out(m,n.value,r.value));on(()=>{t=!0});function d(m){const p=[];let _=m;for(;_!=null;)p.unshift(_),_=r.value.get(_);return p}const f=It("nested"),g={id:Ce(),root:{opened:s,activatable:Ie(e,"activatable"),selectable:Ie(e,"selectable"),activated:u,selected:c,selectedValues:k(()=>{const m=[];for(const[p,_]of c.value.entries())_==="on"&&m.push(p);return m}),register:(m,p,_)=>{p&&m!==p&&r.value.set(m,p),_&&n.value.set(m,[]),p!=null&&n.value.set(p,[...n.value.get(p)||[],m])},unregister:m=>{if(t)return;n.value.delete(m);const p=r.value.get(m);if(p){const _=n.value.get(p)??[];n.value.set(p,_.filter(T=>T!==m))}r.value.delete(m)},open:(m,p,_)=>{f.emit("click:open",{id:m,value:p,path:d(m),event:_});const T=a.value.open({id:m,value:p,opened:new Set(s.value),children:n.value,parents:r.value,event:_});T&&(s.value=T)},openOnSelect:(m,p,_)=>{const T=a.value.select({id:m,value:p,selected:new Map(c.value),opened:new Set(s.value),children:n.value,parents:r.value,event:_});T&&(s.value=T)},select:(m,p,_)=>{f.emit("click:select",{id:m,value:p,path:d(m),event:_});const T=o.value.select({id:m,value:p,selected:new Map(c.value),children:n.value,parents:r.value,event:_});T&&(c.value=T),g.root.openOnSelect(m,p,_)},activate:(m,p,_)=>{if(!e.activatable)return g.root.select(m,!0,_);f.emit("click:activate",{id:m,value:p,path:d(m),event:_});const T=i.value.activate({id:m,value:p,activated:new Set(u.value),children:n.value,parents:r.value,event:_});T&&(u.value=T)},children:n,parents:r}};return wt(la,g),g.root},U0=(e,t)=>{const n=qe(la,B0),r=Symbol(Qn()),s=k(()=>e.value!==void 0?e.value:r),i={...n,id:s,open:(o,a)=>n.root.open(_e(s.value),o,a),openOnSelect:(o,a)=>n.root.openOnSelect(s.value,o,a),isOpen:k(()=>n.root.opened.value.has(_e(s.value))),parent:k(()=>n.root.parents.value.get(s.value)),activate:(o,a)=>n.root.activate(s.value,o,a),isActivated:k(()=>n.root.activated.value.has(_e(s.value))),select:(o,a)=>n.root.select(s.value,o,a),isSelected:k(()=>n.root.selected.value.get(_e(s.value))==="on"),isIndeterminate:k(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:k(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(s.value,n.id.value,t),on(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),t&&wt(la,i),i},fM=()=>{const e=qe(la,B0);wt(la,{...e,isGroupActivator:!0})},hM=Fi({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return fM(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),mM=J({activeColor:String,baseColor:String,color:String,collapseIcon:{type:rt,default:"$collapse"},expandIcon:{type:rt,default:"$expand"},prependIcon:rt,appendIcon:rt,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Fe(),...ut()},"VListGroup"),Qp=be()({name:"VListGroup",props:mM(),setup(e,t){let{slots:n}=t;const{isOpen:r,open:s,id:i}=U0(Ie(e,"value"),!0),o=k(()=>`v-list-group--id-${String(i.value)}`),a=N0(),{isBooted:u}=Wu();function c(m){m.stopPropagation(),s(!r.value,m)}const d=k(()=>({onClick:c,class:"v-list-group__header",id:o.value})),f=k(()=>r.value?e.collapseIcon:e.expandIcon),g=k(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&f.value,appendIcon:e.appendIcon||!e.subgroup&&f.value,title:e.title,value:e.value}}));return Re(()=>E(e.tag,{class:["v-list-group",{"v-list-group--prepend":a==null?void 0:a.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[n.activator&&E(Dt,{defaults:g.value},{default:()=>[E(hM,null,{default:()=>[n.activator({props:d.value,isOpen:r.value})]})]}),E(rr,{transition:{component:Eb},disabled:!u.value},{default:()=>{var m;return[Pt(E("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(m=n.default)==null?void 0:m.call(n)]),[[os,r.value]])]}})]})),{isOpen:r}}}),gM=J({opacity:[Number,String],...Fe(),...ut()},"VListItemSubtitle"),vM=be()({name:"VListItemSubtitle",props:gM(),setup(e,t){let{slots:n}=t;return Re(()=>E(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),$0=Pf("v-list-item-title"),pM=J({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:rt,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:rt,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:In(),onClickOnce:In(),...Er(),...Fe(),...Xn(),...Cn(),...us(),...An(),...Uf(),...ut(),...kt(),...qs({variant:"text"})},"VListItem"),Wd=be()({name:"VListItem",directives:{Ripple:$f},props:pM(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:r,emit:s}=t;const i=Bf(e,n),o=k(()=>e.value===void 0?i.href.value:e.value),{activate:a,isActivated:u,select:c,isOpen:d,isSelected:f,isIndeterminate:g,isGroupActivator:m,root:p,parent:_,openOnSelect:T}=U0(o,!1),x=N0(),O=k(()=>{var G;return e.active!==!1&&(e.active||((G=i.isActive)==null?void 0:G.value)||(p.activatable.value?u.value:f.value))}),N=k(()=>e.link!==!1&&i.isLink.value),M=k(()=>!e.disabled&&e.link!==!1&&(e.link||i.isClickable.value||!!x&&(p.selectable.value||p.activatable.value||e.value!=null))),L=k(()=>e.rounded||e.nav),D=k(()=>e.color??e.activeColor),A=k(()=>({color:O.value?D.value??e.baseColor:e.baseColor,variant:e.variant}));Te(()=>{var G;return(G=i.isActive)==null?void 0:G.value},G=>{G&&_.value!=null&&p.open(_.value,!0),G&&T(G)},{immediate:!0});const{themeClasses:y}=Lt(e),{borderClasses:b}=as(e),{colorClasses:C,colorStyles:R,variantClasses:I}=_u(A),{densityClasses:w}=ls(e),{dimensionStyles:z}=Rn(e),{elevationClasses:ce}=zs(e),{roundedClasses:de}=Ln(L),se=k(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),oe=k(()=>({isActive:O.value,select:c,isOpen:d.value,isSelected:f.value,isIndeterminate:g.value}));function Be(G){var fe;s("click",G),M.value&&((fe=i.navigate)==null||fe.call(i,G),!m&&(p.activatable.value?a(!u.value,G):(p.selectable.value||e.value!=null)&&c(!f.value,G)))}function ae(G){(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),G.target.dispatchEvent(new MouseEvent("click",G)))}return Re(()=>{const G=N.value?"a":e.tag,fe=r.title||e.title!=null,Le=r.subtitle||e.subtitle!=null,ht=!!(e.appendAvatar||e.appendIcon),ct=!!(ht||r.append),Pe=!!(e.prependAvatar||e.prependIcon),U=!!(Pe||r.prepend);return x==null||x.updateHasPrepend(U),e.activeColor&&gA("active-color",["color","base-color"]),Pt(E(G,{class:["v-list-item",{"v-list-item--active":O.value,"v-list-item--disabled":e.disabled,"v-list-item--link":M.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!U&&(x==null?void 0:x.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&O.value},y.value,b.value,C.value,w.value,ce.value,se.value,de.value,I.value,e.class],style:[R.value,z.value,e.style],href:i.href.value,tabindex:M.value?x?-2:0:void 0,onClick:Be,onKeydown:M.value&&!N.value&&ae},{default:()=>{var X;return[yu(M.value||O.value,"v-list-item"),U&&E("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?E(Dt,{key:"prepend-defaults",disabled:!Pe,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var Y;return[(Y=r.prepend)==null?void 0:Y.call(r,oe.value)]}}):E(Ue,null,[e.prependAvatar&&E(xs,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&E(St,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),E("div",{class:"v-list-item__spacer"},null)]),E("div",{class:"v-list-item__content","data-no-activator":""},[fe&&E($0,{key:"title"},{default:()=>{var Y;return[((Y=r.title)==null?void 0:Y.call(r,{title:e.title}))??e.title]}}),Le&&E(vM,{key:"subtitle"},{default:()=>{var Y;return[((Y=r.subtitle)==null?void 0:Y.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(X=r.default)==null?void 0:X.call(r,oe.value)]),ct&&E("div",{key:"append",class:"v-list-item__append"},[r.append?E(Dt,{key:"append-defaults",disabled:!ht,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var Y;return[(Y=r.append)==null?void 0:Y.call(r,oe.value)]}}):E(Ue,null,[e.appendIcon&&E(St,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&E(xs,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),E("div",{class:"v-list-item__spacer"},null)])]}}),[[Kn("ripple"),M.value&&e.ripple]])}),{activate:a,isActivated:u,isGroupActivator:m,isSelected:f,list:x,select:c}}}),yM=J({color:String,inset:Boolean,sticky:Boolean,title:String,...Fe(),...ut()},"VListSubheader"),_M=be()({name:"VListSubheader",props:yM(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:s}=hr(Ie(e,"color"));return Re(()=>{const i=!!(n.default||e.title);return E(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:s},e.style]},{default:()=>{var o;return[i&&E("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??e.title])]}})}),{}}}),bM=J({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Fe(),...kt()},"VDivider"),EM=be()({name:"VDivider",props:bM(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Lt(e),{textColorClasses:i,textColorStyles:o}=hr(Ie(e,"color")),a=k(()=>{const u={};return e.length&&(u[e.vertical?"height":"width"]=ke(e.length)),e.thickness&&(u[e.vertical?"borderRightWidth":"borderTopWidth"]=ke(e.thickness)),u});return Re(()=>{const u=E("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},s.value,i.value,e.class],style:[a.value,o.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return r.default?E("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[u,E("div",{class:"v-divider__content"},[r.default()]),u]):u}),{}}}),wM=J({items:Array,returnObject:Boolean},"VListChildren"),j0=be()({name:"VListChildren",props:wM(),setup(e,t){let{slots:n}=t;return D0(),()=>{var r,s;return((r=n.default)==null?void 0:r.call(n))??((s=e.items)==null?void 0:s.map(i=>{var g,m;let{children:o,props:a,type:u,raw:c}=i;if(u==="divider")return((g=n.divider)==null?void 0:g.call(n,{props:a}))??E(EM,a,null);if(u==="subheader")return((m=n.subheader)==null?void 0:m.call(n,{props:a}))??E(_M,a,null);const d={subtitle:n.subtitle?p=>{var _;return(_=n.subtitle)==null?void 0:_.call(n,{...p,item:c})}:void 0,prepend:n.prepend?p=>{var _;return(_=n.prepend)==null?void 0:_.call(n,{...p,item:c})}:void 0,append:n.append?p=>{var _;return(_=n.append)==null?void 0:_.call(n,{...p,item:c})}:void 0,title:n.title?p=>{var _;return(_=n.title)==null?void 0:_.call(n,{...p,item:c})}:void 0},f=Qp.filterProps(a);return o?E(Qp,Me({value:a==null?void 0:a.value},f),{activator:p=>{let{props:_}=p;const T={...a,..._,value:e.returnObject?c:a.value};return n.header?n.header({props:T}):E(Wd,T,d)},default:()=>E(j0,{items:o,returnObject:e.returnObject},n)}):n.item?n.item({props:a}):E(Wd,Me(a,{value:e.returnObject?c:a.value}),d)}))}}}),IM=J({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:hu}},"list-items");function TM(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function SM(e,t){const n=co(t,e.itemType,"item"),r=TM(t)?t:co(t,e.itemTitle),s=co(t,e.itemValue,void 0),i=co(t,e.itemChildren),o=e.itemProps===!0?Mi(t,["children"]):co(t,e.itemProps),a={title:r,value:s,...o};return{type:n,title:a.title,value:a.value,props:a,children:n==="item"&&i?H0(e,i):void 0,raw:t}}function H0(e,t){const n=[];for(const r of t)n.push(SM(e,r));return n}function AM(e){return{items:k(()=>H0(e,e.items))}}const CM=J({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":In(),"onClick:select":In(),"onUpdate:opened":In(),...cM({selectStrategy:"single-leaf",openStrategy:"list"}),...Er(),...Fe(),...Xn(),...Cn(),...us(),itemType:{type:String,default:"type"},...IM(),...An(),...ut(),...kt(),...qs({variant:"text"})},"VList"),RM=be()({name:"VList",props:CM(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=AM(e),{themeClasses:s}=Lt(e),{backgroundColorClasses:i,backgroundColorStyles:o}=Vn(Ie(e,"bgColor")),{borderClasses:a}=as(e),{densityClasses:u}=ls(e),{dimensionStyles:c}=Rn(e),{elevationClasses:d}=zs(e),{roundedClasses:f}=Ln(e),{children:g,open:m,parents:p,select:_}=dM(e),T=k(()=>e.lines?`v-list--${e.lines}-line`:void 0),x=Ie(e,"activeColor"),O=Ie(e,"baseColor"),N=Ie(e,"color");D0(),Zr({VListGroup:{activeColor:x,baseColor:O,color:N,expandIcon:Ie(e,"expandIcon"),collapseIcon:Ie(e,"collapseIcon")},VListItem:{activeClass:Ie(e,"activeClass"),activeColor:x,baseColor:O,color:N,density:Ie(e,"density"),disabled:Ie(e,"disabled"),lines:Ie(e,"lines"),nav:Ie(e,"nav"),slim:Ie(e,"slim"),variant:Ie(e,"variant")}});const M=Ce(!1),L=Z();function D(I){M.value=!0}function A(I){M.value=!1}function y(I){var w;!M.value&&!(I.relatedTarget&&((w=L.value)!=null&&w.contains(I.relatedTarget)))&&R()}function b(I){const w=I.target;if(!(!L.value||["INPUT","TEXTAREA"].includes(w.tagName))){if(I.key==="ArrowDown")R("next");else if(I.key==="ArrowUp")R("prev");else if(I.key==="Home")R("first");else if(I.key==="End")R("last");else return;I.preventDefault()}}function C(I){M.value=!0}function R(I){if(L.value)return Co(L.value,I)}return Re(()=>E(e.tag,{ref:L,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},s.value,i.value,a.value,u.value,d.value,T.value,f.value,e.class],style:[o.value,c.value,e.style],tabindex:e.disabled||M.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:D,onFocusout:A,onFocus:y,onKeydown:b,onMousedown:C},{default:()=>[E(j0,{items:r.value,returnObject:e.returnObject},n)]})),{open:m,select:_,focus:R,children:g,parents:p}}}),PM=J({id:String,submenu:Boolean,...Mi(Su({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:_b}}),["absolute"])},"VMenu"),kM=be()({name:"VMenu",props:PM(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Ot(e,"modelValue"),{scopeId:s}=ha(),{isRtl:i}=Sn(),o=Qn(),a=k(()=>e.id||`v-menu-${o}`),u=Z(),c=qe(md,null),d=Ce(new Set);wt(md,{register(){d.value.add(o)},unregister(){d.value.delete(o)},closeParents(T){setTimeout(()=>{var x;!d.value.size&&!e.persistent&&(T==null||(x=u.value)!=null&&x.contentEl&&!sA(T,u.value.contentEl))&&(r.value=!1,c==null||c.closeParents())},40)}}),on(()=>c==null?void 0:c.unregister()),df(()=>r.value=!1);async function f(T){var N,M,L;const x=T.relatedTarget,O=T.target;await Nt(),r.value&&x!==O&&((N=u.value)!=null&&N.contentEl)&&((M=u.value)!=null&&M.globalTop)&&![document,u.value.contentEl].includes(O)&&!u.value.contentEl.contains(O)&&((L=Ho(u.value.contentEl)[0])==null||L.focus())}Te(r,T=>{T?(c==null||c.register(),document.addEventListener("focusin",f,{once:!0})):(c==null||c.unregister(),document.removeEventListener("focusin",f))});function g(T){c==null||c.closeParents(T)}function m(T){var x,O,N,M,L;if(!e.disabled)if(T.key==="Tab"||T.key==="Enter"&&!e.closeOnContentClick){if(T.key==="Enter"&&(T.target instanceof HTMLTextAreaElement||T.target instanceof HTMLInputElement&&T.target.closest("form")))return;T.key==="Enter"&&T.preventDefault(),A_(Ho((x=u.value)==null?void 0:x.contentEl,!1),T.shiftKey?"prev":"next",A=>A.tabIndex>=0)||(r.value=!1,(N=(O=u.value)==null?void 0:O.activatorEl)==null||N.focus())}else e.submenu&&T.key===(i.value?"ArrowRight":"ArrowLeft")&&(r.value=!1,(L=(M=u.value)==null?void 0:M.activatorEl)==null||L.focus())}function p(T){var O;if(e.disabled)return;const x=(O=u.value)==null?void 0:O.contentEl;x&&r.value?T.key==="ArrowDown"?(T.preventDefault(),T.stopImmediatePropagation(),Co(x,"next")):T.key==="ArrowUp"?(T.preventDefault(),T.stopImmediatePropagation(),Co(x,"prev")):e.submenu&&(T.key===(i.value?"ArrowRight":"ArrowLeft")?r.value=!1:T.key===(i.value?"ArrowLeft":"ArrowRight")&&(T.preventDefault(),Co(x,"first"))):(e.submenu?T.key===(i.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(T.key))&&(r.value=!0,T.preventDefault(),setTimeout(()=>setTimeout(()=>p(T))))}const _=k(()=>Me({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":a.value,onKeydown:p},e.activatorProps));return Re(()=>{const T=Si.filterProps(e);return E(Si,Me({ref:u,id:a.value,class:["v-menu",e.class],style:e.style},T,{modelValue:r.value,"onUpdate:modelValue":x=>r.value=x,absolute:!0,activatorProps:_.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":g,onKeydown:m},s),{activator:n.activator,default:function(){for(var x=arguments.length,O=new Array(x),N=0;N<x;N++)O[N]=arguments[N];return E(Dt,{root:"VMenu"},{default:()=>{var M;return[(M=n.default)==null?void 0:M.call(n,...O)]}})}})}),Ui({id:a,ΨopenChildren:d},u)}}),Kd={__name:"DropMenu",props:{items:{type:Array,required:!0}},emits:["itemClick"],setup(e,{emit:t}){const n=t,r=s=>n("itemClick",s);return(s,i)=>(Oe(),Ge(kM,null,{activator:re(({props:o})=>[jy(s.$slots,"menuActivator",{props:o},()=>[E(ft,Me({icon:"mdi-menu",variant:"text"},o),null,16)])]),default:re(()=>[E(RM,null,{default:re(()=>[(Oe(!0),En(Ue,null,$o(e.items,(o,a)=>(Oe(),Ge(Wd,{key:o.id||a,onClick:u=>r(o)},{default:re(()=>[E($0,null,{default:re(()=>[Ze(_t(o.text||o.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:3}))}};async function xM(e){try{const t=Dd(sa,e),n=JV(t);return(await sO(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){throw console.error("Ошибка при получении данных из БД. ",t),t}}const Ra=h0("eventsStore",()=>{const e=Z([]),t=Z(""),n=Ys(),r=k(()=>e.value.filter(c=>{var d,f;return(f=(d=n.currentUser)==null?void 0:d.favoriteEvents)==null?void 0:f.includes(c.id)})),s=k(()=>{var d;const c=((d=n.currentUser)==null?void 0:d.bookedEvents.map(f=>f.eventID))||[];return e.value.filter(f=>c.includes(f.id))});async function i(){try{return e.value=await xM("sportsEvents"),e.value}catch{e.value=[],t.value="Error receiving sports events"}}async function o(c){return l0("sportsEvents",c)}async function a(c,d){Bd("sportsEvents",c,d)}function u(c,d){const f=e.value.findIndex(g=>g.id===c);f!==-1&&(e.value[f].occupiedSeats=d,a(c,e.value[f]))}return{events:e,getEvents:i,favoritesEvents:r,bookedEvents:s,getEventFromDB:o,setOccupiedSeatsByID:u}});function VM(e,t=6){const n=Z(1),r=k(()=>Math.ceil(e.value.length/t)),s=k(()=>{const o=(n.value-1)*t,a=o+t;return e.value.slice(o,a)});return{page:n,paginatedItems:s,totalPages:r,handlePageChange:o=>{n.value=o},itemsPerPage:t}}function OM(){const e=Z([]);Uy(()=>e.value=[]);function t(n,r){e.value[r]=n}return{refs:e,updateRef:t}}const DM=J({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:rt,default:"$first"},prevIcon:{type:rt,default:"$prev"},nextIcon:{type:rt,default:"$next"},lastIcon:{type:rt,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Er(),...Fe(),...Xn(),...us(),...An(),...Bi(),...ut({tag:"nav"}),...kt(),...qs({variant:"text"})},"VPagination"),NM=be()({name:"VPagination",props:DM(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=Ot(e,"modelValue"),{t:i,n:o}=xf(),{isRtl:a}=Sn(),{themeClasses:u}=Lt(e),{width:c}=vu(),d=Ce(-1);Zr(void 0,{scoped:!0});const{resizeRef:f}=Wo(y=>{if(!y.length)return;const{target:b,contentRect:C}=y[0],R=b.querySelector(".v-pagination__list > *");if(!R)return;const I=C.width,w=R.offsetWidth+parseFloat(getComputedStyle(R).marginRight)*2;d.value=_(I,w)}),g=k(()=>parseInt(e.length,10)),m=k(()=>parseInt(e.start,10)),p=k(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):d.value>=0?d.value:_(c.value,58));function _(y,b){const C=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((y-b*C)/b).toFixed(2)))}const T=k(()=>{if(g.value<=0||isNaN(g.value)||g.value>Number.MAX_SAFE_INTEGER)return[];if(p.value<=0)return[];if(p.value===1)return[s.value];if(g.value<=p.value)return ci(g.value,m.value);const y=p.value%2===0,b=y?p.value/2:Math.floor(p.value/2),C=y?b:b+1,R=g.value-b;if(C-s.value>=0)return[...ci(Math.max(1,p.value-1),m.value),e.ellipsis,g.value];if(s.value-R>=(y?1:0)){const I=p.value-1,w=g.value-I+m.value;return[m.value,e.ellipsis,...ci(I,w)]}else{const I=Math.max(1,p.value-3),w=I===1?s.value:s.value-Math.ceil(I/2)+m.value;return[m.value,e.ellipsis,...ci(I,w),e.ellipsis,g.value]}});function x(y,b,C){y.preventDefault(),s.value=b,C&&r(C,b)}const{refs:O,updateRef:N}=OM();Zr({VPaginationBtn:{color:Ie(e,"color"),border:Ie(e,"border"),density:Ie(e,"density"),size:Ie(e,"size"),variant:Ie(e,"variant"),rounded:Ie(e,"rounded"),elevation:Ie(e,"elevation")}});const M=k(()=>T.value.map((y,b)=>{const C=R=>N(R,b);if(typeof y=="string")return{isActive:!1,key:`ellipsis-${b}`,page:y,props:{ref:C,ellipsis:!0,icon:!0,disabled:!0}};{const R=y===s.value;return{isActive:R,key:y,page:o(y),props:{ref:C,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:R?e.activeColor:e.color,"aria-current":R,"aria-label":i(R?e.currentPageAriaLabel:e.pageAriaLabel,y),onClick:I=>x(I,y)}}}})),L=k(()=>{const y=!!e.disabled||s.value<=m.value,b=!!e.disabled||s.value>=m.value+g.value-1;return{first:e.showFirstLastPage?{icon:a.value?e.lastIcon:e.firstIcon,onClick:C=>x(C,m.value,"first"),disabled:y,"aria-label":i(e.firstAriaLabel),"aria-disabled":y}:void 0,prev:{icon:a.value?e.nextIcon:e.prevIcon,onClick:C=>x(C,s.value-1,"prev"),disabled:y,"aria-label":i(e.previousAriaLabel),"aria-disabled":y},next:{icon:a.value?e.prevIcon:e.nextIcon,onClick:C=>x(C,s.value+1,"next"),disabled:b,"aria-label":i(e.nextAriaLabel),"aria-disabled":b},last:e.showFirstLastPage?{icon:a.value?e.firstIcon:e.lastIcon,onClick:C=>x(C,m.value+g.value-1,"last"),disabled:b,"aria-label":i(e.lastAriaLabel),"aria-disabled":b}:void 0}});function D(){var b;const y=s.value-m.value;(b=O.value[y])==null||b.$el.focus()}function A(y){y.key===_g.left&&!e.disabled&&s.value>+e.start?(s.value=s.value-1,Nt(D)):y.key===_g.right&&!e.disabled&&s.value<m.value+g.value-1&&(s.value=s.value+1,Nt(D))}return Re(()=>E(e.tag,{ref:f,class:["v-pagination",u.value,e.class],style:e.style,role:"navigation","aria-label":i(e.ariaLabel),onKeydown:A,"data-test":"v-pagination-root"},{default:()=>[E("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&E("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(L.value.first):E(ft,Me({_as:"VPaginationBtn"},L.value.first),null)]),E("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(L.value.prev):E(ft,Me({_as:"VPaginationBtn"},L.value.prev),null)]),M.value.map((y,b)=>E("li",{key:y.key,class:["v-pagination__item",{"v-pagination__item--is-active":y.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(y):E(ft,Me({_as:"VPaginationBtn"},y.props),{default:()=>[y.page]})])),E("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(L.value.next):E(ft,Me({_as:"VPaginationBtn"},L.value.next),null)]),e.showFirstLastPage&&E("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(L.value.last):E(ft,Me({_as:"VPaginationBtn"},L.value.last),null)])])]})),{}}}),LM={__name:"PaginationBar",props:{length:{type:Number,default:15},totalVisible:{type:Number,default:6},modelValue:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=t;function r(s){n("update:modelValue",s)}return(s,i)=>(Oe(),Ge(NM,{modelValue:e.modelValue,length:e.length,"total-visible":e.totalVisible,"onUpdate:modelValue":r,color:"white",class:"mt-4",style:{"text-shadow":"1px 1px 1px black"}},null,8,["modelValue","length","total-visible"]))}},MM=J({id:String,text:String,...Mi(Su({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),Xp=be()({name:"VTooltip",props:MM(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Ot(e,"modelValue"),{scopeId:s}=ha(),i=Qn(),o=k(()=>e.id||`v-tooltip-${i}`),a=Z(),u=k(()=>e.location.split(" ").length>1?e.location:e.location+" center"),c=k(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),d=k(()=>e.transition?e.transition:r.value?"scale-transition":"fade-transition"),f=k(()=>Me({"aria-describedby":o.value},e.activatorProps));return Re(()=>{const g=Si.filterProps(e);return E(Si,Me({ref:a,class:["v-tooltip",e.class],style:e.style,id:o.value},g,{modelValue:r.value,"onUpdate:modelValue":m=>r.value=m,transition:d.value,absolute:!0,location:u.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:f.value,_disableGlobalStack:!0},s),{activator:n.activator,default:function(){var T;for(var m=arguments.length,p=new Array(m),_=0;_<m;_++)p[_]=arguments[_];return((T=n.default)==null?void 0:T.call(n,...p))??e.text}})}),Ui({},a)}}),FM={class:"text-blue-darken-1"},BM={__name:"EventCard",props:{event:{type:Object,required:!0}},setup(e){const t=Ys(),n=Ca(),r=e,s=qe("isBooking",!1),i=Z(null),o=k(()=>{var f,g;return((g=(f=t.currentUser)==null?void 0:f.favoriteEvents)==null?void 0:g.includes(r.event.id))??!1}),a=k(()=>o.value?"orange-lighten-1":"brown-lighten-4"),u=k(()=>{var g;if(!t.isLoggedIn||!s)return"";const f=(g=t.currentUser)==null?void 0:g.bookedEvents.find(m=>m.eventID===r.event.id);return(f==null?void 0:f.bookedSeats.join(", "))||""});function c(){n.push({name:"event-details",params:{id:r.event.id}})}function d(){t.isLoggedIn||i.value.openModal(),t.toggleFavorite(r.event.id)}return(f,g)=>{const m=wi("ModalDialog"),p=Kn("formatdate");return Oe(),En(Ue,null,[E(jf,{class:"v-card-custom mx-auto",elevation:"10"},{default:re(()=>[E(Hr,{class:"font-weight-bold text-center py-1"},{default:re(()=>[Ze(" Category: "),At("span",FM,_t(e.event.category),1)]),_:1}),E(Yo,{class:"text-center font-weight-bold wrap-text",style:{cursor:"default"}},{default:re(()=>[Ze(_t(e.event.name)+" ",1),E(Xp,{activator:"parent",location:"top"},{default:re(()=>[Ze(_t(e.event.name),1)]),_:1})]),_:1}),E(hb,{class:"font-weight-bold"},{default:re(()=>[Ze(" Price: "+_t(e.event.price),1)]),_:1}),E(Hr,{class:"font-weight-bold"},{default:re(()=>[Ze(" Location: "+_t(e.event.location),1)]),_:1}),Pt((Oe(),Ge(Hr,{class:"font-weight-bold"},{default:re(()=>[Ze(" Date: ")]),_:1})),[[p,e.event.dateTime]]),le(s)?(Oe(),Ge(Hr,{key:0,class:"font-weight-bold text-blue"},{default:re(()=>[Ze(" Booked Seats: "),At("span",null,_t(le(u)),1)]),_:1})):xn("",!0),E(fb,{class:"justify-center"},{default:re(()=>[E(ft,{onClick:c,color:"primary",text:"More Details",class:"font-weight-bold"}),E(ft,{onClick:d,color:le(a)},{default:re(()=>[E(Xp,{activator:"parent",location:"top"},{default:re(()=>[Ze("add to Favorites")]),_:1}),E(St,{icon:"mdi-heart"})]),_:1},8,["color"])]),_:1})]),_:1}),E(m,{ref_key:"modalRef",ref:i},{"modal-content":re(()=>[E(dn,{class:"d-flex flex-column align-center justify-center"},{default:re(()=>[E(Yo,{class:"text-h5"},{default:re(()=>[Ze("You need to LogIn")]),_:1}),E(Bb,{style:{height:"20px"}}),E(ft,{onClick:le(i).closeModal},{default:re(()=>[Ze("OK")]),_:1},8,["onClick"])]),_:1})]),_:1},512)],64)}}},UM={class:"text-center pb-2"},Uh={__name:"EventsList",props:{isLoading:Boolean,events:Array},setup(e){const t=e,n=Z(""),r=k(()=>!n.value||!t.events.length?t.events:t.events.filter(f=>(f==null?void 0:f.category)===n.value)),s=f=>{n.value=f==null?void 0:f.action},i=[{text:"Football",action:"Football"},{text:"Basketball",action:"Basketball"},{text:"Volleyball",action:"Volleyball"},{text:"All",action:""}],{page:o,paginatedItems:a,totalPages:u,handlePageChange:c,itemsPerPage:d}=VM(r);return(f,g)=>{const m=wi("LoaderSpinner");return Oe(),En(Ue,null,[E(m,{isLoading:e.isLoading,size:70,color:"white"},null,8,["isLoading"]),Pt(At("div",UM,[E(Kd,{items:i,onItemClick:s},{menuActivator:re(({props:p})=>[At("span",Me(p,{style:{cursor:"pointer"}}),[E(ft,{variant:"text",color:"white",style:{"font-weight":"600"}},{default:re(()=>[Ze(" Filter By: "+_t(le(n)||"All"),1)]),_:1}),E(St,{icon:"mdi-filter",color:"white"})],16)]),_:1})],512),[[os,e.events.length]]),E(Fl,{style:{"max-width":"960px","min-height":"560px"},class:"mx-auto"},{default:re(()=>[(Oe(!0),En(Ue,null,$o(le(a),p=>(Oe(),Ge(zr,{key:p.id,cols:"12",md:"4"},{default:re(()=>[E(BM,{event:p},null,8,["event"])]),_:2},1024))),128))]),_:1}),e.events.length>le(d)?(Oe(),Ge(LM,{key:0,modelValue:le(o),"onUpdate:modelValue":[g[0]||(g[0]=p=>Xe(o)?o.value=p:null),le(c)],length:le(u),"total-visible":6},null,8,["modelValue","length","onUpdate:modelValue"])):xn("",!0)],64)}}},$M={class:"text-h3 text-white text-center py-4 page-title"},jM={__name:"HomeView",setup(e){const t=Ra(),n=Z(!1);return mn(async()=>{t.events.length||(n.value=!0,await t.getEvents(),n.value=!1)}),(r,s)=>(Oe(),Ge(dn,{fluid:"",class:"views home"},{default:re(()=>[At("h2",$M,_t(le(t).getEventsError||"Upcoming events"),1),E(Uh,{isLoading:le(n),events:le(t).events},null,8,["isLoading","events"])]),_:1}))}},HM={class:"text-h3 text-white text-center py-4 page-title"},zM={__name:"BookingEvents",setup(e){const t=Ra(),n=Z(!1);return wt("isBooking",!0),mn(async()=>{t.events.length||(n.value=!0,await t.getEvents(),n.value=!1)}),(r,s)=>(Oe(),Ge(dn,{fluid:"",class:"views booking"},{default:re(()=>[At("h2",HM,_t(le(t).getEventsError||"Booked Events"),1),E(Uh,{isLoading:le(n),events:le(t).bookedEvents},null,8,["isLoading","events"])]),_:1}))}},qM=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},WM={},KM=At("h2",{class:"text-h3 text-white text-center py-4"},"Admin Panel",-1);function GM(e,t){return Oe(),Ge(dn,{fluid:"",class:"views"},{default:re(()=>[KM]),_:1})}const YM=qM(WM,[["render",GM]]),QM={class:"text-h3 text-white text-center py-4 page-title"},XM={__name:"FavoriteEvents",setup(e){const t=Ra(),n=Z(!1);return mn(async()=>{t.events.length||(n.value=!0,await t.getEvents(),n.value=!1)}),(r,s)=>(Oe(),Ge(dn,{fluid:"",class:"views favorites"},{default:re(()=>[At("h2",QM,_t(le(t).getEventsError||"Favorites Events"),1),E(Uh,{isLoading:le(n),events:le(t).favoritesEvents},null,8,["isLoading","events"])]),_:1}))}},JM="/Palmo-Edu/Sports-Events/assets/icon404-CznOkEgx.png",ZM="/Palmo-Edu/Sports-Events/assets/auth-req-DciNOZjl.webp",eF=J({actionText:String,bgColor:String,color:String,icon:rt,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Fe(),...Cn(),...Bi({size:void 0}),...kt()},"VEmptyState"),tF=be()({name:"VEmptyState",props:eF(),emits:{"click:action":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{themeClasses:s}=Lt(e),{backgroundColorClasses:i,backgroundColorStyles:o}=Vn(Ie(e,"bgColor")),{dimensionStyles:a}=Rn(e),{displayClasses:u}=vu();function c(d){n("click:action",d)}return Re(()=>{var T,x,O;const d=!!(r.actions||e.actionText),f=!!(r.headline||e.headline),g=!!(r.title||e.title),m=!!(r.text||e.text),p=!!(r.media||e.image||e.icon),_=e.size||(e.image?200:96);return E("div",{class:["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},s.value,i.value,u.value,e.class],style:[o.value,a.value,e.style]},[p&&E("div",{key:"media",class:"v-empty-state__media"},[r.media?E(Dt,{key:"media-defaults",defaults:{VImg:{src:e.image,height:_},VIcon:{size:_,icon:e.icon}}},{default:()=>[r.media()]}):E(Ue,null,[e.image?E(Tu,{key:"image",src:e.image,height:_},null):e.icon?E(St,{key:"icon",color:e.color,size:_,icon:e.icon},null):void 0])]),f&&E("div",{key:"headline",class:"v-empty-state__headline"},[((T=r.headline)==null?void 0:T.call(r))??e.headline]),g&&E("div",{key:"title",class:"v-empty-state__title"},[((x=r.title)==null?void 0:x.call(r))??e.title]),m&&E("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:ke(e.textWidth)}},[((O=r.text)==null?void 0:O.call(r))??e.text]),r.default&&E("div",{key:"content",class:"v-empty-state__content"},[r.default()]),d&&E("div",{key:"actions",class:"v-empty-state__actions"},[E(Dt,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",text:e.actionText}}},{default:()=>{var N;return[((N=r.actions)==null?void 0:N.call(r,{props:{onClick:c}}))??E(ft,{onClick:c},null)]}})])])}),{}}}),zc={__name:"NotFound",setup(e){const t=qu(),n={"auth-required":{headline:"Authorization Required",title:"Please sign in to access this page",text:"You need to log in to view this content"},"admin-required":{headline:"Admin Access Required",title:"Admin rights are needed to access this page",text:"You need to have admin rights to view this content"},"not-found":{headline:"Whoops, 404",title:"Page not found",text:"The page you were looking for does not exist"}},r=k(()=>n[t.name]||n["not-found"]),s=k(()=>t.name==="auth-required"?ZM:JM);function i(){Ku.push({name:"home"})}return(o,a)=>(Oe(),Ge(tF,{class:"not-found",headline:le(r).headline,title:le(r).title,text:le(r).text,image:le(s),"action-text":"Back to Home Page","onClick:action":i},null,8,["headline","title","text","image"]))}},nF={class:"text-h5 font-weight-bold"},rF={class:"text-h6"},sF={class:"text-h6"},iF={class:"text-h6"},oF={__name:"EventDescription",props:{event:Object},setup(e){return(t,n)=>{const r=Kn("formatdate");return Oe(),Ge(jf,{elevation:"3",class:"pa-2 mx-auto event-details"},{default:re(()=>[E(Yo,{class:"text-h4 text-center"},{default:re(()=>[Ze("Event Details:")]),_:1}),e.event?(Oe(),Ge(Hr,{key:0},{default:re(()=>[E(Fl,null,{default:re(()=>[E(zr,{cols:"12",class:"text-center d-flex justify-center align-center py-1"},{default:re(()=>[E(St,{large:"",class:"mr-2"},{default:re(()=>[Ze("mdi-calendar")]),_:1}),At("span",nF,_t(e.event.name),1)]),_:1}),E(zr,{cols:"12",class:"text-center d-flex justify-center align-center py-1"},{default:re(()=>[E(St,{large:"",class:"mr-2"},{default:re(()=>[Ze("mdi-currency-usd")]),_:1}),At("span",rF,"Price: "+_t(e.event.price),1)]),_:1}),E(zr,{cols:"12",class:"text-center d-flex justify-center align-center py-1"},{default:re(()=>[E(St,{large:"",class:"mr-2"},{default:re(()=>[Ze("mdi-map-marker")]),_:1}),At("span",sF,"Location: "+_t(e.event.location),1)]),_:1}),E(zr,{cols:"12",class:"text-center d-flex justify-center align-center py-1"},{default:re(()=>[E(St,{large:"",class:"mr-2"},{default:re(()=>[Ze("mdi-clock")]),_:1}),Pt((Oe(),En("span",iF,[Ze("Date:")])),[[r,e.event.dateTime]])]),_:1})]),_:1})]),_:1})):xn("",!0),E(ft,{color:"white",onClick:n[0]||(n[0]=s=>t.$emit("goBack")),class:"goBackBtn"},{default:re(()=>[Ze("Back to Events")]),_:1})]),_:1})}}},aF=At("span",{class:"booking-info"},"Booked by you",-1),lF=At("span",{class:"booking-info"},"Occupied by others",-1),uF=At("span",{class:"booking-info"},"Available",-1),cF={__name:"EventBooking",setup(e){const t=Ys(),n=Ra(),s=qu().params.id,i=Z(null),o=Z([]),a=Z(!1),u=Z(null),c=Z("");function d(L){c.value=L,u.value.openModal()}function f(){u.value.closeModal()}const g={totalSeats:50,rows:5,cellsInRow:10},m=k(()=>{var L,D;return((D=(L=t.currentUser)==null?void 0:L.bookedEvents.find(A=>A.eventID===s))==null?void 0:D.bookedSeats)||[]}),p=k(()=>i.value?Array.from({length:g.totalSeats},(L,D)=>{const A=D+1;return{number:A,isOccupied:i.value.occupiedSeats.includes(A)&&!m.value.includes(A),isOccupiedByUser:m.value.includes(A),isSelected:o.value.includes(A)}}):[]),_=k(()=>Array.from({length:g.rows},(L,D)=>D+1)),T=L=>{const D=(L-1)*g.cellsInRow,A=L*g.cellsInRow;return p.value.slice(D,A)},x=L=>t.isLoggedIn&&L.isSelected?"green":L.isOccupied?"orange":"white";function O(){a.value=!0}async function N(){if(!i.value)return;const L=i.value.occupiedSeats.filter(A=>!m.value.includes(A));L.push(...o.value),await n.setOccupiedSeatsByID(s,[...new Set(L)]),i.value.occupiedSeats=[...new Set(L)];const D={eventID:s,bookedSeats:o.value};t.setUserBookedEvent(s,D),a.value=!1,o.value.length||d("Забронировано: 0 мест. Бронирование отменено"),o.value.length&&d("Бронирование подтверждено!")}const M=L=>{if(!t.isLoggedIn){d("Пожалуйста, залогиньтесь, чтобы забронировать место.");return}if(L.isOccupied&&!L.isOccupiedByUser){d("Это место нельзя забронировать, оно уже забронировано другим пользователем");return}if(L.isSelected)o.value=o.value.filter(D=>D!==L.number);else{if(o.value.length>=4){d("Нельзя забронировать более 4 мест");return}o.value.push(L.number)}};return mn(async()=>{i.value=await n.getEventFromDB(s),a.value=!m.value.length}),Te(()=>[i.value],()=>{i.value&&(o.value=[...m.value])},{immediate:!0}),(L,D)=>{const A=wi("ModalDialog");return Oe(),En(Ue,null,[E(dn,{class:"booking-container mx-auto"},{default:re(()=>[E(dn,{class:"info-container mb-4"},{default:re(()=>[E(Fl,{class:Lo(["justify-center",{notEditable:!le(a)}])},{default:re(()=>[E(zr,{cols:"4",class:"text-center"},{default:re(()=>[E(xs,{color:"green",size:"24",class:"ma-2"}),aF]),_:1}),E(zr,{cols:"4",class:"text-center"},{default:re(()=>[E(xs,{color:"orange",size:"24",class:"ma-2"}),lF]),_:1}),E(zr,{cols:"4",class:"text-center"},{default:re(()=>[E(xs,{color:"white",size:"24",class:"ma-2"}),uF]),_:1})]),_:1},8,["class"])]),_:1}),E(dn,{class:Lo([{notEditable:!le(a)},"seats-container"])},{default:re(()=>[(Oe(!0),En(Ue,null,$o(le(_),y=>(Oe(),Ge(Fl,{key:y,class:"justify-space-between"},{default:re(()=>[(Oe(!0),En(Ue,null,$o(T(y),b=>(Oe(),En("div",{key:b.number,class:"seat"},[E(ft,{color:x(b),onClick:C=>M(b)},{default:re(()=>[Ze(_t(b.number),1)]),_:2},1032,["color","onClick"])]))),128))]),_:2},1024))),128))]),_:1},8,["class"]),le(t).isLoggedIn?(Oe(),Ge(dn,{key:0,class:"booking-btngroup"},{default:re(()=>[E(ft,{color:"primary",onClick:N,disabled:!le(a),style:{width:"110px"}},{default:re(()=>[Ze(" Confirm ")]),_:1},8,["disabled"]),E(ft,{color:"primary",onClick:O,disabled:le(a),style:{width:"110px"}},{default:re(()=>[Ze(" Edit ")]),_:1},8,["disabled"])]),_:1})):xn("",!0)]),_:1}),E(A,{ref_key:"modalRef",ref:u},{"modal-content":re(()=>[E(dn,{class:"text-center"},{default:re(()=>[E(Hr,{class:"text-h5"},{default:re(()=>[Ze(_t(le(c)),1)]),_:1}),E(ft,{onClick:f},{default:re(()=>[Ze("OK")]),_:1})]),_:1})]),_:1},512)],64)}}},dF={__name:"EventDetails",setup(e){const t=qu(),n=Ca(),r=Ra(),s=t.params.id,i=k(()=>r.events.find(a=>a.id===s)),o=()=>n.push({name:"home"});return mn(()=>{i.value||r.getEvents()}),(a,u)=>(Oe(),Ge(dn,{class:"event-container"},{default:re(()=>[E(oF,{event:le(i),onGoBack:o},null,8,["event"]),E(cF)]),_:1}))}},fF=[{path:"/",name:"home",component:jM,meta:{title:"Home",showInTabs:!0}},{path:"/favorites",name:"favorites",component:XM,meta:{title:"Favorites",requiresAuth:!0,showInTabs:!0}},{path:"/booking",name:"booking",component:zM,meta:{title:"Booking",requiresAuth:!0,showInTabs:!0}},{path:"/admin-panel",name:"admin-panel",component:YM,meta:{title:"Admin",requiresAuth:!0,requiresAdmin:!0,showInTabs:!1}},{path:"/event/:id",name:"event-details",component:dF,props:!0,meta:{title:"Event Details",showInTabs:!1}},{path:"/auth-required",name:"auth-required",component:zc,meta:{title:"Authorization Required",showInTabs:!1}},{path:"/admin-required",name:"admin-required",component:zc,meta:{title:"Authorization Required",showInTabs:!1}},{path:"/:catchAll(.*)",name:"not-found",component:zc,meta:{title:"404",showInTabs:!1}}],Ku=DL({history:lL("/Palmo-Edu/Sports-Events/"),routes:fF});Ku.beforeEach(async(e,t,n)=>{const r=Ys();if(e.meta.requiresAuth){if(r.isAuthReady||await new Promise(s=>{const i=Te(()=>r.isAuthReady,o=>{o&&(i(),s())})}),!r.isLoggedIn){n({name:"auth-required",query:{redirect:e.fullPath}});return}if(e.meta.requiresAdmin&&r.currentUser.role!=="admin"){n({name:"admin-required"});return}}n()});function hF(){return{nameRules:[r=>(r==null?void 0:r.length)>2&&(r==null?void 0:r.length)<15||"Name must be between 3 and 14 characters."],emailRules:[r=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r)||"Please enter a valid email address."],passwordRules:[r=>(r==null?void 0:r.length)>=6||"Password must be at least 6 characters."]}}const z0=Symbol.for("vuetify:form"),mF=J({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function gF(e){const t=Ot(e,"modelValue"),n=k(()=>e.disabled),r=k(()=>e.readonly),s=Ce(!1),i=Z([]),o=Z([]);async function a(){const d=[];let f=!0;o.value=[],s.value=!0;for(const g of i.value){const m=await g.validate();if(m.length>0&&(f=!1,d.push({id:g.id,errorMessages:m})),!f&&e.fastFail)break}return o.value=d,s.value=!1,{valid:f,errors:o.value}}function u(){i.value.forEach(d=>d.reset())}function c(){i.value.forEach(d=>d.resetValidation())}return Te(i,()=>{let d=0,f=0;const g=[];for(const m of i.value)m.isValid===!1?(f++,g.push({id:m.id,errorMessages:m.errorMessages})):m.isValid===!0&&d++;o.value=g,t.value=f>0?!1:d===i.value.length?!0:null},{deep:!0,flush:"post"}),wt(z0,{register:d=>{let{id:f,vm:g,validate:m,reset:p,resetValidation:_}=d;i.value.some(T=>T.id===f),i.value.push({id:f,validate:m,reset:p,resetValidation:_,vm:iu(g),isValid:null,errorMessages:[]})},unregister:d=>{i.value=i.value.filter(f=>f.id!==d)},update:(d,f,g)=>{const m=i.value.find(p=>p.id===d);m&&(m.isValid=f,m.errorMessages=g)},isDisabled:n,isReadonly:r,isValidating:s,isValid:t,items:i,validateOn:Ie(e,"validateOn")}),{errors:o,isDisabled:n,isReadonly:r,isValidating:s,isValid:t,items:i,validate:a,reset:u,resetValidation:c}}function vF(){return qe(z0,null)}const pF=J({...Fe(),...mF()},"VForm"),yF=be()({name:"VForm",props:pF(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=gF(e),i=Z();function o(u){u.preventDefault(),s.reset()}function a(u){const c=u,d=s.validate();c.then=d.then.bind(d),c.catch=d.catch.bind(d),c.finally=d.finally.bind(d),r("submit",c),c.defaultPrevented||d.then(f=>{var m;let{valid:g}=f;g&&((m=i.value)==null||m.submit())}),c.preventDefault()}return Re(()=>{var u;return E("form",{ref:i,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:o,onSubmit:a},[(u=n.default)==null?void 0:u.call(n,s)])}),Ui(s,i)}}),_F=J({color:String,...Er(),...Fe(),...Cn(),...us(),...Eu(),...Mf(),...An(),...ut(),...kt()},"VSheet"),bF=be()({name:"VSheet",props:_F(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Lt(e),{backgroundColorClasses:s,backgroundColorStyles:i}=Vn(Ie(e,"color")),{borderClasses:o}=as(e),{dimensionStyles:a}=Rn(e),{elevationClasses:u}=zs(e),{locationStyles:c}=wu(e),{positionClasses:d}=Ff(e),{roundedClasses:f}=Ln(e);return Re(()=>E(e.tag,{class:["v-sheet",r.value,s.value,o.value,u.value,d.value,f.value,e.class],style:[i.value,a.value,c.value,e.style]},n)),{}}}),EF=J({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Fe(),...Iu({transition:{component:bb}})},"VCounter"),wF=be()({name:"VCounter",functional:!0,props:EF(),setup(e,t){let{slots:n}=t;const r=k(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Re(()=>E(rr,{transition:e.transition},{default:()=>[Pt(E("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[os,e.active]])]})),{}}}),IF=J({text:String,onClick:In(),...Fe(),...kt()},"VLabel"),TF=be()({name:"VLabel",props:IF(),setup(e,t){let{slots:n}=t;return Re(()=>{var r;return E("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),SF=J({floating:Boolean,...Fe()},"VFieldLabel"),il=be()({name:"VFieldLabel",props:SF(),setup(e,t){let{slots:n}=t;return Re(()=>E(TF,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}});function q0(e){const{t}=xf();function n(r){let{name:s}=r;const i={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],o=e[`onClick:${s}`],a=o&&i?t(`$vuetify.input.${i}`,e.label??""):void 0;return E(St,{icon:e[`${s}Icon`],"aria-label":a,onClick:o},null)}return{InputIcon:n}}const W0=J({focused:Boolean,"onUpdate:focused":In()},"focus");function K0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn();const n=Ot(e,"focused"),r=k(()=>({[`${t}--focused`]:n.value}));function s(){n.value=!0}function i(){n.value=!1}return{focusClasses:r,isFocused:n,focus:s,blur:i}}const AF=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],G0=J({appendInnerIcon:rt,bgColor:String,clearable:Boolean,clearIcon:{type:rt,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:rt,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>AF.includes(e)},"onClick:clear":In(),"onClick:appendInner":In(),"onClick:prependInner":In(),...Fe(),...Nf(),...An(),...kt()},"VField"),Y0=be()({name:"VField",inheritAttrs:!1,props:{id:String,...W0(),...G0()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{themeClasses:i}=Lt(e),{loaderClasses:o}=Lf(e),{focusClasses:a,isFocused:u,focus:c,blur:d}=K0(e),{InputIcon:f}=q0(e),{roundedClasses:g}=Ln(e),{rtlClasses:m}=Sn(),p=k(()=>e.dirty||e.active),_=k(()=>!e.singleLine&&!!(e.label||s.label)),T=Qn(),x=k(()=>e.id||`input-${T}`),O=k(()=>`${x.value}-messages`),N=Z(),M=Z(),L=Z(),D=k(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:A,backgroundColorStyles:y}=Vn(Ie(e,"bgColor")),{textColorClasses:b,textColorStyles:C}=hr(k(()=>e.error||e.disabled?void 0:p.value&&u.value?e.color:e.baseColor));Te(p,z=>{if(_.value){const ce=N.value.$el,de=M.value.$el;requestAnimationFrame(()=>{const se=Af(ce),oe=de.getBoundingClientRect(),Be=oe.x-se.x,ae=oe.y-se.y-(se.height/2-oe.height/2),G=oe.width/.75,fe=Math.abs(G-se.width)>1?{maxWidth:ke(G)}:void 0,Le=getComputedStyle(ce),ht=getComputedStyle(de),ct=parseFloat(Le.transitionDuration)*1e3||150,Pe=parseFloat(ht.getPropertyValue("--v-field-label-scale")),U=ht.getPropertyValue("color");ce.style.visibility="visible",de.style.visibility="hidden",ws(ce,{transform:`translate(${Be}px, ${ae}px) scale(${Pe})`,color:U,...fe},{duration:ct,easing:qo,direction:z?"normal":"reverse"}).finished.then(()=>{ce.style.removeProperty("visibility"),de.style.removeProperty("visibility")})})}},{flush:"post"});const R=k(()=>({isActive:p,isFocused:u,controlRef:L,blur:d,focus:c}));function I(z){z.target!==document.activeElement&&z.preventDefault()}function w(z){var ce;z.key!=="Enter"&&z.key!==" "||(z.preventDefault(),z.stopPropagation(),(ce=e["onClick:clear"])==null||ce.call(e,new MouseEvent("click")))}return Re(()=>{var Be,ae,G;const z=e.variant==="outlined",ce=!!(s["prepend-inner"]||e.prependInnerIcon),de=!!(e.clearable||s.clear),se=!!(s["append-inner"]||e.appendInnerIcon||de),oe=()=>s.label?s.label({...R.value,label:e.label,props:{for:x.value}}):e.label;return E("div",Me({class:["v-field",{"v-field--active":p.value,"v-field--appended":se,"v-field--center-affix":e.centerAffix??!D.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":ce,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!oe(),[`v-field--variant-${e.variant}`]:!0},i.value,A.value,a.value,o.value,g.value,m.value,e.class],style:[y.value,e.style],onClick:I},n),[E("div",{class:"v-field__overlay"},null),E(nb,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:s.loader}),ce&&E("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&E(f,{key:"prepend-icon",name:"prependInner"},null),(Be=s["prepend-inner"])==null?void 0:Be.call(s,R.value)]),E("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&_.value&&E(il,{key:"floating-label",ref:M,class:[b.value],floating:!0,for:x.value,style:C.value},{default:()=>[oe()]}),E(il,{ref:N,for:x.value},{default:()=>[oe()]}),(ae=s.default)==null?void 0:ae.call(s,{...R.value,props:{id:x.value,class:"v-field__input","aria-describedby":O.value},focus:c,blur:d})]),de&&E(DR,{key:"clear"},{default:()=>[Pt(E("div",{class:"v-field__clearable",onMousedown:fe=>{fe.preventDefault(),fe.stopPropagation()}},[E(Dt,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[s.clear?s.clear({...R.value,props:{onKeydown:w,onFocus:c,onBlur:d,onClick:e["onClick:clear"]}}):E(f,{name:"clear",onKeydown:w,onFocus:c,onBlur:d},null)]})]),[[os,e.dirty]])]}),se&&E("div",{key:"append",class:"v-field__append-inner"},[(G=s["append-inner"])==null?void 0:G.call(s,R.value),e.appendInnerIcon&&E(f,{key:"append-icon",name:"appendInner"},null)]),E("div",{class:["v-field__outline",b.value],style:C.value},[z&&E(Ue,null,[E("div",{class:"v-field__outline__start"},null),_.value&&E("div",{class:"v-field__outline__notch"},[E(il,{ref:M,floating:!0,for:x.value},{default:()=>[oe()]})]),E("div",{class:"v-field__outline__end"},null)]),D.value&&_.value&&E(il,{ref:M,floating:!0,for:x.value},{default:()=>[oe()]})])])}),{controlRef:L}}});function CF(e){const t=Object.keys(Y0.props).filter(n=>!Tf(n)&&n!=="class"&&n!=="style");return w_(e,t)}const RF=J({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Fe(),...Iu({transition:{component:bb,leaveAbsolute:!0,group:!0}})},"VMessages"),PF=be()({name:"VMessages",props:RF(),setup(e,t){let{slots:n}=t;const r=k(()=>Rs(e.messages)),{textColorClasses:s,textColorStyles:i}=hr(k(()=>e.color));return Re(()=>E(rr,{transition:e.transition,tag:"div",class:["v-messages",s.value,e.class],style:[i.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&r.value.map((o,a)=>E("div",{class:"v-messages__message",key:`${a}-${r.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),kF=J({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...W0()},"validation");function xF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qn();const r=Ot(e,"modelValue"),s=k(()=>e.validationValue===void 0?r.value:e.validationValue),i=vF(),o=Z([]),a=Ce(!0),u=k(()=>!!(Rs(r.value===""?null:r.value).length||Rs(s.value===""?null:s.value).length)),c=k(()=>!!(e.disabled??(i==null?void 0:i.isDisabled.value))),d=k(()=>!!(e.readonly??(i==null?void 0:i.isReadonly.value))),f=k(()=>{var L;return(L=e.errorMessages)!=null&&L.length?Rs(e.errorMessages).concat(o.value).slice(0,Math.max(0,+e.maxErrors)):o.value}),g=k(()=>{let L=(e.validateOn??(i==null?void 0:i.validateOn.value))||"input";L==="lazy"&&(L="input lazy"),L==="eager"&&(L="input eager");const D=new Set((L==null?void 0:L.split(" "))??[]);return{input:D.has("input"),blur:D.has("blur")||D.has("input")||D.has("invalid-input"),invalidInput:D.has("invalid-input"),lazy:D.has("lazy"),eager:D.has("eager")}}),m=k(()=>{var L;return e.error||(L=e.errorMessages)!=null&&L.length?!1:e.rules.length?a.value?o.value.length||g.value.lazy?null:!0:!o.value.length:!0}),p=Ce(!1),_=k(()=>({[`${t}--error`]:m.value===!1,[`${t}--dirty`]:u.value,[`${t}--disabled`]:c.value,[`${t}--readonly`]:d.value})),T=It("validation"),x=k(()=>e.name??le(n));ff(()=>{i==null||i.register({id:x.value,vm:T,validate:M,reset:O,resetValidation:N})}),on(()=>{i==null||i.unregister(x.value)}),mn(async()=>{g.value.lazy||await M(!g.value.eager),i==null||i.update(x.value,m.value,f.value)}),Ds(()=>g.value.input||g.value.invalidInput&&m.value===!1,()=>{Te(s,()=>{if(s.value!=null)M();else if(e.focused){const L=Te(()=>e.focused,D=>{D||M(),L()})}})}),Ds(()=>g.value.blur,()=>{Te(()=>e.focused,L=>{L||M()})}),Te([m,f],()=>{i==null||i.update(x.value,m.value,f.value)});async function O(){r.value=null,await Nt(),await N()}async function N(){a.value=!0,g.value.lazy?o.value=[]:await M(!g.value.eager)}async function M(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const D=[];p.value=!0;for(const A of e.rules){if(D.length>=+(e.maxErrors??1))break;const b=await(typeof A=="function"?A:()=>A)(s.value);if(b!==!0){if(b!==!1&&typeof b!="string"){console.warn(`${b} is not a valid value. Rule functions must return boolean true or a string.`);continue}D.push(b||"")}}return o.value=D,p.value=!1,a.value=L,o.value}return{errorMessages:f,isDirty:u,isDisabled:c,isReadonly:d,isPristine:a,isValid:m,isValidating:p,reset:O,resetValidation:N,validate:M,validationClasses:_}}const Q0=J({id:String,appendIcon:rt,centerAffix:{type:Boolean,default:!0},prependIcon:rt,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":In(),"onClick:append":In(),...Fe(),...Xn(),...XS(Cn(),["maxWidth","minWidth","width"]),...kt(),...kF()},"VInput"),Jp=be()({name:"VInput",props:{...Q0()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:s}=t;const{densityClasses:i}=ls(e),{dimensionStyles:o}=Rn(e),{themeClasses:a}=Lt(e),{rtlClasses:u}=Sn(),{InputIcon:c}=q0(e),d=Qn(),f=k(()=>e.id||`input-${d}`),g=k(()=>`${f.value}-messages`),{errorMessages:m,isDirty:p,isDisabled:_,isReadonly:T,isPristine:x,isValid:O,isValidating:N,reset:M,resetValidation:L,validate:D,validationClasses:A}=xF(e,"v-input",f),y=k(()=>({id:f,messagesId:g,isDirty:p,isDisabled:_,isReadonly:T,isPristine:x,isValid:O,isValidating:N,reset:M,resetValidation:L,validate:D})),b=k(()=>{var C;return(C=e.errorMessages)!=null&&C.length||!x.value&&m.value.length?m.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return Re(()=>{var z,ce,de,se;const C=!!(r.prepend||e.prependIcon),R=!!(r.append||e.appendIcon),I=b.value.length>0,w=!e.hideDetails||e.hideDetails==="auto"&&(I||!!r.details);return E("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},i.value,a.value,u.value,A.value,e.class],style:[o.value,e.style]},[C&&E("div",{key:"prepend",class:"v-input__prepend"},[(z=r.prepend)==null?void 0:z.call(r,y.value),e.prependIcon&&E(c,{key:"prepend-icon",name:"prepend"},null)]),r.default&&E("div",{class:"v-input__control"},[(ce=r.default)==null?void 0:ce.call(r,y.value)]),R&&E("div",{key:"append",class:"v-input__append"},[e.appendIcon&&E(c,{key:"append-icon",name:"append"},null),(de=r.append)==null?void 0:de.call(r,y.value)]),w&&E("div",{class:"v-input__details"},[E(PF,{id:g.value,active:I,messages:b.value},{message:r.message}),(se=r.details)==null?void 0:se.call(r,y.value)])])}),{reset:M,resetValidation:L,validate:D,isValid:O,errorMessages:m}}}),VF=["color","file","time","date","datetime-local","week","month"],OF=J({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Q0(),...G0()},"VTextField"),qc=be()({name:"VTextField",directives:{Intersect:vb},inheritAttrs:!1,props:OF(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const i=Ot(e,"modelValue"),{isFocused:o,focus:a,blur:u}=K0(e),c=k(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:(i.value??"").toString().length),d=k(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),f=k(()=>["plain","underlined"].includes(e.variant));function g(D,A){var y,b;!e.autofocus||!D||(b=(y=A[0].target)==null?void 0:y.focus)==null||b.call(y)}const m=Z(),p=Z(),_=Z(),T=k(()=>VF.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function x(){var D;_.value!==document.activeElement&&((D=_.value)==null||D.focus()),o.value||a()}function O(D){r("mousedown:control",D),D.target!==_.value&&(x(),D.preventDefault())}function N(D){x(),r("click:control",D)}function M(D){D.stopPropagation(),x(),Nt(()=>{i.value=null,tA(e["onClick:clear"],D)})}function L(D){var y;const A=D.target;if(i.value=A.value,(y=e.modelModifiers)!=null&&y.trim&&["text","search","password","tel","url"].includes(e.type)){const b=[A.selectionStart,A.selectionEnd];Nt(()=>{A.selectionStart=b[0],A.selectionEnd=b[1]})}}return Re(()=>{const D=!!(s.counter||e.counter!==!1&&e.counter!=null),A=!!(D||s.details),[y,b]=ZS(n),{modelValue:C,...R}=Jp.filterProps(e),I=CF(e);return E(Jp,Me({ref:m,modelValue:i.value,"onUpdate:modelValue":w=>i.value=w,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":f.value},e.class],style:e.style},y,R,{centerAffix:!f.value,focused:o.value}),{...s,default:w=>{let{id:z,isDisabled:ce,isDirty:de,isReadonly:se,isValid:oe}=w;return E(Y0,Me({ref:p,onMousedown:O,onClick:N,"onClick:clear":M,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},I,{id:z.value,active:T.value||de.value,dirty:de.value||e.dirty,disabled:ce.value,focused:o.value,error:oe.value===!1}),{...s,default:Be=>{let{props:{class:ae,...G}}=Be;const fe=Pt(E("input",Me({ref:_,value:i.value,onInput:L,autofocus:e.autofocus,readonly:se.value,disabled:ce.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:x,onBlur:u},G,b),null),[[Kn("intersect"),{handler:g},null,{once:!0}]]);return E(Ue,null,[e.prefix&&E("span",{class:"v-text-field__prefix"},[E("span",{class:"v-text-field__prefix__text"},[e.prefix])]),s.default?E("div",{class:ae,"data-no-activator":""},[s.default(),fe]):dr(fe,{class:ae}),e.suffix&&E("span",{class:"v-text-field__suffix"},[E("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:A?w=>{var z;return E(Ue,null,[(z=s.details)==null?void 0:z.call(s,w),D&&E(Ue,null,[E("span",null,null),E(wF,{active:e.persistentCounter||o.value,value:c.value,max:d.value,disabled:e.disabled},s.counter)])])}:void 0})}),Ui({},m,p,_)}}),DF={__name:"AuthForm",props:{currentSubmitMethod:{type:Function,required:!0},formTitle:{type:String,required:!1,default:"Form"},authType:{type:String,required:!0}},emits:["update:isLoading"],setup(e,{emit:t}){const{currentSubmitMethod:n}=e,r=t,s=Z(""),i=Z(""),o=Z(""),a=Z(null),{emailRules:u,passwordRules:c,nameRules:d}=hF(),g=qu().query.redirect||{name:"home"};async function m(){const{valid:p}=await a.value.validate();if(p){r("update:isLoading",!0);try{await n(i.value,o.value,s.value),Ku.push(g)}catch(_){console.error("Error during submission:",_)}r("update:isLoading",!1)}}return(p,_)=>{const T=Kn("focus");return Oe(),Ge(bF,{class:"mx-auto",width:"300"},{default:re(()=>[E(yF,{ref_key:"form",ref:a,"fast-fail":"",onSubmit:zS(m,["prevent"])},{default:re(()=>[e.formTitle?(Oe(),Ge(Yo,{key:0,class:"text-center"},{default:re(()=>[Ze(_t(e.formTitle),1)]),_:1})):xn("",!0),e.authType==="signup"?Pt((Oe(),Ge(qc,{key:1,modelValue:le(s),"onUpdate:modelValue":_[0]||(_[0]=x=>Xe(s)?s.value=x:null),modelModifiers:{trim:!0},rules:le(d),label:"Name",type:"text",autocomplete:"name"},null,8,["modelValue","rules"])),[[T,e.authType==="signup"]]):xn("",!0),Pt(E(qc,{modelValue:le(i),"onUpdate:modelValue":_[1]||(_[1]=x=>Xe(i)?i.value=x:null),modelModifiers:{trim:!0},rules:le(u),label:"Email",type:"email",autocomplete:"email"},null,8,["modelValue","rules"]),[[T,e.authType==="login"]]),E(qc,{modelValue:le(o),"onUpdate:modelValue":_[2]||(_[2]=x=>Xe(o)?o.value=x:null),modelModifiers:{trim:!0},rules:le(c),label:"Password",type:"password",autocomplete:"current-password"},null,8,["modelValue","rules"]),E(ft,{class:"mt-2",type:"submit",block:""},{default:re(()=>[Ze("Submit")]),_:1})]),_:1},512)]),_:1})}}},NF={class:"text-h4 text-center"},LF={__name:"AuthResultMessage",props:{closeModal:Function},setup(e){const t=e,n=Ys(),r=k(()=>n.isLoggedIn?"success":"error"),s=()=>{n.isLoggedIn&&t.closeModal(),n.setAuthResult("")};return(i,o)=>{const a=Kn("focus");return Oe(),Ge(dn,{class:"d-flex flex-column ga-5 justify-center align-center",height:"200px"},{default:re(()=>[At("p",NF,_t(le(n).authResultMessage),1),Pt(E(ft,{text:"OK",color:le(r),onClick:s},null,8,["color"]),[[a]])]),_:1})}}},MF=J({text:String,...Fe(),...ut()},"VToolbarTitle"),X0=be()({name:"VToolbarTitle",props:MF(),setup(e,t){let{slots:n}=t;return Re(()=>{const r=!!(n.default||n.text||e.text);return E(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var s;return[r&&E("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),FF=[null,"prominent","default","comfortable","compact"],J0=J({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>FF.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Er(),...Fe(),...us(),...An(),...ut({tag:"header"}),...kt()},"VToolbar"),Zp=be()({name:"VToolbar",props:J0(),setup(e,t){var m;let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=Vn(Ie(e,"color")),{borderClasses:i}=as(e),{elevationClasses:o}=zs(e),{roundedClasses:a}=Ln(e),{themeClasses:u}=Lt(e),{rtlClasses:c}=Sn(),d=Ce(!!(e.extended||(m=n.extension)!=null&&m.call(n))),f=k(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),g=k(()=>d.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Zr({VBtn:{variant:"text"}}),Re(()=>{var x;const p=!!(e.title||n.title),_=!!(n.image||e.image),T=(x=n.extension)==null?void 0:x.call(n);return d.value=!!(e.extended||T),E(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,i.value,o.value,a.value,u.value,c.value,e.class],style:[s.value,e.style]},{default:()=>[_&&E("div",{key:"image",class:"v-toolbar__image"},[n.image?E(Dt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):E(Tu,{key:"image-img",cover:!0,src:e.image},null)]),E(Dt,{defaults:{VTabs:{height:ke(f.value)}}},{default:()=>{var O,N,M;return[E("div",{class:"v-toolbar__content",style:{height:ke(f.value)}},[n.prepend&&E("div",{class:"v-toolbar__prepend"},[(O=n.prepend)==null?void 0:O.call(n)]),p&&E(X0,{key:"title",text:e.title},{text:n.title}),(N=n.default)==null?void 0:N.call(n),n.append&&E("div",{class:"v-toolbar__append"},[(M=n.append)==null?void 0:M.call(n)])])]}}),E(Dt,{defaults:{VTabs:{height:ke(g.value)}}},{default:()=>[E(Eb,null,{default:()=>[d.value&&E("div",{class:"v-toolbar__extension",style:{height:ke(g.value)}},[T])]})]})]})}),{contentHeight:f,extensionHeight:g}}}),BF=J({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function UF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let r=0,s=0;const i=Z(null),o=Ce(0),a=Ce(0),u=Ce(0),c=Ce(!1),d=Ce(!1),f=k(()=>Number(e.scrollThreshold)),g=k(()=>Ns((f.value-o.value)/f.value||0)),m=()=>{const p=i.value;if(!p||n&&!n.value)return;r=o.value,o.value="window"in p?p.pageYOffset:p.scrollTop;const _=p instanceof Window?document.documentElement.scrollHeight:p.scrollHeight;if(s!==_){s=_;return}d.value=o.value<r,u.value=Math.abs(o.value-f.value)};return Te(d,()=>{a.value=a.value||o.value}),Te(c,()=>{a.value=0}),mn(()=>{Te(()=>e.scrollTarget,p=>{var T;const _=p?document.querySelector(p):window;_&&_!==i.value&&((T=i.value)==null||T.removeEventListener("scroll",m),i.value=_,i.value.addEventListener("scroll",m,{passive:!0}))},{immediate:!0})}),on(()=>{var p;(p=i.value)==null||p.removeEventListener("scroll",m)}),n&&Te(n,m,{immediate:!0}),{scrollThreshold:f,currentScroll:o,currentThreshold:u,isScrollActive:c,scrollRatio:g,isScrollingUp:d,savedScroll:a}}const $F=J({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...J0(),...KC(),...BF(),height:{type:[Number,String],default:64}},"VAppBar"),jF=be()({name:"VAppBar",props:$F(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Z(),s=Ot(e,"modelValue"),i=k(()=>{var N;const O=new Set(((N=e.scrollBehavior)==null?void 0:N.split(" "))??[]);return{hide:O.has("hide"),fullyHide:O.has("fully-hide"),inverted:O.has("inverted"),collapse:O.has("collapse"),elevate:O.has("elevate"),fadeImage:O.has("fade-image")}}),o=k(()=>{const O=i.value;return O.hide||O.fullyHide||O.inverted||O.collapse||O.elevate||O.fadeImage||!s.value}),{currentScroll:a,scrollThreshold:u,isScrollingUp:c,scrollRatio:d}=UF(e,{canScroll:o}),f=k(()=>i.value.hide||i.value.fullyHide),g=k(()=>e.collapse||i.value.collapse&&(i.value.inverted?d.value>0:d.value===0)),m=k(()=>e.flat||i.value.fullyHide&&!s.value||i.value.elevate&&(i.value.inverted?a.value>0:a.value===0)),p=k(()=>i.value.fadeImage?i.value.inverted?1-d.value:d.value:void 0),_=k(()=>{var M,L;if(i.value.hide&&i.value.inverted)return 0;const O=((M=r.value)==null?void 0:M.contentHeight)??0,N=((L=r.value)==null?void 0:L.extensionHeight)??0;return f.value?a.value<u.value||i.value.fullyHide?O+N:O:O+N});Ds(k(()=>!!e.scrollBehavior),()=>{br(()=>{f.value?i.value.inverted?s.value=a.value>u.value:s.value=c.value||a.value<u.value:s.value=!0})});const{ssrBootStyles:T}=Wu(),{layoutItemStyles:x}=YC({id:e.name,order:k(()=>parseInt(e.order,10)),position:Ie(e,"location"),layoutSize:_,elementSize:Ce(void 0),active:s,absolute:Ie(e,"absolute")});return Re(()=>{const O=Zp.filterProps(e);return E(Zp,Me({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...x.value,"--v-toolbar-image-opacity":p.value,height:void 0,...T.value},e.style]},O,{collapse:g.value,flat:m.value}),n)}),{}}}),HF={__name:"HeaderApp",setup(e){const t=Ys(),n=Ca(),r=k(()=>n.options.routes.filter(m=>{var p,_,T;return((p=m.meta)==null?void 0:p.showInTabs)||((_=m.meta)==null?void 0:_.requiresAdmin)&&((T=t.currentUser)==null?void 0:T.role)==="admin"}).map(m=>{var p;return{...m,text:(p=m.meta)==null?void 0:p.title}})),s=m=>n.push({name:m.name}),i=k(()=>t.isLoggedIn?[{text:"Logout",action:"logout"}]:[{text:"Login",action:"login"},{text:"SignUp",action:"signup"}]),o=Z(null),a=Z(""),u=Z(!1),c=Z(""),d=Z(null),f=()=>{var m;return(m=d.value)==null?void 0:m.closeModal()},g=m=>{c.value=m.action,m.action==="login"&&(o.value=t.login,a.value="LogIn Form",d.value.openModal()),m.action==="signup"&&(o.value=t.signup,a.value="SignUp Form",d.value.openModal()),m.action==="logout"&&t.logout(),t.setAuthResult("")};return(m,p)=>{const _=wi("ModalDialog");return Oe(),En(Ue,null,[E(jF,{class:"app-header",color:"primary",prominent:""},{default:re(()=>[m.$vuetify.display.mdAndUp?(Oe(),Ge(X0,{key:0},{default:re(()=>[Ze(" Sports Events App ")]),_:1})):xn("",!0),m.$vuetify.display.mdAndUp?(Oe(),Ge(nM,{key:1,tabs:le(r)},null,8,["tabs"])):xn("",!0),m.$vuetify.display.smAndDown?(Oe(),Ge(Kd,{key:2,items:le(r),onItemClick:s},null,8,["items"])):xn("",!0),E(Bb),E(Kd,{items:le(i),onItemClick:g},{menuActivator:re(({props:T})=>{var x;return[At("span",null,_t(((x=le(t).currentUser)==null?void 0:x.name)||""),1),E(ft,Me({icon:"mdi-account",variant:"text"},T),null,16)]}),_:1},8,["items"])]),_:1}),E(_,{ref_key:"modalRef",ref:d},{"modal-content":re(()=>[E(Ub,{isLoading:le(u)},null,8,["isLoading"]),le(t).authResultMessage&&!le(u)?(Oe(),Ge(LF,{key:0,closeModal:f})):Pt((Oe(),Ge(DF,{key:1,currentSubmitMethod:le(o),"form-title":le(a),authType:le(c),isLoading:le(u),"onUpdate:isLoading":p[0]||(p[0]=T=>Xe(u)?u.value=T:null)},null,8,["currentSubmitMethod","form-title","authType","isLoading"])),[[os,!le(u)&&!le(t).isLoggedIn]])]),_:1},512)],64)}}},zF=J({...Fe(),...Cn(),...WC()},"VLayout"),qF=be()({name:"VLayout",props:zF(),setup(e,t){let{slots:n}=t;const{layoutClasses:r,layoutStyles:s,getLayoutItem:i,items:o,layoutRef:a}=XC(e),{dimensionStyles:u}=Rn(e);return Re(()=>{var c;return E("div",{ref:a,class:[r.value,e.class],style:[u.value,s.value,e.style]},[(c=n.default)==null?void 0:c.call(n)])}),{getLayoutItem:i,items:o}}}),WF=J({scrollable:Boolean,...Fe(),...Cn(),...ut({tag:"main"})},"VMain"),KF=be()({name:"VMain",props:WF(),setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=Rn(e),{mainStyles:s}=GC(),{ssrBootStyles:i}=Wu();return Re(()=>E(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[s.value,i.value,r.value,e.style]},{default:()=>{var o,a;return[e.scrollable?E("div",{class:"v-main__scroller"},[(o=n.default)==null?void 0:o.call(n)]):(a=n.default)==null?void 0:a.call(n)]}})),{}}}),GF={__name:"App",setup(e){const t=Ys();return(n,r)=>{const s=wi("LoaderSpinner"),i=wi("RouterView");return Oe(),Ge(qF,null,{default:re(()=>[E(HF),E(KF,null,{default:re(()=>[E(s,{"is-loading":!le(t).isAuthReady,color:"white",size:70},null,8,["is-loading"]),le(t).isAuthReady?(Oe(),Ge(i,{key:0})):xn("",!0)]),_:1})]),_:1})}}},YF=K_({icons:{defaultSet:"mdi",iconfont:"mdi"}}),$h=KS(GF);$h.use(YF).use(AN()).use(Ku).component("ModalDialog",lP).component("LoaderSpinner",Ub);tR.forEach(e=>{$h.directive(e.name,e)});$h.mount("#app");
